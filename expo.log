+ exec gosu vibecode node node_modules/.bin/expo start --localhost
env: load .env
env: export EXPO_PUBLIC_VIBECODE_OPENAI_API_KEY EXPO_PUBLIC_VIBECODE_ANTHROPIC_API_KEY EXPO_PUBLIC_VIBECODE_GROK_API_KEY EXPO_PUBLIC_VIBECODE_GOOGLE_API_KEY EXPO_PUBLIC_VIBECODE_ELEVENLABS_API_KEY EXPO_PUBLIC_VIBECODE_FIREBASE_SERVER_KEY
Starting project at /home/user/workspace
Starting Metro Bundler
Waiting on http://localhost:8081
Logs for your project will appear below.
iOS ./index.ts ░░░░░░░░░░░░░░░░  0.0% (0/1)
iOS ./index.ts ▓░░░░░░░░░░░░░░░  9.0% ( 35/175)
iOS ./index.ts ▓▓▓▓░░░░░░░░░░░░ 25.8% (316/650)
iOS ./index.ts ▓▓▓▓▓░░░░░░░░░░░ 31.7% (453/804)
iOS ./index.ts ▓▓▓▓▓▓▓▓░░░░░░░░ 55.2% ( 787/1059)
iOS ./index.ts ▓▓▓▓▓▓▓▓▓▓▓▓░░░░ 75.2% (1039/1198)
iOS ./index.ts ▓▓▓▓▓▓▓▓▓▓▓▓▓▓░░ 92.1% (1317/1374)
iOS Bundled 24291ms index.ts (1472 modules)
 LOG  🔧 Firestore debug logging enabled
 ERROR  i18next::pluralResolver: Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.
 LOG  [index] Project ID is:  6d6cd6da-7505-42d7-91fd-2928c6600b00
 LOG  🚀 Initializing Firebase notifications for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🚀 Initializing Firebase Web notification service...
 LOG  📱 Mobile platform - using mock token for testing
 LOG  📱 Mock FCM Token (for testing): mock_fcm_token_1759997030248_tv3eccrzd
 LOG  🔐 Getting auth headers...
 LOG  ⏳ Waiting for authentication to be ready...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Authentication is ready
 LOG  🔑 Getting current ID token...
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Dashboard: Loading all data from Firestore...
 LOG  🔄 Refreshing apartment members...
 LOG  🔄 Dashboard: Refreshing data on focus...
 LOG  🔄 Getting cleaning stats...
 LOG  🏠 MainTabs: Loading apartment data for 4i3rGppoguIkOfcu86HK
 LOG  🔄 Refreshing apartment members...
 LOG  🔄 loadCleaningChecklist already in progress, skipping...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  🔍 Token info: {"algorithm": "RS256", "email": "abc@gmail.com", "expiresAt": "2025-10-09T09:01:25.000Z", "issuedAt": "2025-10-09T08:01:25.000Z", "type": "JWT", "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  ✅ Token project verified: roomies-hub
 LOG  ✅ Auth headers prepared successfully
 LOG  🔍 PATCH request details: {"body": "{
  \"fields\": {
    \"fcm_token\": {
      \"stringValue\": \"mock_fcm_token_1759997030248_tv3eccrzd\"
    },
    \"device_type\": {
      \"stringValue\": \"ios\"
    },
    \"last_seen\": {
      \"stringValue\": \"2025-10-09T08:03:50.248Z\"
    }
  }
}", "updateMaskFields": ["fcm_token", "device_type", "last_seen"], "url": "https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13?updateMask.fieldPaths=fcm_token&updateMask.fieldPaths=device_type&updateMask.fieldPaths=last_seen"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  🔄 No current session, attempting to restore...
 LOG  Attempting to restore user session...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  🔄 No current session, attempting to restore...
 LOG  Attempting to restore user session...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  🔄 No current session, attempting to restore...
 LOG  Attempting to restore user session...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  🔄 No current session, attempting to restore...
 LOG  Attempting to restore user session...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  🔄 No current session, attempting to restore...
 LOG  Attempting to restore user session...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  🔄 No current session, attempting to restore...
 LOG  Attempting to restore user session...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  🔄 No current session, attempting to restore...
 LOG  Attempting to restore user session...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  🔄 No current session, attempting to restore...
 LOG  Attempting to restore user session...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  🔄 No current session, attempting to restore...
 LOG  Attempting to restore user session...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  🔄 No current session, attempting to restore...
 LOG  Attempting to restore user session...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  Session restoration check: {"hasIdToken": true, "hasUserEmail": true, "hasUserId": true}
 LOG  Session restoration check: {"hasIdToken": true, "hasUserEmail": true, "hasUserId": true}
 LOG  Session restoration check: {"hasIdToken": true, "hasUserEmail": true, "hasUserId": true}
 LOG  Session restoration check: {"hasIdToken": true, "hasUserEmail": true, "hasUserId": true}
 LOG  Session restoration check: {"hasIdToken": true, "hasUserEmail": true, "hasUserId": true}
 LOG  Session restoration check: {"hasIdToken": true, "hasUserEmail": true, "hasUserId": true}
 LOG  Session restoration check: {"hasIdToken": true, "hasUserEmail": true, "hasUserId": true}
 LOG  Session restoration check: {"hasIdToken": true, "hasUserEmail": true, "hasUserId": true}
 LOG  Session restoration check: {"hasIdToken": true, "hasUserEmail": true, "hasUserId": true}
 LOG  Session restoration check: {"hasIdToken": true, "hasUserEmail": true, "hasUserId": true}
 LOG  User session restored successfully
 LOG  🔑 Getting current ID token...
 LOG  User session restored successfully
 LOG  🔑 Getting current ID token...
 LOG  User session restored successfully
 LOG  🔑 Getting current ID token...
 LOG  User session restored successfully
 LOG  🔑 Getting current ID token...
 LOG  User session restored successfully
 LOG  🔑 Getting current ID token...
 LOG  User session restored successfully
 LOG  🔑 Getting current ID token...
 LOG  User session restored successfully
 LOG  🔑 Getting current ID token...
 LOG  User session restored successfully
 LOG  🔑 Getting current ID token...
 LOG  User session restored successfully
 LOG  🔑 Getting current ID token...
 LOG  User session restored successfully
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session restored: {"tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🏠 Getting complete apartment data for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔍 Getting reliable apartment ID for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session restored: {"tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session restored: {"tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session restored: {"tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session restored: {"tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session restored: {"tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🏠 Getting complete apartment data for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔍 Getting reliable apartment ID for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session restored: {"tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session restored: {"tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session restored: {"tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session restored: {"tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Checking user profile for current_apartment_id...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Checking user profile for current_apartment_id...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  🔧 Ensuring current_apartment_id before getting apartment data...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  🔧 Ensuring current_apartment_id before getting apartment data...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ FCM token saved to Firestore
 LOG  📱 Mobile platform - notification listeners not available in Expo Go
 LOG  ✅ Firebase Web notification service initialized successfully
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  📖 Getting document: apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Getting auth headers...
 LOG  ⏳ Waiting for authentication to be ready...
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  📖 Getting document: apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Getting auth headers...
 LOG  ⏳ Waiting for authentication to be ready...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Authentication is ready
 LOG  🔍 Token info: {"algorithm": "RS256", "email": "abc@gmail.com", "expiresAt": "2025-10-09T09:01:25.000Z", "issuedAt": "2025-10-09T08:01:25.000Z", "type": "JWT", "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  ✅ Token project verified: roomies-hub
 LOG  ✅ Auth headers prepared successfully
 LOG  🌐 Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Authentication is ready
 LOG  🔍 Token info: {"algorithm": "RS256", "email": "abc@gmail.com", "expiresAt": "2025-10-09T09:01:25.000Z", "issuedAt": "2025-10-09T08:01:25.000Z", "type": "JWT", "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  ✅ Token project verified: roomies-hub
 LOG  ✅ Auth headers prepared successfully
 LOG  🌐 Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  📊 Response status: 200 ()
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Document retrieved successfully
 LOG  👥 Getting apartment members with profiles for: 4i3rGppoguIkOfcu86HK
 LOG  👥 Getting apartment members for: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  📊 Response status: 200 ()
 LOG  ✅ Document retrieved successfully
 LOG  👥 Getting apartment members with profiles for: 4i3rGppoguIkOfcu86HK
 LOG  👥 Getting apartment members for: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  🔧 Ensuring current_apartment_id before query...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  🔧 Ensuring current_apartment_id before query...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID for query: 4i3rGppoguIkOfcu86HK
 LOG  📋 Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  📝 Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "4i3rGppoguIkOfcu86HK"
        }
      }
    }
  }
}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID for query: 4i3rGppoguIkOfcu86HK
 LOG  📋 Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  📝 Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "4i3rGppoguIkOfcu86HK"
        }
      }
    }
  }
}
 LOG  📊 Members query response: 200 ()
 LOG  📋 Raw query results: [{"document": {"createTime": "2025-10-05T04:03:11.945061Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-05T04:03:11.945061Z"}, "readTime": "2025-10-09T08:03:54.813134Z"}]
 LOG  ✅ Found members: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  📋 Found memberships: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👤 Unique user IDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  👤 Getting user profiles for UIDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  📝 Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13"
  ]
}
 LOG  📊 Members query response: 200 ()
 LOG  📊 Batch get response: 200 ()
 LOG  📋 Raw query results: [{"document": {"createTime": "2025-10-05T04:03:11.945061Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-05T04:03:11.945061Z"}, "readTime": "2025-10-09T08:03:55.537739Z"}]
 LOG  ✅ Found members: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  📋 Found memberships: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👤 Unique user IDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  👤 Getting user profiles for UIDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  🔑 Getting current ID token...
 LOG  📋 Raw batch get results: [{"found": {"createTime": "2025-10-05T04:02:33.895822Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-09T08:03:51.465727Z"}, "readTime": "2025-10-09T08:03:51.465727Z"}]
 LOG  👤 User profile for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test"}
 LOG  ✅ User profiles loaded: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  📋 User profiles loaded: {"3Or6WAVPWOXBTokum8nqQiB0fx13": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}}
 LOG  ✅ Members with profiles: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "profile": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}, "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👥 Member data for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"email": "abc@gmail.com", "name": "Last Test", "profileEmail": "abc@gmail.com"}
 LOG  ✅ Complete apartment data: {"description": "", "id": "4i3rGppoguIkOfcu86HK", "invite_code": "I2MWYL", "members": [{"current_apartment_id": "4i3rGppoguIkOfcu86HK", "display_name": "Last Test", "email": "abc@gmail.com", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": "Last Test", "role": "member"}], "name": "דיר"}
 LOG  ✅ Got complete apartment data: {"id": "4i3rGppoguIkOfcu86HK", "memberCount": 1, "name": "דיר"}
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ MainTabs: Apartment data loaded successfully
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  📝 Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13"
  ]
}
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🧪 checklist query ctx {"aptId": "4i3rGppoguIkOfcu86HK", "current": "4i3rGppoguIkOfcu86HK", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  📊 Batch get response: 200 ()
 LOG  🔍 Turn check debug: {"currentTurnUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "currentUserExists": true, "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "isMyTurn": true, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Additional data loaded successfully
 LOG  📋 Raw batch get results: [{"found": {"createTime": "2025-10-05T04:02:33.895822Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-09T08:03:51.465727Z"}, "readTime": "2025-10-09T08:03:56.383394Z"}]
 LOG  👤 User profile for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test"}
 LOG  ✅ User profiles loaded: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  📋 User profiles loaded: {"3Or6WAVPWOXBTokum8nqQiB0fx13": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}}
 LOG  ✅ Members with profiles: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "profile": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}, "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👥 Member data for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"email": "abc@gmail.com", "name": "Last Test", "profileEmail": "abc@gmail.com"}
 LOG  ✅ Complete apartment data: {"description": "", "id": "4i3rGppoguIkOfcu86HK", "invite_code": "I2MWYL", "members": [{"current_apartment_id": "4i3rGppoguIkOfcu86HK", "display_name": "Last Test", "email": "abc@gmail.com", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": "Last Test", "role": "member"}], "name": "דיר"}
 LOG  ✅ Got complete apartment data: {"id": "4i3rGppoguIkOfcu86HK", "memberCount": 1, "name": "דיר"}
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Backfilling cleaning stats from existing data...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 No existing cleaning data found, initializing with 0
 LOG  ⚠️ Skipping stats creation - no user data available
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Essential data loaded successfully
 LOG  🔄 Settings: Refreshing apartment members on mount
 LOG  🔄 Refreshing apartment members...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 55 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🏠 Getting complete apartment data for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔍 Getting reliable apartment ID for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 55 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 55 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Checking user profile for current_apartment_id...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 55 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  🔧 Ensuring current_apartment_id before getting apartment data...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 55 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 55 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  📖 Getting document: apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Getting auth headers...
 LOG  ⏳ Waiting for authentication to be ready...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 55 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Authentication is ready
 LOG  🔍 Token info: {"algorithm": "RS256", "email": "abc@gmail.com", "expiresAt": "2025-10-09T09:01:25.000Z", "issuedAt": "2025-10-09T08:01:25.000Z", "type": "JWT", "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  ✅ Token project verified: roomies-hub
 LOG  ✅ Auth headers prepared successfully
 LOG  🌐 Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 55 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📊 Response status: 200 ()
 LOG  ✅ Document retrieved successfully
 LOG  👥 Getting apartment members with profiles for: 4i3rGppoguIkOfcu86HK
 LOG  👥 Getting apartment members for: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 55 minutes
 LOG  ✅ ID token is valid
 LOG  🔧 Ensuring current_apartment_id before query...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 55 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID for query: 4i3rGppoguIkOfcu86HK
 LOG  📋 Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  📝 Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "4i3rGppoguIkOfcu86HK"
        }
      }
    }
  }
}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 Members query response: 200 ()
 LOG  📋 Raw query results: [{"document": {"createTime": "2025-10-05T04:03:11.945061Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-05T04:03:11.945061Z"}, "readTime": "2025-10-09T08:05:48.688656Z"}]
 LOG  ✅ Found members: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  📋 Found memberships: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👤 Unique user IDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  👤 Getting user profiles for UIDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 55 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  📝 Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13"
  ]
}
 LOG  📊 Batch get response: 200 ()
 LOG  📋 Raw batch get results: [{"found": {"createTime": "2025-10-05T04:02:33.895822Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-09T08:03:51.465727Z"}, "readTime": "2025-10-09T08:05:49.425524Z"}]
 LOG  👤 User profile for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test"}
 LOG  ✅ User profiles loaded: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  📋 User profiles loaded: {"3Or6WAVPWOXBTokum8nqQiB0fx13": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}}
 LOG  ✅ Members with profiles: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "profile": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}, "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👥 Member data for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"email": "abc@gmail.com", "name": "Last Test", "profileEmail": "abc@gmail.com"}
 LOG  ✅ Complete apartment data: {"description": "", "id": "4i3rGppoguIkOfcu86HK", "invite_code": "I2MWYL", "members": [{"current_apartment_id": "4i3rGppoguIkOfcu86HK", "display_name": "Last Test", "email": "abc@gmail.com", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": "Last Test", "role": "member"}], "name": "דיר"}
 LOG  ✅ Got complete apartment data: {"id": "4i3rGppoguIkOfcu86HK", "memberCount": 1, "name": "דיר"}
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🧪 checklist query ctx {"aptId": "4i3rGppoguIkOfcu86HK", "current": "4i3rGppoguIkOfcu86HK", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔍 Turn check debug: {"currentTurnUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "currentUserExists": true, "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "isMyTurn": true, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔊 Haptic: warning
 LOG  🚪 Signing out user...
 LOG  🔍 initializing state changed to: true
 LOG  🔍 Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": true, "isNewUserRegistration": false, "mode": "select"}
 LOG  👤 WelcomeScreen: No user present, immediately showing auth screen
 LOG  🔍 setInitializing(false) called from: no user present
 LOG  👤 WelcomeScreen: No user present, skipping timeout
 LOG  🔍 initializing state changed to: false
 LOG  🔍 Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": false, "isNewUserRegistration": false, "mode": "select"}
 LOG  ✅ Sign out completed successfully
 LOG  🔍 initializing state changed to: true
 LOG  🔍 Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": true, "isNewUserRegistration": false, "mode": "select"}
 LOG  👤 WelcomeScreen: No user present, immediately showing auth screen
 LOG  🔍 setInitializing(false) called from: no user present
 LOG  👤 WelcomeScreen: No user present, skipping timeout
 LOG  🔍 initializing state changed to: false
 LOG  🔍 Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": false, "isNewUserRegistration": false, "mode": "select"}
 LOG  🔍 initializing state changed to: true
 LOG  🔍 Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": true, "isNewUserRegistration": false, "mode": "select"}
 LOG  👤 WelcomeScreen: No user present, immediately showing auth screen
 LOG  🔍 setInitializing(false) called from: no user present
 LOG  👤 WelcomeScreen: No user present, skipping timeout
 LOG  🔍 initializing state changed to: false
 LOG  🔍 Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": false, "isNewUserRegistration": false, "mode": "select"}
 LOG  🔍 initializing state changed to: true
 LOG  🔍 Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": true, "isNewUserRegistration": false, "mode": "select"}
 LOG  👤 WelcomeScreen: No user present, immediately showing auth screen
 LOG  🔍 setInitializing(false) called from: no user present
 LOG  👤 WelcomeScreen: No user present, skipping timeout
 LOG  🔍 initializing state changed to: false
 LOG  🔍 Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": false, "isNewUserRegistration": false, "mode": "select"}
 LOG  🔍 initializing state changed to: true
 LOG  🔍 Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": true, "isNewUserRegistration": false, "mode": "select"}
 LOG  👤 WelcomeScreen: No user present, immediately showing auth screen
 LOG  🔍 setInitializing(false) called from: no user present
 LOG  👤 WelcomeScreen: No user present, skipping timeout
 LOG  🔍 initializing state changed to: false
 LOG  🔍 Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": false, "isNewUserRegistration": false, "mode": "select"}
Unable to resolve "../../logo_inside.png" from "src/screens/AuthScreen.tsx"
 ERROR  [Error: undefined Unable to resolve module ../../logo_inside.png from /home/user/workspace/src/screens/AuthScreen.tsx: 

None of these files exist:
  * logo_inside.png
  * logo_inside.png
[0m [90m 307 |[39m         [33m<[39m[33mView[39m className[33m=[39m[32m"items-center mb-8"[39m[33m>[39m
 [90m 308 |[39m           [33m<[39m[33mImage[39m 
[31m[1m>[22m[39m[90m 309 |[39m             source[33m=[39m{require([32m'../../logo_inside.png'[39m)} 
 [90m     |[39m                              [31m[1m^[22m[39m
 [90m 310 |[39m             style[33m=[39m{{ width[33m:[39m [35m140[39m[33m,[39m height[33m:[39m [35m140[39m }}
 [90m 311 |[39m             resizeMode[33m=[39m[32m"contain"[39m
 [90m 312 |[39m           [33m/[39m[33m>[39m[0m]
 ERROR  logo_inside.png: Empty file
 ERROR  [Error: TransformError logo_inside.png: Empty file]
Error: Empty file
    at readFileSync (/home/user/workspace/node_modules/image-size/dist/index.js:77:19)
    at imageSize (/home/user/workspace/node_modules/image-size/dist/index.js:112:23)
    at getAssetData (/home/user/workspace/node_modules/metro/src/Assets.js:140:32)
    at async getUniversalAssetData (/home/user/workspace/node_modules/@expo/metro-config/build/transform-worker/getAssets.js:66:28)
    at async Object.transform (/home/user/workspace/node_modules/@expo/metro-config/build/transform-worker/asset-transformer.js:94:18)
    at async transformAsset (/home/user/workspace/node_modules/@expo/metro-config/build/transform-worker/metro-transform-worker.js:441:20)
 LOG  🔍 initializing state changed to: true
 LOG  🔍 Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": true, "isNewUserRegistration": false, "mode": "select"}
 LOG  👤 WelcomeScreen: No user present, immediately showing auth screen
 LOG  🔍 setInitializing(false) called from: no user present
 LOG  👤 WelcomeScreen: No user present, skipping timeout
 LOG  🔍 initializing state changed to: false
 LOG  🔍 Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": false, "isNewUserRegistration": false, "mode": "select"}
iOS ./index.ts ░░░░░░░░░░░░░░░░  0.0% (0/1)
iOS Bundled 87ms index.ts (1 module)
 LOG  🔧 Firestore debug logging enabled
 ERROR  i18next::pluralResolver: Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.
 LOG  [index] Project ID is:  6d6cd6da-7505-42d7-91fd-2928c6600b00
 LOG  🔍 initializing state changed to: true
 LOG  🔍 Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": true, "isNewUserRegistration": false, "mode": "select"}
 LOG  👤 WelcomeScreen: No user present, immediately showing auth screen
 LOG  🔍 setInitializing(false) called from: no user present
 LOG  👤 WelcomeScreen: No user present, skipping timeout
 LOG  🔍 initializing state changed to: false
 LOG  🔍 Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": false, "isNewUserRegistration": false, "mode": "select"}
iOS ./index.ts ░░░░░░░░░░░░░░░░  0.0% (0/1)
iOS Bundled 150ms index.ts (1 module)
 LOG  🔧 Firestore debug logging enabled
 ERROR  i18next::pluralResolver: Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.
 LOG  [index] Project ID is:  6d6cd6da-7505-42d7-91fd-2928c6600b00
 LOG  🔍 initializing state changed to: true
 LOG  🔍 Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": true, "isNewUserRegistration": false, "mode": "select"}
 LOG  👤 WelcomeScreen: No user present, immediately showing auth screen
 LOG  🔍 setInitializing(false) called from: no user present
 LOG  👤 WelcomeScreen: No user present, skipping timeout
 LOG  🔍 initializing state changed to: false
 LOG  🔍 Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": false, "isNewUserRegistration": false, "mode": "select"}
 LOG  🔍 initializing state changed to: true
 LOG  🔍 Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": true, "isNewUserRegistration": false, "mode": "select"}
 LOG  👤 WelcomeScreen: No user present, immediately showing auth screen
 LOG  🔍 setInitializing(false) called from: no user present
 LOG  👤 WelcomeScreen: No user present, skipping timeout
 LOG  🔍 initializing state changed to: false
 LOG  🔍 Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": false, "isNewUserRegistration": false, "mode": "select"}
 LOG  🔍 initializing state changed to: true
 LOG  🔍 Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": true, "isNewUserRegistration": false, "mode": "select"}
 LOG  👤 WelcomeScreen: No user present, immediately showing auth screen
 LOG  🔍 setInitializing(false) called from: no user present
 LOG  👤 WelcomeScreen: No user present, skipping timeout
 LOG  🔍 initializing state changed to: false
 LOG  🔍 Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": false, "isNewUserRegistration": false, "mode": "select"}
 LOG  🔍 initializing state changed to: true
 LOG  🔍 Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": true, "isNewUserRegistration": false, "mode": "select"}
 LOG  👤 WelcomeScreen: No user present, immediately showing auth screen
 LOG  🔍 setInitializing(false) called from: no user present
 LOG  👤 WelcomeScreen: No user present, skipping timeout
 LOG  🔍 initializing state changed to: false
 LOG  🔍 Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": false, "isNewUserRegistration": false, "mode": "select"}
 LOG  🔍 initializing state changed to: true
 LOG  🔍 Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": true, "isNewUserRegistration": false, "mode": "select"}
 LOG  👤 WelcomeScreen: No user present, immediately showing auth screen
 LOG  🔍 setInitializing(false) called from: no user present
 LOG  👤 WelcomeScreen: No user present, skipping timeout
 LOG  🔍 initializing state changed to: false
 LOG  🔍 Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": false, "isNewUserRegistration": false, "mode": "select"}
 LOG  🔍 initializing state changed to: true
 LOG  🔍 Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": true, "isNewUserRegistration": false, "mode": "select"}
 LOG  👤 WelcomeScreen: No user present, immediately showing auth screen
 LOG  🔍 setInitializing(false) called from: no user present
 LOG  👤 WelcomeScreen: No user present, skipping timeout
 LOG  🔍 initializing state changed to: false
 LOG  🔍 Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": false, "isNewUserRegistration": false, "mode": "select"}
 LOG  🔍 initializing state changed to: true
 LOG  🔍 Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": true, "isNewUserRegistration": false, "mode": "select"}
 LOG  👤 WelcomeScreen: No user present, immediately showing auth screen
 LOG  🔍 setInitializing(false) called from: no user present
 LOG  👤 WelcomeScreen: No user present, skipping timeout
 LOG  🔍 initializing state changed to: false
 LOG  🔍 Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": false, "isNewUserRegistration": false, "mode": "select"}
Unable to resolve "./src/components/AnimatedSplash" from "App.tsx"
 ERROR  [Error: undefined Unable to resolve module ./src/components/AnimatedSplash from /home/user/workspace/App.tsx: 

None of these files exist:
  * src/components/AnimatedSplash(.ios.ts|.native.ts|.ts|.ios.tsx|.native.tsx|.tsx|.ios.mjs|.native.mjs|.mjs|.ios.js|.native.js|.js|.ios.jsx|.native.jsx|.jsx|.ios.json|.native.json|.json|.ios.cjs|.native.cjs|.cjs|.ios.scss|.native.scss|.scss|.ios.sass|.native.sass|.sass|.ios.css|.native.css|.css|.ios.cjs|.native.cjs|.cjs|.ios.css|.native.css|.css)
  * src/components/AnimatedSplash
[0m [90m 16 |[39m [36mimport[39m { isRTL } [36mfrom[39m [32m'./src/utils/rtl'[39m[33m;[39m
 [90m 17 |[39m [36mimport[39m [33m*[39m [36mas[39m [33mSplashScreen[39m [36mfrom[39m [32m'expo-splash-screen'[39m[33m;[39m
[31m[1m>[22m[39m[90m 18 |[39m [36mimport[39m { [33mAnimatedSplash[39m } [36mfrom[39m [32m'./src/components/AnimatedSplash'[39m[33m;[39m
 [90m    |[39m                                 [31m[1m^[22m[39m
 [90m 19 |[39m
 [90m 20 |[39m [90m// Configure Reanimated logger to disable strict mode warnings[39m
 [90m 21 |[39m configureReanimatedLogger({[0m]
 LOG  🔍 initializing state changed to: true
 LOG  🔍 Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": true, "isNewUserRegistration": false, "mode": "select"}
 LOG  👤 WelcomeScreen: No user present, immediately showing auth screen
 LOG  🔍 setInitializing(false) called from: no user present
 LOG  👤 WelcomeScreen: No user present, skipping timeout
 LOG  🔍 initializing state changed to: false
 LOG  🔍 Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": false, "isNewUserRegistration": false, "mode": "select"}
iOS ./index.ts ░░░░░░░░░░░░░░░░  0.0% (0/1)
iOS Bundled 89ms index.ts (1 module)
iOS Bundled 146ms index.ts (1 module)
 LOG  🔧 Firestore debug logging enabled
 ERROR  i18next::pluralResolver: Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.
 LOG  [index] Project ID is:  6d6cd6da-7505-42d7-91fd-2928c6600b00
 LOG  🔍 initializing state changed to: true
 LOG  🔍 Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": true, "isNewUserRegistration": false, "mode": "select"}
 LOG  👤 WelcomeScreen: No user present, immediately showing auth screen
 LOG  🔍 setInitializing(false) called from: no user present
 LOG  👤 WelcomeScreen: No user present, skipping timeout
 LOG  🔍 initializing state changed to: false
 LOG  🔍 Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": false, "isNewUserRegistration": false, "mode": "select"}
 LOG  🔍 initializing state changed to: true
 LOG  🔍 Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": true, "isNewUserRegistration": false, "mode": "select"}
 LOG  👤 WelcomeScreen: No user present, immediately showing auth screen
 LOG  🔍 setInitializing(false) called from: no user present
 LOG  👤 WelcomeScreen: No user present, skipping timeout
 LOG  🔍 initializing state changed to: false
 LOG  🔍 Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": false, "isNewUserRegistration": false, "mode": "select"}
 LOG  🔍 initializing state changed to: true
 LOG  🔍 Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": true, "isNewUserRegistration": false, "mode": "select"}
 LOG  👤 WelcomeScreen: No user present, immediately showing auth screen
 LOG  🔍 setInitializing(false) called from: no user present
 LOG  👤 WelcomeScreen: No user present, skipping timeout
 LOG  🔍 initializing state changed to: false
 LOG  🔍 Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": false, "isNewUserRegistration": false, "mode": "select"}
 LOG  🔍 initializing state changed to: true
 LOG  🔍 Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": true, "isNewUserRegistration": false, "mode": "select"}
 LOG  👤 WelcomeScreen: No user present, immediately showing auth screen
 LOG  🔍 setInitializing(false) called from: no user present
 LOG  👤 WelcomeScreen: No user present, skipping timeout
 LOG  🔍 initializing state changed to: false
 LOG  🔍 Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": false, "isNewUserRegistration": false, "mode": "select"}
iOS ./index.ts ░░░░░░░░░░░░░░░░  0.0% (0/1)
iOS Bundled 95ms index.ts (1 module)
 LOG  🔧 Firestore debug logging enabled
 ERROR  i18next::pluralResolver: Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.
 LOG  [index] Project ID is:  6d6cd6da-7505-42d7-91fd-2928c6600b00
 LOG  🔍 initializing state changed to: true
 LOG  🔍 Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": true, "isNewUserRegistration": false, "mode": "select"}
 LOG  👤 WelcomeScreen: No user present, immediately showing auth screen
 LOG  🔍 setInitializing(false) called from: no user present
 LOG  👤 WelcomeScreen: No user present, skipping timeout
 LOG  🔍 initializing state changed to: false
 LOG  🔍 Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": false, "isNewUserRegistration": false, "mode": "select"}
iOS ./index.ts ░░░░░░░░░░░░░░░░  0.0% (0/1)
iOS Bundled 87ms index.ts (1 module)
 LOG  🔧 Firestore debug logging enabled
 ERROR  i18next::pluralResolver: Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.
 LOG  [index] Project ID is:  6d6cd6da-7505-42d7-91fd-2928c6600b00
 LOG  🔍 initializing state changed to: true
 LOG  🔍 Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": true, "isNewUserRegistration": false, "mode": "select"}
 LOG  👤 WelcomeScreen: No user present, immediately showing auth screen
 LOG  🔍 setInitializing(false) called from: no user present
 LOG  👤 WelcomeScreen: No user present, skipping timeout
 LOG  🔍 initializing state changed to: false
 LOG  🔍 Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": false, "isNewUserRegistration": false, "mode": "select"}
iOS ./index.ts ░░░░░░░░░░░░░░░░  0.0% (0/1)
iOS Bundled 97ms index.ts (1 module)
 LOG  🔧 Firestore debug logging enabled
 ERROR  i18next::pluralResolver: Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.
 LOG  [index] Project ID is:  6d6cd6da-7505-42d7-91fd-2928c6600b00
 LOG  🔍 initializing state changed to: true
 LOG  🔍 Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": true, "isNewUserRegistration": false, "mode": "select"}
 LOG  👤 WelcomeScreen: No user present, immediately showing auth screen
 LOG  🔍 setInitializing(false) called from: no user present
 LOG  👤 WelcomeScreen: No user present, skipping timeout
 LOG  🔍 initializing state changed to: false
 LOG  🔍 Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": false, "isNewUserRegistration": false, "mode": "select"}
iOS ./index.ts ░░░░░░░░░░░░░░░░  0.0% (0/1)
iOS Bundled 81ms index.ts (1 module)
 LOG  🔧 Firestore debug logging enabled
 ERROR  i18next::pluralResolver: Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.
 LOG  [index] Project ID is:  6d6cd6da-7505-42d7-91fd-2928c6600b00
 LOG  🔍 initializing state changed to: true
 LOG  🔍 Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": true, "isNewUserRegistration": false, "mode": "select"}
 LOG  👤 WelcomeScreen: No user present, immediately showing auth screen
 LOG  🔍 setInitializing(false) called from: no user present
 LOG  👤 WelcomeScreen: No user present, skipping timeout
 LOG  🔍 initializing state changed to: false
 LOG  🔍 Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": false, "isNewUserRegistration": false, "mode": "select"}
iOS ./index.ts ░░░░░░░░░░░░░░░░  0.0% (0/1)
iOS Bundled 81ms index.ts (1 module)
 LOG  🔧 Firestore debug logging enabled
 ERROR  i18next::pluralResolver: Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.
 LOG  [index] Project ID is:  6d6cd6da-7505-42d7-91fd-2928c6600b00
 LOG  🔍 initializing state changed to: true
 LOG  🔍 Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": true, "isNewUserRegistration": false, "mode": "select"}
 LOG  👤 WelcomeScreen: No user present, immediately showing auth screen
 LOG  🔍 setInitializing(false) called from: no user present
 LOG  👤 WelcomeScreen: No user present, skipping timeout
 LOG  🔍 initializing state changed to: false
 LOG  🔍 Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": false, "isNewUserRegistration": false, "mode": "select"}
 LOG  🔍 initializing state changed to: true
 LOG  🔍 Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": true, "isNewUserRegistration": false, "mode": "select"}
 LOG  👤 WelcomeScreen: No user present, immediately showing auth screen
 LOG  🔍 setInitializing(false) called from: no user present
 LOG  👤 WelcomeScreen: No user present, skipping timeout
 LOG  🔍 initializing state changed to: false
 LOG  🔍 Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": false, "isNewUserRegistration": false, "mode": "select"}
iOS ./index.ts ░░░░░░░░░░░░░░░░  0.0% (0/1)
iOS Bundled 88ms index.ts (1 module)
 LOG  🔧 Firestore debug logging enabled
 ERROR  i18next::pluralResolver: Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.
 LOG  [index] Project ID is:  6d6cd6da-7505-42d7-91fd-2928c6600b00
 LOG  🔍 initializing state changed to: true
 LOG  🔍 Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": true, "isNewUserRegistration": false, "mode": "select"}
 LOG  👤 WelcomeScreen: No user present, immediately showing auth screen
 LOG  🔍 setInitializing(false) called from: no user present
 LOG  👤 WelcomeScreen: No user present, skipping timeout
 LOG  🔍 initializing state changed to: false
 LOG  🔍 Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": false, "isNewUserRegistration": false, "mode": "select"}
 LOG  🔍 initializing state changed to: true
 LOG  🔍 Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": true, "isNewUserRegistration": false, "mode": "select"}
 LOG  👤 WelcomeScreen: No user present, immediately showing auth screen
 LOG  🔍 setInitializing(false) called from: no user present
 LOG  👤 WelcomeScreen: No user present, skipping timeout
 LOG  🔍 initializing state changed to: false
 LOG  🔍 Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": false, "isNewUserRegistration": false, "mode": "select"}
 LOG  🔍 initializing state changed to: true
 LOG  🔍 Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": true, "isNewUserRegistration": false, "mode": "select"}
 LOG  👤 WelcomeScreen: No user present, immediately showing auth screen
 LOG  🔍 setInitializing(false) called from: no user present
 LOG  👤 WelcomeScreen: No user present, skipping timeout
 LOG  🔍 initializing state changed to: false
 LOG  🔍 Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": false, "isNewUserRegistration": false, "mode": "select"}
 LOG  🔍 initializing state changed to: true
 LOG  🔍 Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": true, "isNewUserRegistration": false, "mode": "select"}
 LOG  👤 WelcomeScreen: No user present, immediately showing auth screen
 LOG  🔍 setInitializing(false) called from: no user present
 LOG  👤 WelcomeScreen: No user present, skipping timeout
 LOG  🔍 initializing state changed to: false
 LOG  🔍 Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": false, "isNewUserRegistration": false, "mode": "select"}
 LOG  🔍 initializing state changed to: false
 LOG  🔍 Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": false, "isNewUserRegistration": false, "mode": "select"}
 LOG  👤 WelcomeScreen: No user present, immediately showing auth screen
 LOG  🔍 setInitializing(false) called from: no user present
 LOG  🔍 initializing state changed to: false
 LOG  🔍 Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": false, "isNewUserRegistration": false, "mode": "select"}
 LOG  👤 WelcomeScreen: No user present, immediately showing auth screen
 LOG  🔍 setInitializing(false) called from: no user present
iOS ./index.ts ░░░░░░░░░░░░░░░░  0.0% (0/1)
iOS Bundled 122ms index.ts (1 module)
 LOG  🔧 Firestore debug logging enabled
 ERROR  i18next::pluralResolver: Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.
 LOG  [index] Project ID is:  6d6cd6da-7505-42d7-91fd-2928c6600b00
 LOG  🔍 initializing state changed to: true
 LOG  🔍 Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": true, "isNewUserRegistration": false, "mode": "select"}
 LOG  👤 WelcomeScreen: No user present, immediately showing auth screen
 LOG  🔍 setInitializing(false) called from: no user present
 LOG  👤 WelcomeScreen: No user present, skipping timeout
 LOG  🔍 initializing state changed to: false
 LOG  🔍 Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": false, "isNewUserRegistration": false, "mode": "select"}
 ERROR  Sign in error: [Error: שגיאה באימות המשתמש]
 ERROR  Login error: [Error: שגיאה באימות המשתמש]
 ERROR  i18next::pluralResolver: Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.
 LOG  🔍 initializing state changed to: true
 LOG  🔍 Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": true, "isNewUserRegistration": false, "mode": "select"}
 LOG  👤 WelcomeScreen: No user present, immediately showing auth screen
 LOG  🔍 setInitializing(false) called from: no user present
 LOG  👤 WelcomeScreen: No user present, skipping timeout
 LOG  🔍 initializing state changed to: false
 LOG  🔍 Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": false, "isNewUserRegistration": false, "mode": "select"}
iOS ./index.ts ░░░░░░░░░░░░░░░░  0.0% (0/1)
iOS Bundled 83ms index.ts (1 module)
 LOG  🔧 Firestore debug logging enabled
 ERROR  i18next::pluralResolver: Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.
 LOG  [index] Project ID is:  6d6cd6da-7505-42d7-91fd-2928c6600b00
 LOG  🔍 initializing state changed to: true
 LOG  🔍 Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": true, "isNewUserRegistration": false, "mode": "select"}
 LOG  👤 WelcomeScreen: No user present, immediately showing auth screen
 LOG  🔍 setInitializing(false) called from: no user present
 LOG  👤 WelcomeScreen: No user present, skipping timeout
 LOG  🔍 initializing state changed to: false
 LOG  🔍 Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": false, "isNewUserRegistration": false, "mode": "select"}
 ERROR  i18next::pluralResolver: Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.
 LOG  🔍 initializing state changed to: true
 LOG  🔍 Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": true, "isNewUserRegistration": false, "mode": "select"}
 LOG  👤 WelcomeScreen: No user present, immediately showing auth screen
 LOG  🔍 setInitializing(false) called from: no user present
 LOG  👤 WelcomeScreen: No user present, skipping timeout
 LOG  🔍 initializing state changed to: false
 LOG  🔍 Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": false, "isNewUserRegistration": false, "mode": "select"}
 LOG  🔍 initializing state changed to: true
 LOG  🔍 Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": true, "isNewUserRegistration": false, "mode": "select"}
 LOG  👤 WelcomeScreen: No user present, immediately showing auth screen
 LOG  🔍 setInitializing(false) called from: no user present
 LOG  👤 WelcomeScreen: No user present, skipping timeout
 LOG  🔍 initializing state changed to: false
 LOG  🔍 Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": false, "isNewUserRegistration": false, "mode": "select"}
 LOG  🔍 initializing state changed to: true
 LOG  🔍 Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": true, "isNewUserRegistration": false, "mode": "select"}
 LOG  👤 WelcomeScreen: No user present, immediately showing auth screen
 LOG  🔍 setInitializing(false) called from: no user present
 LOG  👤 WelcomeScreen: No user present, skipping timeout
 LOG  🔍 initializing state changed to: false
 LOG  🔍 Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": false, "isNewUserRegistration": false, "mode": "select"}
 LOG  🔍 initializing state changed to: true
 LOG  🔍 Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": true, "isNewUserRegistration": false, "mode": "select"}
 LOG  👤 WelcomeScreen: No user present, immediately showing auth screen
 LOG  🔍 setInitializing(false) called from: no user present
 LOG  👤 WelcomeScreen: No user present, skipping timeout
 LOG  🔍 initializing state changed to: false
 LOG  🔍 Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": false, "isNewUserRegistration": false, "mode": "select"}
 ERROR  Sign in error: [Error: שגיאה באימות המשתמש]
 ERROR  Login error: [Error: שגיאה באימות המשתמש]
iOS ./index.ts ░░░░░░░░░░░░░░░░  0.0% (0/1)
iOS Bundled 125ms index.ts (1 module)
 LOG  🔧 Firestore debug logging enabled
 ERROR  i18next::pluralResolver: Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.
 LOG  [index] Project ID is:  6d6cd6da-7505-42d7-91fd-2928c6600b00
 LOG  🔍 initializing state changed to: true
 LOG  🔍 Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": true, "isNewUserRegistration": false, "mode": "select"}
 LOG  👤 WelcomeScreen: No user present, immediately showing auth screen
 LOG  🔍 setInitializing(false) called from: no user present
 LOG  👤 WelcomeScreen: No user present, skipping timeout
 LOG  🔍 initializing state changed to: false
 LOG  🔍 Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": false, "isNewUserRegistration": false, "mode": "select"}
 ERROR  i18next::pluralResolver: Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.
 LOG  🔍 initializing state changed to: true
 LOG  🔍 Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": true, "isNewUserRegistration": false, "mode": "select"}
 LOG  👤 WelcomeScreen: No user present, immediately showing auth screen
 LOG  🔍 setInitializing(false) called from: no user present
 LOG  👤 WelcomeScreen: No user present, skipping timeout
 LOG  🔍 initializing state changed to: false
 LOG  🔍 Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": false, "isNewUserRegistration": false, "mode": "select"}
 ERROR  i18next::pluralResolver: Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.
 LOG  🔍 initializing state changed to: true
 LOG  🔍 Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": true, "isNewUserRegistration": false, "mode": "select"}
 LOG  👤 WelcomeScreen: No user present, immediately showing auth screen
 LOG  🔍 setInitializing(false) called from: no user present
 LOG  👤 WelcomeScreen: No user present, skipping timeout
 LOG  🔍 initializing state changed to: false
 LOG  🔍 Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": false, "isNewUserRegistration": false, "mode": "select"}
 ERROR  Sign in error: [Error: AUTHENTICATION_FAILED]
 ERROR  Login error: [Error: AUTHENTICATION_FAILED]
 LOG  ⏳ Waiting for authentication to stabilize after sign in...
 LOG  🔊 Haptic: medium impact
 LOG  📖 Getting document: users/3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔐 Getting auth headers...
 LOG  ⏳ Waiting for authentication to be ready...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 60 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Authentication is ready
 LOG  🔍 Token info: {"algorithm": "RS256", "email": "abc@gmail.com", "expiresAt": "2025-10-09T10:10:52.000Z", "issuedAt": "2025-10-09T09:10:52.000Z", "type": "JWT", "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  ✅ Token project verified: roomies-hub
 LOG  ✅ Auth headers prepared successfully
 LOG  🌐 Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔐 Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  ⏳ Waiting for authentication to stabilize after sign in...
 LOG  📊 Response status: 200 ()
 LOG  📖 Getting document: users/3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔐 Getting auth headers...
 LOG  ⏳ Waiting for authentication to be ready...
 LOG  🔑 Getting current ID token...
 LOG  ✅ Document retrieved successfully
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 60 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Authentication is ready
 LOG  🔍 Token info: {"algorithm": "RS256", "email": "abc@gmail.com", "expiresAt": "2025-10-09T10:10:52.000Z", "issuedAt": "2025-10-09T09:10:52.000Z", "type": "JWT", "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  ✅ Token project verified: roomies-hub
 LOG  ✅ Auth headers prepared successfully
 LOG  🌐 Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔐 Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 60 minutes
 LOG  ✅ ID token is valid
 LOG  🔍 Looking for current apartment for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  📖 Getting document: users/3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔐 Getting auth headers...
 LOG  ⏳ Waiting for authentication to be ready...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 60 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Authentication is ready
 LOG  🔍 Token info: {"algorithm": "RS256", "email": "abc@gmail.com", "expiresAt": "2025-10-09T10:10:52.000Z", "issuedAt": "2025-10-09T09:10:52.000Z", "type": "JWT", "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  ✅ Token project verified: roomies-hub
 LOG  ✅ Auth headers prepared successfully
 LOG  🌐 Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔐 Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  📊 Response status: 200 ()
 LOG  ✅ Document retrieved successfully
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  🔍 Looking for current apartment for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  📖 Getting document: users/3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔐 Getting auth headers...
 LOG  ⏳ Waiting for authentication to be ready...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Authentication is ready
 LOG  🔍 Token info: {"algorithm": "RS256", "email": "abc@gmail.com", "expiresAt": "2025-10-09T10:10:52.000Z", "issuedAt": "2025-10-09T09:10:52.000Z", "type": "JWT", "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  ✅ Token project verified: roomies-hub
 LOG  ✅ Auth headers prepared successfully
 LOG  🌐 Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔐 Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  📊 Response status: 200 ()
 LOG  ✅ Document retrieved successfully
 LOG  🏠 User has apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  📖 Getting document: apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Getting auth headers...
 LOG  ⏳ Waiting for authentication to be ready...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Authentication is ready
 LOG  🔍 Token info: {"algorithm": "RS256", "email": "abc@gmail.com", "expiresAt": "2025-10-09T10:10:52.000Z", "issuedAt": "2025-10-09T09:10:52.000Z", "type": "JWT", "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  ✅ Token project verified: roomies-hub
 LOG  ✅ Auth headers prepared successfully
 LOG  🌐 Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  📊 Response status: 200 ()
 LOG  ✅ Document retrieved successfully
 LOG  🏠 User has apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  📖 Getting document: apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Getting auth headers...
 LOG  ⏳ Waiting for authentication to be ready...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Authentication is ready
 LOG  🔍 Token info: {"algorithm": "RS256", "email": "abc@gmail.com", "expiresAt": "2025-10-09T10:10:52.000Z", "issuedAt": "2025-10-09T09:10:52.000Z", "type": "JWT", "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  ✅ Token project verified: roomies-hub
 LOG  ✅ Auth headers prepared successfully
 LOG  🌐 Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  📊 Response status: 200 ()
 LOG  ✅ Document retrieved successfully
 LOG  🎉 WelcomeScreen: handleAuthSuccess called!
 LOG  🎉 WelcomeScreen: Auth success, setting user and checking apartment...
 LOG  🎉 WelcomeScreen: User data: {"current_apartment_id": "4i3rGppoguIkOfcu86HK", "email": "abc@gmail.com", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔍 WelcomeScreen: Checking for existing apartment after auth success...
 LOG  🔑 Getting current ID token...
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": undefined, "hasCurrentApartment": false, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  🔄 Dashboard: Loading all data from Firestore...
 LOG  🔄 Dashboard: Refreshing data on focus...
 LOG  🔄 Getting cleaning stats...
 LOG  🚀 Initializing Firebase notifications for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🚀 Initializing Firebase Web notification service...
 LOG  📱 Mobile platform - using mock token for testing
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  📱 Mock FCM Token (for testing): mock_fcm_token_1760001054763_u0vxg7tmu
 LOG  🔐 Getting auth headers...
 LOG  ⏳ Waiting for authentication to be ready...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  🔍 Looking for current apartment for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  📖 Getting document: users/3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔐 Getting auth headers...
 LOG  ⏳ Waiting for authentication to be ready...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Authentication is ready
 LOG  🔍 Token info: {"algorithm": "RS256", "email": "abc@gmail.com", "expiresAt": "2025-10-09T10:10:52.000Z", "issuedAt": "2025-10-09T09:10:52.000Z", "type": "JWT", "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  ✅ Token project verified: roomies-hub
 LOG  ✅ Auth headers prepared successfully
 LOG  🔍 PATCH request details: {"body": "{
  \"fields\": {
    \"fcm_token\": {
      \"stringValue\": \"mock_fcm_token_1760001054763_u0vxg7tmu\"
    },
    \"device_type\": {
      \"stringValue\": \"ios\"
    },
    \"last_seen\": {
      \"stringValue\": \"2025-10-09T09:10:54.763Z\"
    }
  }
}", "updateMaskFields": ["fcm_token", "device_type", "last_seen"], "url": "https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13?updateMask.fieldPaths=fcm_token&updateMask.fieldPaths=device_type&updateMask.fieldPaths=last_seen"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Authentication is ready
 LOG  🔍 Token info: {"algorithm": "RS256", "email": "abc@gmail.com", "expiresAt": "2025-10-09T10:10:52.000Z", "issuedAt": "2025-10-09T09:10:52.000Z", "type": "JWT", "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  ✅ Token project verified: roomies-hub
 LOG  ✅ Auth headers prepared successfully
 LOG  🌐 Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔐 Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  📊 Response status: 200 ()
 LOG  ✅ Document retrieved successfully
 LOG  🎉 WelcomeScreen: handleAuthSuccess called!
 LOG  🎉 WelcomeScreen: Auth success, setting user and checking apartment...
 LOG  🎉 WelcomeScreen: User data: {"current_apartment_id": "4i3rGppoguIkOfcu86HK", "email": "abc@gmail.com", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔍 WelcomeScreen: Checking for existing apartment after auth success...
 LOG  🔑 Getting current ID token...
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": undefined, "hasCurrentApartment": false, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  🔄 Dashboard: Loading all data from Firestore...
 LOG  🔄 Dashboard: Refreshing data on focus...
 LOG  🔄 loadCleaningChecklist already in progress, skipping...
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  🔍 Looking for current apartment for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  📖 Getting document: users/3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔐 Getting auth headers...
 LOG  ⏳ Waiting for authentication to be ready...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Authentication is ready
 LOG  🔍 Token info: {"algorithm": "RS256", "email": "abc@gmail.com", "expiresAt": "2025-10-09T10:10:52.000Z", "issuedAt": "2025-10-09T09:10:52.000Z", "type": "JWT", "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  ✅ Token project verified: roomies-hub
 LOG  ✅ Auth headers prepared successfully
 LOG  🌐 Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔐 Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📊 Response status: 200 ()
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Document retrieved successfully
 LOG  🏠 User has apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  📖 Getting document: apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Getting auth headers...
 LOG  ⏳ Waiting for authentication to be ready...
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ FCM token saved to Firestore
 LOG  📱 Mobile platform - notification listeners not available in Expo Go
 LOG  ✅ Firebase Web notification service initialized successfully
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Authentication is ready
 LOG  🔍 Token info: {"algorithm": "RS256", "email": "abc@gmail.com", "expiresAt": "2025-10-09T10:10:52.000Z", "issuedAt": "2025-10-09T09:10:52.000Z", "type": "JWT", "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  ✅ Token project verified: roomies-hub
 LOG  ✅ Auth headers prepared successfully
 LOG  🌐 Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  📊 Response status: 200 ()
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  ✅ Document retrieved successfully
 LOG  🏠 User has apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  📖 Getting document: apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Getting auth headers...
 LOG  ⏳ Waiting for authentication to be ready...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Authentication is ready
 LOG  🔍 Token info: {"algorithm": "RS256", "email": "abc@gmail.com", "expiresAt": "2025-10-09T10:10:52.000Z", "issuedAt": "2025-10-09T09:10:52.000Z", "type": "JWT", "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  ✅ Token project verified: roomies-hub
 LOG  ✅ Auth headers prepared successfully
 LOG  🌐 Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": undefined, "hasCurrentApartment": false, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  📊 Response status: 200 ()
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  🔄 Backfilling cleaning stats from existing data...
 LOG  🔑 Getting current ID token...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  🔄 Backfilling cleaning stats from existing data...
 LOG  🔑 Getting current ID token...
 LOG  ✅ Document retrieved successfully
 LOG  ✅ WelcomeScreen: Found existing apartment after auth success: 4i3rGppoguIkOfcu86HK
 LOG  🏠 WelcomeScreen: User has apartment, will navigate to apartment screen
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  🔄 Dashboard: Loading all data from Firestore...
 LOG  🔄 Refreshing apartment members...
 LOG  🔄 Dashboard: Refreshing data on focus...
 LOG  🔄 loadCleaningChecklist already in progress, skipping...
 LOG  🔄 Getting cleaning stats...
 LOG  🏠 MainTabs: Loading apartment data for 4i3rGppoguIkOfcu86HK
 LOG  🔄 Refreshing apartment members...
 LOG  🔄 loadCleaningChecklist already in progress, skipping...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🏠 Getting complete apartment data for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔍 Getting reliable apartment ID for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🏠 Getting complete apartment data for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔍 Getting reliable apartment ID for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Checking user profile for current_apartment_id...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Checking user profile for current_apartment_id...
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  📊 Response status: 200 ()
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Document retrieved successfully
 LOG  ✅ WelcomeScreen: Found existing apartment after auth success: 4i3rGppoguIkOfcu86HK
 LOG  🏠 WelcomeScreen: User has apartment, will navigate to apartment screen
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  🔄 Dashboard: Loading all data from Firestore...
 LOG  🔄 Refreshing apartment members...
 LOG  🔄 Dashboard: Refreshing data on focus...
 LOG  🔄 loadCleaningChecklist already in progress, skipping...
 LOG  🔄 Getting cleaning stats...
 LOG  🏠 MainTabs: Loading apartment data for 4i3rGppoguIkOfcu86HK
 LOG  🔄 Refreshing apartment members...
 LOG  🔄 loadCleaningChecklist already in progress, skipping...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🏠 Getting complete apartment data for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔍 Getting reliable apartment ID for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🏠 Getting complete apartment data for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔍 Getting reliable apartment ID for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Checking user profile for current_apartment_id...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Checking user profile for current_apartment_id...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  🔧 Ensuring current_apartment_id before getting apartment data...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  🔧 Ensuring current_apartment_id before getting apartment data...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  ✅ Dashboard: Additional data loaded successfully
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  🔧 Ensuring current_apartment_id before getting apartment data...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  🔧 Ensuring current_apartment_id before getting apartment data...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  📖 Getting document: apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Getting auth headers...
 LOG  ⏳ Waiting for authentication to be ready...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Authentication is ready
 LOG  🔍 Token info: {"algorithm": "RS256", "email": "abc@gmail.com", "expiresAt": "2025-10-09T10:10:52.000Z", "issuedAt": "2025-10-09T09:10:52.000Z", "type": "JWT", "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  ✅ Token project verified: roomies-hub
 LOG  ✅ Auth headers prepared successfully
 LOG  🌐 Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  📖 Getting document: apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Getting auth headers...
 LOG  ⏳ Waiting for authentication to be ready...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Authentication is ready
 LOG  🔍 Token info: {"algorithm": "RS256", "email": "abc@gmail.com", "expiresAt": "2025-10-09T10:10:52.000Z", "issuedAt": "2025-10-09T09:10:52.000Z", "type": "JWT", "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  ✅ Token project verified: roomies-hub
 LOG  ✅ Auth headers prepared successfully
 LOG  🌐 Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  📖 Getting document: apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Getting auth headers...
 LOG  ⏳ Waiting for authentication to be ready...
 LOG  🔑 Getting current ID token...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Authentication is ready
 LOG  🔍 Token info: {"algorithm": "RS256", "email": "abc@gmail.com", "expiresAt": "2025-10-09T10:10:52.000Z", "issuedAt": "2025-10-09T09:10:52.000Z", "type": "JWT", "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  ✅ Token project verified: roomies-hub
 LOG  ✅ Auth headers prepared successfully
 LOG  🌐 Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  ✅ Dashboard: Additional data loaded successfully
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  📖 Getting document: apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Getting auth headers...
 LOG  ⏳ Waiting for authentication to be ready...
 LOG  🔑 Getting current ID token...
 LOG  📊 Response status: 200 ()
 LOG  ✅ Document retrieved successfully
 LOG  👥 Getting apartment members with profiles for: 4i3rGppoguIkOfcu86HK
 LOG  👥 Getting apartment members for: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Authentication is ready
 LOG  🔍 Token info: {"algorithm": "RS256", "email": "abc@gmail.com", "expiresAt": "2025-10-09T10:10:52.000Z", "issuedAt": "2025-10-09T09:10:52.000Z", "type": "JWT", "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  ✅ Token project verified: roomies-hub
 LOG  ✅ Auth headers prepared successfully
 LOG  🌐 Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  🔧 Ensuring current_apartment_id before query...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  📊 Response status: 200 ()
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  ✅ Document retrieved successfully
 LOG  👥 Getting apartment members with profiles for: 4i3rGppoguIkOfcu86HK
 LOG  👥 Getting apartment members for: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  🔧 Ensuring current_apartment_id before query...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  ✅ Dashboard: Additional data loaded successfully
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  📊 Response status: 200 ()
 LOG  ✅ Document retrieved successfully
 LOG  👥 Getting apartment members with profiles for: 4i3rGppoguIkOfcu86HK
 LOG  👥 Getting apartment members for: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  🔧 Ensuring current_apartment_id before query...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID for query: 4i3rGppoguIkOfcu86HK
 LOG  📋 Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  📝 Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "4i3rGppoguIkOfcu86HK"
        }
      }
    }
  }
}
 LOG  📊 Response status: 200 ()
 LOG  ✅ Document retrieved successfully
 LOG  👥 Getting apartment members with profiles for: 4i3rGppoguIkOfcu86HK
 LOG  👥 Getting apartment members for: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  🔧 Ensuring current_apartment_id before query...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🧪 checklist query ctx {"aptId": "4i3rGppoguIkOfcu86HK", "current": "4i3rGppoguIkOfcu86HK", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID for query: 4i3rGppoguIkOfcu86HK
 LOG  📋 Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  📝 Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "4i3rGppoguIkOfcu86HK"
        }
      }
    }
  }
}
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID for query: 4i3rGppoguIkOfcu86HK
 LOG  📋 Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  📝 Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "4i3rGppoguIkOfcu86HK"
        }
      }
    }
  }
}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Turn check debug: {"currentTurnUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "currentUserExists": true, "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "isMyTurn": true, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  ✅ Dashboard: Additional data loaded successfully
 LOG  📊 Members query response: 200 ()
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 No existing cleaning data found, initializing with 0
 LOG  ⚠️ Skipping stats creation - no user data available
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  📋 Raw query results: [{"document": {"createTime": "2025-10-05T04:03:11.945061Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-05T04:03:11.945061Z"}, "readTime": "2025-10-09T09:10:59.438149Z"}]
 LOG  ✅ Found members: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  📋 Found memberships: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👤 Unique user IDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  👤 Getting user profiles for UIDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  🔑 Getting current ID token...
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID for query: 4i3rGppoguIkOfcu86HK
 LOG  📋 Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  📝 Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "4i3rGppoguIkOfcu86HK"
        }
      }
    }
  }
}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  📝 Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13"
  ]
}
 LOG  📊 Members query response: 200 ()
 LOG  📋 Raw query results: [{"document": {"createTime": "2025-10-05T04:03:11.945061Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-05T04:03:11.945061Z"}, "readTime": "2025-10-09T09:10:59.488851Z"}]
 LOG  ✅ Found members: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  📋 Found memberships: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👤 Unique user IDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  👤 Getting user profiles for UIDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  📝 Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13"
  ]
}
 LOG  📊 Members query response: 200 ()
 LOG  📋 Raw query results: [{"document": {"createTime": "2025-10-05T04:03:11.945061Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-05T04:03:11.945061Z"}, "readTime": "2025-10-09T09:10:59.564790Z"}]
 LOG  ✅ Found members: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  📋 Found memberships: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👤 Unique user IDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  👤 Getting user profiles for UIDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  📝 Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13"
  ]
}
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 No existing cleaning data found, initializing with 0
 LOG  ⚠️ Skipping stats creation - no user data available
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📊 Batch get response: 200 ()
 LOG  📊 Batch get response: 200 ()
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📋 Raw batch get results: [{"found": {"createTime": "2025-10-05T04:02:33.895822Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-09T09:10:55.791263Z"}, "readTime": "2025-10-09T09:10:59.689093Z"}]
 LOG  👤 User profile for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test"}
 LOG  ✅ User profiles loaded: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  📋 User profiles loaded: {"3Or6WAVPWOXBTokum8nqQiB0fx13": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}}
 LOG  ✅ Members with profiles: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "profile": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}, "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👥 Member data for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"email": "abc@gmail.com", "name": "Last Test", "profileEmail": "abc@gmail.com"}
 LOG  ✅ Complete apartment data: {"description": "", "id": "4i3rGppoguIkOfcu86HK", "invite_code": "I2MWYL", "members": [{"current_apartment_id": "4i3rGppoguIkOfcu86HK", "display_name": "Last Test", "email": "abc@gmail.com", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": "Last Test", "role": "member"}], "name": "דיר"}
 LOG  ✅ Got complete apartment data: {"id": "4i3rGppoguIkOfcu86HK", "memberCount": 1, "name": "דיר"}
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  📋 Raw batch get results: [{"found": {"createTime": "2025-10-05T04:02:33.895822Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-09T09:10:55.791263Z"}, "readTime": "2025-10-09T09:10:55.791263Z"}]
 LOG  👤 User profile for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test"}
 LOG  ✅ User profiles loaded: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  📋 User profiles loaded: {"3Or6WAVPWOXBTokum8nqQiB0fx13": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}}
 LOG  ✅ Members with profiles: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "profile": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}, "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👥 Member data for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"email": "abc@gmail.com", "name": "Last Test", "profileEmail": "abc@gmail.com"}
 LOG  ✅ Complete apartment data: {"description": "", "id": "4i3rGppoguIkOfcu86HK", "invite_code": "I2MWYL", "members": [{"current_apartment_id": "4i3rGppoguIkOfcu86HK", "display_name": "Last Test", "email": "abc@gmail.com", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": "Last Test", "role": "member"}], "name": "דיר"}
 LOG  ✅ Got complete apartment data: {"id": "4i3rGppoguIkOfcu86HK", "memberCount": 1, "name": "דיר"}
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  ✅ MainTabs: Apartment data loaded successfully
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📊 Members query response: 200 ()
 LOG  📊 Batch get response: 200 ()
 LOG  📋 Raw query results: [{"document": {"createTime": "2025-10-05T04:03:11.945061Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-05T04:03:11.945061Z"}, "readTime": "2025-10-09T09:10:59.700779Z"}]
 LOG  ✅ Found members: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  📋 Found memberships: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👤 Unique user IDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  👤 Getting user profiles for UIDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  🔑 Getting current ID token...
 LOG  📋 Raw batch get results: [{"found": {"createTime": "2025-10-05T04:02:33.895822Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-09T09:10:55.791263Z"}, "readTime": "2025-10-09T09:10:55.791263Z"}]
 LOG  👤 User profile for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test"}
 LOG  ✅ User profiles loaded: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  📋 User profiles loaded: {"3Or6WAVPWOXBTokum8nqQiB0fx13": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}}
 LOG  ✅ Members with profiles: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "profile": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}, "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👥 Member data for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"email": "abc@gmail.com", "name": "Last Test", "profileEmail": "abc@gmail.com"}
 LOG  ✅ Complete apartment data: {"description": "", "id": "4i3rGppoguIkOfcu86HK", "invite_code": "I2MWYL", "members": [{"current_apartment_id": "4i3rGppoguIkOfcu86HK", "display_name": "Last Test", "email": "abc@gmail.com", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": "Last Test", "role": "member"}], "name": "דיר"}
 LOG  ✅ Got complete apartment data: {"id": "4i3rGppoguIkOfcu86HK", "memberCount": 1, "name": "דיר"}
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  📝 Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13"
  ]
}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  ✅ Dashboard: Essential data loaded successfully
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 Batch get response: 200 ()
 LOG  📋 Raw batch get results: [{"found": {"createTime": "2025-10-05T04:02:33.895822Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-09T09:10:55.791263Z"}, "readTime": "2025-10-09T09:11:00.014379Z"}]
 LOG  👤 User profile for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test"}
 LOG  ✅ User profiles loaded: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  📋 User profiles loaded: {"3Or6WAVPWOXBTokum8nqQiB0fx13": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}}
 LOG  ✅ Members with profiles: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "profile": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}, "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👥 Member data for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"email": "abc@gmail.com", "name": "Last Test", "profileEmail": "abc@gmail.com"}
 LOG  ✅ Complete apartment data: {"description": "", "id": "4i3rGppoguIkOfcu86HK", "invite_code": "I2MWYL", "members": [{"current_apartment_id": "4i3rGppoguIkOfcu86HK", "display_name": "Last Test", "email": "abc@gmail.com", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": "Last Test", "role": "member"}], "name": "דיר"}
 LOG  ✅ Got complete apartment data: {"id": "4i3rGppoguIkOfcu86HK", "memberCount": 1, "name": "דיר"}
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  ✅ MainTabs: Apartment data loaded successfully
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  ✅ Dashboard: Essential data loaded successfully
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  🔄 Backfilling cleaning stats from existing data...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  🔄 Backfilling cleaning stats from existing data...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 No existing cleaning data found, initializing with 0
 LOG  ⚠️ Skipping stats creation - no user data available
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 No existing cleaning data found, initializing with 0
 LOG  ⚠️ Skipping stats creation - no user data available
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  ✅ Dashboard: Essential data loaded successfully
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  ✅ Dashboard: Essential data loaded successfully
 LOG  🔄 Settings: Refreshing apartment members on mount
 LOG  🔄 Refreshing apartment members...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🏠 Getting complete apartment data for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔍 Getting reliable apartment ID for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Checking user profile for current_apartment_id...
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  🔧 Ensuring current_apartment_id before getting apartment data...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  📖 Getting document: apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Getting auth headers...
 LOG  ⏳ Waiting for authentication to be ready...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Authentication is ready
 LOG  🔍 Token info: {"algorithm": "RS256", "email": "abc@gmail.com", "expiresAt": "2025-10-09T10:10:52.000Z", "issuedAt": "2025-10-09T09:10:52.000Z", "type": "JWT", "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  ✅ Token project verified: roomies-hub
 LOG  ✅ Auth headers prepared successfully
 LOG  🌐 Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 Response status: 200 ()
 LOG  ✅ Document retrieved successfully
 LOG  👥 Getting apartment members with profiles for: 4i3rGppoguIkOfcu86HK
 LOG  👥 Getting apartment members for: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  🔧 Ensuring current_apartment_id before query...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID for query: 4i3rGppoguIkOfcu86HK
 LOG  📋 Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  📝 Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "4i3rGppoguIkOfcu86HK"
        }
      }
    }
  }
}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📊 Members query response: 200 ()
 LOG  📋 Raw query results: [{"document": {"createTime": "2025-10-05T04:03:11.945061Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-05T04:03:11.945061Z"}, "readTime": "2025-10-09T09:11:13.417014Z"}]
 LOG  ✅ Found members: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  📋 Found memberships: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👤 Unique user IDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  👤 Getting user profiles for UIDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  📝 Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13"
  ]
}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 Batch get response: 200 ()
 LOG  📋 Raw batch get results: [{"found": {"createTime": "2025-10-05T04:02:33.895822Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-09T09:10:55.791263Z"}, "readTime": "2025-10-09T09:11:13.639945Z"}]
 LOG  👤 User profile for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test"}
 LOG  ✅ User profiles loaded: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  📋 User profiles loaded: {"3Or6WAVPWOXBTokum8nqQiB0fx13": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}}
 LOG  ✅ Members with profiles: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "profile": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}, "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👥 Member data for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"email": "abc@gmail.com", "name": "Last Test", "profileEmail": "abc@gmail.com"}
 LOG  ✅ Complete apartment data: {"description": "", "id": "4i3rGppoguIkOfcu86HK", "invite_code": "I2MWYL", "members": [{"current_apartment_id": "4i3rGppoguIkOfcu86HK", "display_name": "Last Test", "email": "abc@gmail.com", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": "Last Test", "role": "member"}], "name": "דיר"}
 LOG  ✅ Got complete apartment data: {"id": "4i3rGppoguIkOfcu86HK", "memberCount": 1, "name": "דיר"}
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🧪 checklist query ctx {"aptId": "4i3rGppoguIkOfcu86HK", "current": "4i3rGppoguIkOfcu86HK", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔍 Turn check debug: {"currentTurnUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "currentUserExists": true, "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "isMyTurn": true, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 59 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🧪 checklist query ctx {"aptId": "4i3rGppoguIkOfcu86HK", "current": "4i3rGppoguIkOfcu86HK", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔍 Turn check debug: {"currentTurnUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "currentUserExists": true, "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "isMyTurn": true, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  🔊 Haptic: selection
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  🔄 Dashboard: Loading all data from Firestore...
 LOG  🔄 Refreshing apartment members...
 LOG  🔄 Dashboard: Refreshing data on focus...
 LOG  🔄 Getting cleaning stats...
 LOG  🏠 MainTabs: Loading apartment data for 4i3rGppoguIkOfcu86HK
 LOG  🔄 Refreshing apartment members...
 LOG  🔄 loadCleaningChecklist already in progress, skipping...
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Settings: Refreshing apartment members on mount
 LOG  🔄 Refreshing apartment members...
 LOG  🔄 loadCleaningChecklist already in progress, skipping...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🏠 Getting complete apartment data for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔍 Getting reliable apartment ID for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🏠 Getting complete apartment data for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔍 Getting reliable apartment ID for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🏠 Getting complete apartment data for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔍 Getting reliable apartment ID for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Checking user profile for current_apartment_id...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Checking user profile for current_apartment_id...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Checking user profile for current_apartment_id...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  🔧 Ensuring current_apartment_id before getting apartment data...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  🔧 Ensuring current_apartment_id before getting apartment data...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  🔧 Ensuring current_apartment_id before getting apartment data...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  📖 Getting document: apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Getting auth headers...
 LOG  ⏳ Waiting for authentication to be ready...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Authentication is ready
 LOG  🔍 Token info: {"algorithm": "RS256", "email": "abc@gmail.com", "expiresAt": "2025-10-09T10:10:52.000Z", "issuedAt": "2025-10-09T09:10:52.000Z", "type": "JWT", "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  ✅ Token project verified: roomies-hub
 LOG  ✅ Auth headers prepared successfully
 LOG  🌐 Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  📖 Getting document: apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Getting auth headers...
 LOG  ⏳ Waiting for authentication to be ready...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Authentication is ready
 LOG  🔍 Token info: {"algorithm": "RS256", "email": "abc@gmail.com", "expiresAt": "2025-10-09T10:10:52.000Z", "issuedAt": "2025-10-09T09:10:52.000Z", "type": "JWT", "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  ✅ Token project verified: roomies-hub
 LOG  ✅ Auth headers prepared successfully
 LOG  🌐 Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  📖 Getting document: apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Getting auth headers...
 LOG  ⏳ Waiting for authentication to be ready...
 LOG  🔑 Getting current ID token...
 LOG  📊 Response status: 200 ()
 LOG  📊 Response status: 200 ()
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Authentication is ready
 LOG  🔍 Token info: {"algorithm": "RS256", "email": "abc@gmail.com", "expiresAt": "2025-10-09T10:10:52.000Z", "issuedAt": "2025-10-09T09:10:52.000Z", "type": "JWT", "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  ✅ Token project verified: roomies-hub
 LOG  ✅ Auth headers prepared successfully
 LOG  🌐 Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  ✅ Document retrieved successfully
 LOG  👥 Getting apartment members with profiles for: 4i3rGppoguIkOfcu86HK
 LOG  👥 Getting apartment members for: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  ✅ Document retrieved successfully
 LOG  👥 Getting apartment members with profiles for: 4i3rGppoguIkOfcu86HK
 LOG  👥 Getting apartment members for: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  🔧 Ensuring current_apartment_id before query...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  🔧 Ensuring current_apartment_id before query...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📊 Response status: 200 ()
 LOG  ✅ Document retrieved successfully
 LOG  👥 Getting apartment members with profiles for: 4i3rGppoguIkOfcu86HK
 LOG  👥 Getting apartment members for: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  🔧 Ensuring current_apartment_id before query...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID for query: 4i3rGppoguIkOfcu86HK
 LOG  📋 Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  📝 Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "4i3rGppoguIkOfcu86HK"
        }
      }
    }
  }
}
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID for query: 4i3rGppoguIkOfcu86HK
 LOG  📋 Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  📝 Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "4i3rGppoguIkOfcu86HK"
        }
      }
    }
  }
}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID for query: 4i3rGppoguIkOfcu86HK
 LOG  📋 Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  📝 Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "4i3rGppoguIkOfcu86HK"
        }
      }
    }
  }
}
 LOG  📊 Members query response: 200 ()
 LOG  📋 Raw query results: [{"document": {"createTime": "2025-10-05T04:03:11.945061Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-05T04:03:11.945061Z"}, "readTime": "2025-10-09T09:13:22.038261Z"}]
 LOG  ✅ Found members: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  📋 Found memberships: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👤 Unique user IDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  👤 Getting user profiles for UIDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  📝 Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13"
  ]
}
 LOG  📊 Members query response: 200 ()
 LOG  📋 Raw query results: [{"document": {"createTime": "2025-10-05T04:03:11.945061Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-05T04:03:11.945061Z"}, "readTime": "2025-10-09T09:13:22.050642Z"}]
 LOG  ✅ Found members: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  📋 Found memberships: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👤 Unique user IDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  👤 Getting user profiles for UIDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  📝 Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13"
  ]
}
 LOG  📊 Members query response: 200 ()
 LOG  📋 Raw query results: [{"document": {"createTime": "2025-10-05T04:03:11.945061Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-05T04:03:11.945061Z"}, "readTime": "2025-10-09T09:13:22.188249Z"}]
 LOG  ✅ Found members: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  📋 Found memberships: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👤 Unique user IDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  👤 Getting user profiles for UIDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  📝 Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13"
  ]
}
 LOG  📊 Batch get response: 200 ()
 LOG  📋 Raw batch get results: [{"found": {"createTime": "2025-10-05T04:02:33.895822Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-09T09:10:55.791263Z"}, "readTime": "2025-10-09T09:13:22.277059Z"}]
 LOG  👤 User profile for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test"}
 LOG  ✅ User profiles loaded: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  📋 User profiles loaded: {"3Or6WAVPWOXBTokum8nqQiB0fx13": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}}
 LOG  ✅ Members with profiles: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "profile": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}, "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👥 Member data for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"email": "abc@gmail.com", "name": "Last Test", "profileEmail": "abc@gmail.com"}
 LOG  ✅ Complete apartment data: {"description": "", "id": "4i3rGppoguIkOfcu86HK", "invite_code": "I2MWYL", "members": [{"current_apartment_id": "4i3rGppoguIkOfcu86HK", "display_name": "Last Test", "email": "abc@gmail.com", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": "Last Test", "role": "member"}], "name": "דיר"}
 LOG  ✅ Got complete apartment data: {"id": "4i3rGppoguIkOfcu86HK", "memberCount": 1, "name": "דיר"}
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ MainTabs: Apartment data loaded successfully
 LOG  📊 Batch get response: 200 ()
 LOG  📋 Raw batch get results: [{"found": {"createTime": "2025-10-05T04:02:33.895822Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-09T09:10:55.791263Z"}, "readTime": "2025-10-09T09:13:22.290742Z"}]
 LOG  👤 User profile for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test"}
 LOG  ✅ User profiles loaded: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  📋 User profiles loaded: {"3Or6WAVPWOXBTokum8nqQiB0fx13": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}}
 LOG  ✅ Members with profiles: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "profile": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}, "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👥 Member data for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"email": "abc@gmail.com", "name": "Last Test", "profileEmail": "abc@gmail.com"}
 LOG  ✅ Complete apartment data: {"description": "", "id": "4i3rGppoguIkOfcu86HK", "invite_code": "I2MWYL", "members": [{"current_apartment_id": "4i3rGppoguIkOfcu86HK", "display_name": "Last Test", "email": "abc@gmail.com", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": "Last Test", "role": "member"}], "name": "דיר"}
 LOG  ✅ Got complete apartment data: {"id": "4i3rGppoguIkOfcu86HK", "memberCount": 1, "name": "דיר"}
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  📊 Batch get response: 200 ()
 LOG  📋 Raw batch get results: [{"found": {"createTime": "2025-10-05T04:02:33.895822Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-09T09:10:55.791263Z"}, "readTime": "2025-10-09T09:13:22.472332Z"}]
 LOG  👤 User profile for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test"}
 LOG  ✅ User profiles loaded: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  📋 User profiles loaded: {"3Or6WAVPWOXBTokum8nqQiB0fx13": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}}
 LOG  ✅ Members with profiles: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "profile": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}, "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👥 Member data for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"email": "abc@gmail.com", "name": "Last Test", "profileEmail": "abc@gmail.com"}
 LOG  ✅ Complete apartment data: {"description": "", "id": "4i3rGppoguIkOfcu86HK", "invite_code": "I2MWYL", "members": [{"current_apartment_id": "4i3rGppoguIkOfcu86HK", "display_name": "Last Test", "email": "abc@gmail.com", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": "Last Test", "role": "member"}], "name": "דיר"}
 LOG  ✅ Got complete apartment data: {"id": "4i3rGppoguIkOfcu86HK", "memberCount": 1, "name": "דיר"}
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🧪 checklist query ctx {"aptId": "4i3rGppoguIkOfcu86HK", "current": "4i3rGppoguIkOfcu86HK", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Turn check debug: {"currentTurnUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "currentUserExists": true, "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "isMyTurn": true, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Additional data loaded successfully
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Backfilling cleaning stats from existing data...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 No existing cleaning data found, initializing with 0
 LOG  ⚠️ Skipping stats creation - no user data available
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Essential data loaded successfully
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 57 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🧪 checklist query ctx {"aptId": "4i3rGppoguIkOfcu86HK", "current": "4i3rGppoguIkOfcu86HK", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔍 Turn check debug: {"currentTurnUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "currentUserExists": true, "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "isMyTurn": true, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Dashboard: Refreshing data on focus...
 LOG  🔄 Getting cleaning stats...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 56 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 56 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 56 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 56 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 56 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 56 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 56 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 56 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 56 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 56 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🧪 checklist query ctx {"aptId": "4i3rGppoguIkOfcu86HK", "current": "4i3rGppoguIkOfcu86HK", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔍 Turn check debug: {"currentTurnUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "currentUserExists": true, "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "isMyTurn": true, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Additional data loaded successfully
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 56 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 56 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 56 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 56 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🧪 checklist query ctx {"aptId": "4i3rGppoguIkOfcu86HK", "current": "4i3rGppoguIkOfcu86HK", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔄 Dashboard: Refreshing data on focus...
 LOG  🔄 loadCleaningChecklist already in progress, skipping...
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 56 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 56 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 56 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 Turn check debug: {"currentTurnUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "currentUserExists": true, "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "isMyTurn": true, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 56 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  ✅ Dashboard: Additional data loaded successfully
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 56 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 56 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 56 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 56 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 56 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 56 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🧪 checklist query ctx {"aptId": "4i3rGppoguIkOfcu86HK", "current": "4i3rGppoguIkOfcu86HK", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔍 Turn check debug: {"currentTurnUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "currentUserExists": true, "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "isMyTurn": true, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Dashboard: Refreshing data on focus...
 LOG  🔄 Getting cleaning stats...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 56 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 56 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 56 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 56 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 56 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 56 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 56 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 56 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 56 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 56 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🧪 checklist query ctx {"aptId": "4i3rGppoguIkOfcu86HK", "current": "4i3rGppoguIkOfcu86HK", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔍 Turn check debug: {"currentTurnUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "currentUserExists": true, "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "isMyTurn": true, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Additional data loaded successfully
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Settings: Refreshing apartment members on mount
 LOG  🔄 Refreshing apartment members...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 55 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🏠 Getting complete apartment data for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔍 Getting reliable apartment ID for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 55 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 55 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Checking user profile for current_apartment_id...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  🔧 Ensuring current_apartment_id before getting apartment data...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 55 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 55 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  📖 Getting document: apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Getting auth headers...
 LOG  ⏳ Waiting for authentication to be ready...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 55 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Authentication is ready
 LOG  🔍 Token info: {"algorithm": "RS256", "email": "abc@gmail.com", "expiresAt": "2025-10-09T10:10:52.000Z", "issuedAt": "2025-10-09T09:10:52.000Z", "type": "JWT", "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  ✅ Token project verified: roomies-hub
 LOG  ✅ Auth headers prepared successfully
 LOG  🌐 Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  📊 Response status: 200 ()
 LOG  ✅ Document retrieved successfully
 LOG  👥 Getting apartment members with profiles for: 4i3rGppoguIkOfcu86HK
 LOG  👥 Getting apartment members for: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 55 minutes
 LOG  ✅ ID token is valid
 LOG  🔧 Ensuring current_apartment_id before query...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 55 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 55 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID for query: 4i3rGppoguIkOfcu86HK
 LOG  📋 Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  📝 Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "4i3rGppoguIkOfcu86HK"
        }
      }
    }
  }
}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 55 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 Members query response: 200 ()
 LOG  📋 Raw query results: [{"document": {"createTime": "2025-10-05T04:03:11.945061Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-05T04:03:11.945061Z"}, "readTime": "2025-10-09T09:15:33.854716Z"}]
 LOG  ✅ Found members: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  📋 Found memberships: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👤 Unique user IDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  👤 Getting user profiles for UIDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 55 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  📝 Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13"
  ]
}
 LOG  📊 Batch get response: 200 ()
 LOG  📋 Raw batch get results: [{"found": {"createTime": "2025-10-05T04:02:33.895822Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-09T09:10:55.791263Z"}, "readTime": "2025-10-09T09:15:00.187051Z"}]
 LOG  👤 User profile for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test"}
 LOG  ✅ User profiles loaded: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  📋 User profiles loaded: {"3Or6WAVPWOXBTokum8nqQiB0fx13": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}}
 LOG  ✅ Members with profiles: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "profile": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}, "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👥 Member data for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"email": "abc@gmail.com", "name": "Last Test", "profileEmail": "abc@gmail.com"}
 LOG  ✅ Complete apartment data: {"description": "", "id": "4i3rGppoguIkOfcu86HK", "invite_code": "I2MWYL", "members": [{"current_apartment_id": "4i3rGppoguIkOfcu86HK", "display_name": "Last Test", "email": "abc@gmail.com", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": "Last Test", "role": "member"}], "name": "דיר"}
 LOG  ✅ Got complete apartment data: {"id": "4i3rGppoguIkOfcu86HK", "memberCount": 1, "name": "דיר"}
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 55 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🧪 checklist query ctx {"aptId": "4i3rGppoguIkOfcu86HK", "current": "4i3rGppoguIkOfcu86HK", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 55 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 Turn check debug: {"currentTurnUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "currentUserExists": true, "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "isMyTurn": true, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 54 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 54 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 54 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 54 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔄 Dashboard: Refreshing data on focus...
 LOG  🔄 loadCleaningChecklist already in progress, skipping...
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 54 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 54 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 54 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 54 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🧪 checklist query ctx {"aptId": "4i3rGppoguIkOfcu86HK", "current": "4i3rGppoguIkOfcu86HK", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔍 Turn check debug: {"currentTurnUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "currentUserExists": true, "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "isMyTurn": true, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  ✅ Dashboard: Additional data loaded successfully
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 53 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 53 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔄 Settings: Refreshing apartment members on mount
 LOG  🔄 Refreshing apartment members...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 53 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🏠 Getting complete apartment data for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔍 Getting reliable apartment ID for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 53 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 53 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Checking user profile for current_apartment_id...
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  🔧 Ensuring current_apartment_id before getting apartment data...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 53 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 53 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  📖 Getting document: apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Getting auth headers...
 LOG  ⏳ Waiting for authentication to be ready...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 53 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Authentication is ready
 LOG  🔍 Token info: {"algorithm": "RS256", "email": "abc@gmail.com", "expiresAt": "2025-10-09T10:10:52.000Z", "issuedAt": "2025-10-09T09:10:52.000Z", "type": "JWT", "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  ✅ Token project verified: roomies-hub
 LOG  ✅ Auth headers prepared successfully
 LOG  🌐 Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  📊 Response status: 200 ()
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔑 Getting current ID token...
 LOG  ✅ Document retrieved successfully
 LOG  👥 Getting apartment members with profiles for: 4i3rGppoguIkOfcu86HK
 LOG  👥 Getting apartment members for: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 53 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 53 minutes
 LOG  ✅ ID token is valid
 LOG  🔧 Ensuring current_apartment_id before query...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 53 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 53 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID for query: 4i3rGppoguIkOfcu86HK
 LOG  📋 Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  📝 Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "4i3rGppoguIkOfcu86HK"
        }
      }
    }
  }
}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 Members query response: 200 ()
 LOG  📋 Raw query results: [{"document": {"createTime": "2025-10-05T04:03:11.945061Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-05T04:03:11.945061Z"}, "readTime": "2025-10-09T09:17:12.337856Z"}]
 LOG  ✅ Found members: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  📋 Found memberships: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👤 Unique user IDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  👤 Getting user profiles for UIDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 53 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  📝 Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13"
  ]
}
 LOG  📊 Batch get response: 200 ()
 LOG  📋 Raw batch get results: [{"found": {"createTime": "2025-10-05T04:02:33.895822Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-09T09:10:55.791263Z"}, "readTime": "2025-10-09T09:17:12.606186Z"}]
 LOG  👤 User profile for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test"}
 LOG  ✅ User profiles loaded: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  📋 User profiles loaded: {"3Or6WAVPWOXBTokum8nqQiB0fx13": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}}
 LOG  ✅ Members with profiles: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "profile": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}, "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👥 Member data for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"email": "abc@gmail.com", "name": "Last Test", "profileEmail": "abc@gmail.com"}
 LOG  ✅ Complete apartment data: {"description": "", "id": "4i3rGppoguIkOfcu86HK", "invite_code": "I2MWYL", "members": [{"current_apartment_id": "4i3rGppoguIkOfcu86HK", "display_name": "Last Test", "email": "abc@gmail.com", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": "Last Test", "role": "member"}], "name": "דיר"}
 LOG  ✅ Got complete apartment data: {"id": "4i3rGppoguIkOfcu86HK", "memberCount": 1, "name": "דיר"}
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🧪 checklist query ctx {"aptId": "4i3rGppoguIkOfcu86HK", "current": "4i3rGppoguIkOfcu86HK", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 53 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 53 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 Turn check debug: {"currentTurnUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "currentUserExists": true, "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "isMyTurn": true, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 52 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 52 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 52 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 52 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 52 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 52 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 52 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 52 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🧪 checklist query ctx {"aptId": "4i3rGppoguIkOfcu86HK", "current": "4i3rGppoguIkOfcu86HK", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔍 Turn check debug: {"currentTurnUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "currentUserExists": true, "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "isMyTurn": true, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Dashboard: Refreshing data on focus...
 LOG  🔄 Getting cleaning stats...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 51 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 51 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 51 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 51 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 51 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 51 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 51 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 51 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 51 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 51 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🧪 checklist query ctx {"aptId": "4i3rGppoguIkOfcu86HK", "current": "4i3rGppoguIkOfcu86HK", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔍 Turn check debug: {"currentTurnUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "currentUserExists": true, "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "isMyTurn": true, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Additional data loaded successfully
 LOG  🔄 Dashboard: Refreshing data on focus...
 LOG  🔄 Getting cleaning stats...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 50 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 50 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 50 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 50 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 50 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 50 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 50 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 50 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 50 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 50 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🧪 checklist query ctx {"aptId": "4i3rGppoguIkOfcu86HK", "current": "4i3rGppoguIkOfcu86HK", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔍 Turn check debug: {"currentTurnUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "currentUserExists": true, "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "isMyTurn": true, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Additional data loaded successfully
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Dashboard: Loading all data from Firestore...
 LOG  🔄 Refreshing apartment members...
 LOG  🔄 Dashboard: Refreshing data on focus...
 LOG  🔄 Getting cleaning stats...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 50 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🏠 Getting complete apartment data for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔍 Getting reliable apartment ID for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 50 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 50 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 50 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 50 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 50 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Checking user profile for current_apartment_id...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  🔧 Ensuring current_apartment_id before getting apartment data...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 50 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 50 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 50 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  📖 Getting document: apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Getting auth headers...
 LOG  ⏳ Waiting for authentication to be ready...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 50 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Authentication is ready
 LOG  🔍 Token info: {"algorithm": "RS256", "email": "abc@gmail.com", "expiresAt": "2025-10-09T10:10:52.000Z", "issuedAt": "2025-10-09T09:10:52.000Z", "type": "JWT", "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  ✅ Token project verified: roomies-hub
 LOG  ✅ Auth headers prepared successfully
 LOG  🌐 Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 50 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📊 Response status: 200 ()
 LOG  ✅ Document retrieved successfully
 LOG  👥 Getting apartment members with profiles for: 4i3rGppoguIkOfcu86HK
 LOG  👥 Getting apartment members for: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 50 minutes
 LOG  ✅ ID token is valid
 LOG  🔧 Ensuring current_apartment_id before query...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 50 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 50 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID for query: 4i3rGppoguIkOfcu86HK
 LOG  📋 Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  📝 Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "4i3rGppoguIkOfcu86HK"
        }
      }
    }
  }
}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 50 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 50 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📊 Members query response: 200 ()
 LOG  📋 Raw query results: [{"document": {"createTime": "2025-10-05T04:03:11.945061Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-05T04:03:11.945061Z"}, "readTime": "2025-10-09T09:20:46.538087Z"}]
 LOG  ✅ Found members: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  📋 Found memberships: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👤 Unique user IDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  👤 Getting user profiles for UIDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 50 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  📝 Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13"
  ]
}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 Batch get response: 200 ()
 LOG  📋 Raw batch get results: [{"found": {"createTime": "2025-10-05T04:02:33.895822Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-09T09:10:55.791263Z"}, "readTime": "2025-10-09T09:19:58.776246Z"}]
 LOG  👤 User profile for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test"}
 LOG  ✅ User profiles loaded: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  📋 User profiles loaded: {"3Or6WAVPWOXBTokum8nqQiB0fx13": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}}
 LOG  ✅ Members with profiles: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "profile": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}, "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👥 Member data for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"email": "abc@gmail.com", "name": "Last Test", "profileEmail": "abc@gmail.com"}
 LOG  ✅ Complete apartment data: {"description": "", "id": "4i3rGppoguIkOfcu86HK", "invite_code": "I2MWYL", "members": [{"current_apartment_id": "4i3rGppoguIkOfcu86HK", "display_name": "Last Test", "email": "abc@gmail.com", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": "Last Test", "role": "member"}], "name": "דיר"}
 LOG  ✅ Got complete apartment data: {"id": "4i3rGppoguIkOfcu86HK", "memberCount": 1, "name": "דיר"}
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 50 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 50 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 50 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🧪 checklist query ctx {"aptId": "4i3rGppoguIkOfcu86HK", "current": "4i3rGppoguIkOfcu86HK", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 50 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Backfilling cleaning stats from existing data...
 LOG  🔑 Getting current ID token...
 LOG  🔍 Turn check debug: {"currentTurnUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "currentUserExists": true, "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "isMyTurn": true, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Additional data loaded successfully
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 50 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 50 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 50 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 50 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Dashboard: Loading all data from Firestore...
 LOG  🔄 Refreshing apartment members...
 LOG  🔄 Dashboard: Refreshing data on focus...
 LOG  🔄 Getting cleaning stats...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 No existing cleaning data found, initializing with 0
 LOG  ⚠️ Skipping stats creation - no user data available
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 50 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🏠 Getting complete apartment data for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔍 Getting reliable apartment ID for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 50 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 50 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 50 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 50 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 50 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 50 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Checking user profile for current_apartment_id...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 50 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  🔧 Ensuring current_apartment_id before getting apartment data...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 50 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 50 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Essential data loaded successfully
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  📖 Getting document: apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Getting auth headers...
 LOG  ⏳ Waiting for authentication to be ready...
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 50 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Authentication is ready
 LOG  🔍 Token info: {"algorithm": "RS256", "email": "abc@gmail.com", "expiresAt": "2025-10-09T10:10:52.000Z", "issuedAt": "2025-10-09T09:10:52.000Z", "type": "JWT", "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  ✅ Token project verified: roomies-hub
 LOG  ✅ Auth headers prepared successfully
 LOG  🌐 Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔑 Getting current ID token...
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 50 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 50 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📊 Response status: 200 ()
 LOG  ✅ Document retrieved successfully
 LOG  👥 Getting apartment members with profiles for: 4i3rGppoguIkOfcu86HK
 LOG  👥 Getting apartment members for: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 50 minutes
 LOG  ✅ ID token is valid
 LOG  🔧 Ensuring current_apartment_id before query...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 50 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID for query: 4i3rGppoguIkOfcu86HK
 LOG  📋 Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  📝 Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "4i3rGppoguIkOfcu86HK"
        }
      }
    }
  }
}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 50 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 50 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📊 Members query response: 200 ()
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📋 Raw query results: [{"document": {"createTime": "2025-10-05T04:03:11.945061Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-05T04:03:11.945061Z"}, "readTime": "2025-10-09T09:20:50.286978Z"}]
 LOG  ✅ Found members: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  📋 Found memberships: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👤 Unique user IDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  👤 Getting user profiles for UIDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 50 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  📝 Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13"
  ]
}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  📊 Batch get response: 200 ()
 LOG  📋 Raw batch get results: [{"found": {"createTime": "2025-10-05T04:02:33.895822Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-09T09:10:55.791263Z"}, "readTime": "2025-10-09T09:20:50.552415Z"}]
 LOG  👤 User profile for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test"}
 LOG  ✅ User profiles loaded: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  📋 User profiles loaded: {"3Or6WAVPWOXBTokum8nqQiB0fx13": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}}
 LOG  ✅ Members with profiles: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "profile": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}, "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👥 Member data for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"email": "abc@gmail.com", "name": "Last Test", "profileEmail": "abc@gmail.com"}
 LOG  ✅ Complete apartment data: {"description": "", "id": "4i3rGppoguIkOfcu86HK", "invite_code": "I2MWYL", "members": [{"current_apartment_id": "4i3rGppoguIkOfcu86HK", "display_name": "Last Test", "email": "abc@gmail.com", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": "Last Test", "role": "member"}], "name": "דיר"}
 LOG  ✅ Got complete apartment data: {"id": "4i3rGppoguIkOfcu86HK", "memberCount": 1, "name": "דיר"}
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 50 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 50 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 50 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🧪 checklist query ctx {"aptId": "4i3rGppoguIkOfcu86HK", "current": "4i3rGppoguIkOfcu86HK", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 50 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 Turn check debug: {"currentTurnUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "currentUserExists": true, "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "isMyTurn": true, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Additional data loaded successfully
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Backfilling cleaning stats from existing data...
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 50 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 50 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 50 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 50 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 No existing cleaning data found, initializing with 0
 LOG  ⚠️ Skipping stats creation - no user data available
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 50 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Essential data loaded successfully
 LOG  🚀 Initializing Firebase notifications for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🚀 Initializing Firebase Web notification service...
 LOG  📱 Mobile platform - using mock token for testing
 LOG  📱 Mock FCM Token (for testing): mock_fcm_token_1760001662514_51yyiv57x
 LOG  🔐 Getting auth headers...
 LOG  ⏳ Waiting for authentication to be ready...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 49 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Authentication is ready
 LOG  🔍 Token info: {"algorithm": "RS256", "email": "abc@gmail.com", "expiresAt": "2025-10-09T10:10:52.000Z", "issuedAt": "2025-10-09T09:10:52.000Z", "type": "JWT", "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  ✅ Token project verified: roomies-hub
 LOG  ✅ Auth headers prepared successfully
 LOG  🔍 PATCH request details: {"body": "{
  \"fields\": {
    \"fcm_token\": {
      \"stringValue\": \"mock_fcm_token_1760001662514_51yyiv57x\"
    },
    \"device_type\": {
      \"stringValue\": \"ios\"
    },
    \"last_seen\": {
      \"stringValue\": \"2025-10-09T09:21:02.514Z\"
    }
  }
}", "updateMaskFields": ["fcm_token", "device_type", "last_seen"], "url": "https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13?updateMask.fieldPaths=fcm_token&updateMask.fieldPaths=device_type&updateMask.fieldPaths=last_seen"}
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Dashboard: Loading all data from Firestore...
 LOG  🔄 Refreshing apartment members...
 LOG  🔄 Dashboard: Refreshing data on focus...
 LOG  🔄 Getting cleaning stats...
 LOG  🏠 MainTabs: Loading apartment data for 4i3rGppoguIkOfcu86HK
 LOG  🔄 Refreshing apartment members...
 LOG  🔄 loadCleaningChecklist already in progress, skipping...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 49 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🏠 Getting complete apartment data for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔍 Getting reliable apartment ID for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 49 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 49 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 49 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 49 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 49 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🏠 Getting complete apartment data for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔍 Getting reliable apartment ID for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 49 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 49 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 49 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 49 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 49 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Checking user profile for current_apartment_id...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 49 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Checking user profile for current_apartment_id...
 LOG  ✅ FCM token saved to Firestore
 LOG  📱 Mobile platform - notification listeners not available in Expo Go
 LOG  ✅ Firebase Web notification service initialized successfully
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  🔧 Ensuring current_apartment_id before getting apartment data...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  🔧 Ensuring current_apartment_id before getting apartment data...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 49 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 49 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 49 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 49 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 49 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  📖 Getting document: apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Getting auth headers...
 LOG  ⏳ Waiting for authentication to be ready...
 LOG  🔑 Getting current ID token...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  📖 Getting document: apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Getting auth headers...
 LOG  ⏳ Waiting for authentication to be ready...
 LOG  🔑 Getting current ID token...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 49 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Authentication is ready
 LOG  🔍 Token info: {"algorithm": "RS256", "email": "abc@gmail.com", "expiresAt": "2025-10-09T10:10:52.000Z", "issuedAt": "2025-10-09T09:10:52.000Z", "type": "JWT", "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  ✅ Token project verified: roomies-hub
 LOG  ✅ Auth headers prepared successfully
 LOG  🌐 Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 49 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Authentication is ready
 LOG  🔍 Token info: {"algorithm": "RS256", "email": "abc@gmail.com", "expiresAt": "2025-10-09T10:10:52.000Z", "issuedAt": "2025-10-09T09:10:52.000Z", "type": "JWT", "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  ✅ Token project verified: roomies-hub
 LOG  ✅ Auth headers prepared successfully
 LOG  🌐 Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 49 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📊 Response status: 200 ()
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Document retrieved successfully
 LOG  👥 Getting apartment members with profiles for: 4i3rGppoguIkOfcu86HK
 LOG  👥 Getting apartment members for: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  📊 Response status: 200 ()
 LOG  ✅ Document retrieved successfully
 LOG  👥 Getting apartment members with profiles for: 4i3rGppoguIkOfcu86HK
 LOG  👥 Getting apartment members for: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 49 minutes
 LOG  ✅ ID token is valid
 LOG  🔧 Ensuring current_apartment_id before query...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 49 minutes
 LOG  ✅ ID token is valid
 LOG  🔧 Ensuring current_apartment_id before query...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 49 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 49 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 49 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID for query: 4i3rGppoguIkOfcu86HK
 LOG  📋 Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  📝 Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "4i3rGppoguIkOfcu86HK"
        }
      }
    }
  }
}
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID for query: 4i3rGppoguIkOfcu86HK
 LOG  📋 Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  📝 Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "4i3rGppoguIkOfcu86HK"
        }
      }
    }
  }
}
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 Members query response: 200 ()
 LOG  📋 Raw query results: [{"document": {"createTime": "2025-10-05T04:03:11.945061Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-05T04:03:11.945061Z"}, "readTime": "2025-10-09T09:21:03.792718Z"}]
 LOG  ✅ Found members: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  📋 Found memberships: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👤 Unique user IDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  👤 Getting user profiles for UIDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 49 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  📝 Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13"
  ]
}
 LOG  📊 Members query response: 200 ()
 LOG  📋 Raw query results: [{"document": {"createTime": "2025-10-05T04:03:11.945061Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-05T04:03:11.945061Z"}, "readTime": "2025-10-09T09:21:03.830298Z"}]
 LOG  ✅ Found members: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  📋 Found memberships: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👤 Unique user IDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  👤 Getting user profiles for UIDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 49 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  📝 Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13"
  ]
}
 LOG  📊 Batch get response: 200 ()
 LOG  📋 Raw batch get results: [{"found": {"createTime": "2025-10-05T04:02:33.895822Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-09T09:21:02.796683Z"}, "readTime": "2025-10-09T09:21:02.796683Z"}]
 LOG  👤 User profile for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test"}
 LOG  ✅ User profiles loaded: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  📋 User profiles loaded: {"3Or6WAVPWOXBTokum8nqQiB0fx13": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}}
 LOG  ✅ Members with profiles: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "profile": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}, "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👥 Member data for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"email": "abc@gmail.com", "name": "Last Test", "profileEmail": "abc@gmail.com"}
 LOG  ✅ Complete apartment data: {"description": "", "id": "4i3rGppoguIkOfcu86HK", "invite_code": "I2MWYL", "members": [{"current_apartment_id": "4i3rGppoguIkOfcu86HK", "display_name": "Last Test", "email": "abc@gmail.com", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": "Last Test", "role": "member"}], "name": "דיר"}
 LOG  ✅ Got complete apartment data: {"id": "4i3rGppoguIkOfcu86HK", "memberCount": 1, "name": "דיר"}
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 49 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 49 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📊 Batch get response: 200 ()
 LOG  📋 Raw batch get results: [{"found": {"createTime": "2025-10-05T04:02:33.895822Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-09T09:21:02.796683Z"}, "readTime": "2025-10-09T09:21:02.796683Z"}]
 LOG  👤 User profile for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test"}
 LOG  ✅ User profiles loaded: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  📋 User profiles loaded: {"3Or6WAVPWOXBTokum8nqQiB0fx13": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}}
 LOG  ✅ Members with profiles: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "profile": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}, "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👥 Member data for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"email": "abc@gmail.com", "name": "Last Test", "profileEmail": "abc@gmail.com"}
 LOG  ✅ Complete apartment data: {"description": "", "id": "4i3rGppoguIkOfcu86HK", "invite_code": "I2MWYL", "members": [{"current_apartment_id": "4i3rGppoguIkOfcu86HK", "display_name": "Last Test", "email": "abc@gmail.com", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": "Last Test", "role": "member"}], "name": "דיר"}
 LOG  ✅ Got complete apartment data: {"id": "4i3rGppoguIkOfcu86HK", "memberCount": 1, "name": "דיר"}
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ MainTabs: Apartment data loaded successfully
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🧪 checklist query ctx {"aptId": "4i3rGppoguIkOfcu86HK", "current": "4i3rGppoguIkOfcu86HK", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Turn check debug: {"currentTurnUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "currentUserExists": true, "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "isMyTurn": true, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Additional data loaded successfully
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Backfilling cleaning stats from existing data...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 49 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 49 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 49 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 49 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 No existing cleaning data found, initializing with 0
 LOG  ⚠️ Skipping stats creation - no user data available
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 49 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Essential data loaded successfully
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Dashboard: Loading all data from Firestore...
 LOG  🔄 Refreshing apartment members...
 LOG  🔄 Dashboard: Refreshing data on focus...
 LOG  🔄 Getting cleaning stats...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 49 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🏠 Getting complete apartment data for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔍 Getting reliable apartment ID for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 49 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 49 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 49 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 49 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 49 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Checking user profile for current_apartment_id...
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  🔧 Ensuring current_apartment_id before getting apartment data...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 49 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 49 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 49 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  📖 Getting document: apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Getting auth headers...
 LOG  ⏳ Waiting for authentication to be ready...
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 49 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Authentication is ready
 LOG  🔍 Token info: {"algorithm": "RS256", "email": "abc@gmail.com", "expiresAt": "2025-10-09T10:10:52.000Z", "issuedAt": "2025-10-09T09:10:52.000Z", "type": "JWT", "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  ✅ Token project verified: roomies-hub
 LOG  ✅ Auth headers prepared successfully
 LOG  🌐 Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  📊 Response status: 200 ()
 LOG  ✅ Document retrieved successfully
 LOG  👥 Getting apartment members with profiles for: 4i3rGppoguIkOfcu86HK
 LOG  👥 Getting apartment members for: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 49 minutes
 LOG  ✅ ID token is valid
 LOG  🔧 Ensuring current_apartment_id before query...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 49 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 49 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID for query: 4i3rGppoguIkOfcu86HK
 LOG  📋 Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  📝 Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "4i3rGppoguIkOfcu86HK"
        }
      }
    }
  }
}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 49 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📊 Members query response: 200 ()
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📋 Raw query results: [{"document": {"createTime": "2025-10-05T04:03:11.945061Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-05T04:03:11.945061Z"}, "readTime": "2025-10-09T09:21:15.725519Z"}]
 LOG  ✅ Found members: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  📋 Found memberships: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👤 Unique user IDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  👤 Getting user profiles for UIDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 49 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  📝 Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13"
  ]
}
 LOG  📊 Batch get response: 200 ()
 LOG  📋 Raw batch get results: [{"found": {"createTime": "2025-10-05T04:02:33.895822Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-09T09:21:02.796683Z"}, "readTime": "2025-10-09T09:21:15.963504Z"}]
 LOG  👤 User profile for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test"}
 LOG  ✅ User profiles loaded: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  📋 User profiles loaded: {"3Or6WAVPWOXBTokum8nqQiB0fx13": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}}
 LOG  ✅ Members with profiles: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "profile": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}, "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👥 Member data for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"email": "abc@gmail.com", "name": "Last Test", "profileEmail": "abc@gmail.com"}
 LOG  ✅ Complete apartment data: {"description": "", "id": "4i3rGppoguIkOfcu86HK", "invite_code": "I2MWYL", "members": [{"current_apartment_id": "4i3rGppoguIkOfcu86HK", "display_name": "Last Test", "email": "abc@gmail.com", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": "Last Test", "role": "member"}], "name": "דיר"}
 LOG  ✅ Got complete apartment data: {"id": "4i3rGppoguIkOfcu86HK", "memberCount": 1, "name": "דיר"}
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 49 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 49 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🧪 checklist query ctx {"aptId": "4i3rGppoguIkOfcu86HK", "current": "4i3rGppoguIkOfcu86HK", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Turn check debug: {"currentTurnUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "currentUserExists": true, "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "isMyTurn": true, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Additional data loaded successfully
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Backfilling cleaning stats from existing data...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 49 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 49 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 49 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 49 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 No existing cleaning data found, initializing with 0
 LOG  ⚠️ Skipping stats creation - no user data available
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 49 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Essential data loaded successfully
 ERROR  Warning: TypeError: Cannot read property 'backgroundColor' of undefined

This error is located at:

[0m [90m 15 |[39m
 [90m 16 |[39m [36mexport[39m [36mconst[39m [33mDayPicker[39m[33m:[39m [33mReact[39m[33m.[39m[33mFC[39m[33m<[39m[33mDayPickerProps[39m[33m>[39m [33m=[39m ({ 
[31m[1m>[22m[39m[90m 17 |[39m   selectedDay[33m,[39m 
 [90m    |[39m              [31m[1m^[22m[39m
 [90m 18 |[39m   onDayChange[33m,[39m 
 [90m 19 |[39m   style 
 [90m 20 |[39m }) [33m=>[39m {[0m

Call Stack
  DayPicker (src/components/DayPicker.tsx:17:14)
  <global> (src/theme/components/ThemedCard.tsx:6)
  Wrapper (<anonymous>)
  <global> (src/theme/components/ThemedView.tsx:6)
  <global> (src/theme/components/ThemedView.tsx:6)
  ConfirmModal (src/components/ConfirmModal.tsx:58:13)
  SettingsScreen (src/screens/SettingsScreen.tsx:28:31)
  MainTabs (src/navigation/AppNavigator.tsx:26:31)
  ScreenContentWrapper (<anonymous>)
  RNSScreenStack (<anonymous>)
  AppNavigator (src/navigation/AppNavigator.tsx:113:37)
  ThemedRoot (App.tsx:74:45)
  processAlertQueue (src/components/ThemedAlert.tsx:208:5)
  <global> (src/theme/ThemeProvider.tsx:14:19)
  RNCSafeAreaProvider (<anonymous>)
  App (App.tsx:48:31)
 LOG  🔄 Settings: Refreshing apartment members on mount
 LOG  🔄 Refreshing apartment members...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 47 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🏠 Getting complete apartment data for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔍 Getting reliable apartment ID for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 47 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 47 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Checking user profile for current_apartment_id...
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  🔧 Ensuring current_apartment_id before getting apartment data...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 47 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 47 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  📖 Getting document: apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Getting auth headers...
 LOG  ⏳ Waiting for authentication to be ready...
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 47 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Authentication is ready
 LOG  🔍 Token info: {"algorithm": "RS256", "email": "abc@gmail.com", "expiresAt": "2025-10-09T10:10:52.000Z", "issuedAt": "2025-10-09T09:10:52.000Z", "type": "JWT", "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  ✅ Token project verified: roomies-hub
 LOG  ✅ Auth headers prepared successfully
 LOG  🌐 Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  📊 Response status: 200 ()
 LOG  ✅ Document retrieved successfully
 LOG  👥 Getting apartment members with profiles for: 4i3rGppoguIkOfcu86HK
 LOG  👥 Getting apartment members for: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 47 minutes
 LOG  ✅ ID token is valid
 LOG  🔧 Ensuring current_apartment_id before query...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 47 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 47 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID for query: 4i3rGppoguIkOfcu86HK
 LOG  📋 Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  📝 Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "4i3rGppoguIkOfcu86HK"
        }
      }
    }
  }
}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 47 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📊 Members query response: 200 ()
 LOG  📋 Raw query results: [{"document": {"createTime": "2025-10-05T04:03:11.945061Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-05T04:03:11.945061Z"}, "readTime": "2025-10-09T09:23:23.002879Z"}]
 LOG  ✅ Found members: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  📋 Found memberships: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👤 Unique user IDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  👤 Getting user profiles for UIDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 47 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  📝 Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13"
  ]
}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 Batch get response: 200 ()
 LOG  📋 Raw batch get results: [{"found": {"createTime": "2025-10-05T04:02:33.895822Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-09T09:21:02.796683Z"}, "readTime": "2025-10-09T09:22:28.046052Z"}]
 LOG  👤 User profile for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test"}
 LOG  ✅ User profiles loaded: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  📋 User profiles loaded: {"3Or6WAVPWOXBTokum8nqQiB0fx13": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}}
 LOG  ✅ Members with profiles: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "profile": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}, "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👥 Member data for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"email": "abc@gmail.com", "name": "Last Test", "profileEmail": "abc@gmail.com"}
 LOG  ✅ Complete apartment data: {"description": "", "id": "4i3rGppoguIkOfcu86HK", "invite_code": "I2MWYL", "members": [{"current_apartment_id": "4i3rGppoguIkOfcu86HK", "display_name": "Last Test", "email": "abc@gmail.com", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": "Last Test", "role": "member"}], "name": "דיר"}
 LOG  ✅ Got complete apartment data: {"id": "4i3rGppoguIkOfcu86HK", "memberCount": 1, "name": "דיר"}
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🧪 checklist query ctx {"aptId": "4i3rGppoguIkOfcu86HK", "current": "4i3rGppoguIkOfcu86HK", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔍 Turn check debug: {"currentTurnUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "currentUserExists": true, "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "isMyTurn": true, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Dashboard: Loading all data from Firestore...
 LOG  🔄 Refreshing apartment members...
 LOG  🔑 Getting current ID token...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🏠 Getting complete apartment data for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔍 Getting reliable apartment ID for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Checking user profile for current_apartment_id...
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  🔧 Ensuring current_apartment_id before getting apartment data...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  📖 Getting document: apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Getting auth headers...
 LOG  ⏳ Waiting for authentication to be ready...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Authentication is ready
 LOG  🔍 Token info: {"algorithm": "RS256", "email": "abc@gmail.com", "expiresAt": "2025-10-09T10:10:52.000Z", "issuedAt": "2025-10-09T09:10:52.000Z", "type": "JWT", "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  ✅ Token project verified: roomies-hub
 LOG  ✅ Auth headers prepared successfully
 LOG  🌐 Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  📊 Response status: 200 ()
 LOG  ✅ Document retrieved successfully
 LOG  👥 Getting apartment members with profiles for: 4i3rGppoguIkOfcu86HK
 LOG  👥 Getting apartment members for: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  🔧 Ensuring current_apartment_id before query...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID for query: 4i3rGppoguIkOfcu86HK
 LOG  📋 Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  📝 Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "4i3rGppoguIkOfcu86HK"
        }
      }
    }
  }
}
 LOG  📊 Members query response: 200 ()
 LOG  📋 Raw query results: [{"document": {"createTime": "2025-10-05T04:03:11.945061Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-05T04:03:11.945061Z"}, "readTime": "2025-10-09T09:24:10.981787Z"}]
 LOG  ✅ Found members: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  📋 Found memberships: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👤 Unique user IDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  👤 Getting user profiles for UIDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  📝 Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13"
  ]
}
 LOG  📊 Batch get response: 200 ()
 LOG  📋 Raw batch get results: [{"found": {"createTime": "2025-10-05T04:02:33.895822Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-09T09:21:02.796683Z"}, "readTime": "2025-10-09T09:24:11.210702Z"}]
 LOG  👤 User profile for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test"}
 LOG  ✅ User profiles loaded: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  📋 User profiles loaded: {"3Or6WAVPWOXBTokum8nqQiB0fx13": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}}
 LOG  ✅ Members with profiles: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "profile": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}, "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👥 Member data for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"email": "abc@gmail.com", "name": "Last Test", "profileEmail": "abc@gmail.com"}
 LOG  ✅ Complete apartment data: {"description": "", "id": "4i3rGppoguIkOfcu86HK", "invite_code": "I2MWYL", "members": [{"current_apartment_id": "4i3rGppoguIkOfcu86HK", "display_name": "Last Test", "email": "abc@gmail.com", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": "Last Test", "role": "member"}], "name": "דיר"}
 LOG  ✅ Got complete apartment data: {"id": "4i3rGppoguIkOfcu86HK", "memberCount": 1, "name": "דיר"}
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Backfilling cleaning stats from existing data...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔄 Dashboard: Refreshing data on focus...
 LOG  🔄 Getting cleaning stats...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 No existing cleaning data found, initializing with 0
 LOG  ⚠️ Skipping stats creation - no user data available
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Dashboard: Loading all data from Firestore...
 LOG  🔄 Refreshing apartment members...
 LOG  🔄 Dashboard: Refreshing data on focus...
 LOG  🔄 loadCleaningChecklist already in progress, skipping...
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🏠 Getting complete apartment data for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔍 Getting reliable apartment ID for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Checking user profile for current_apartment_id...
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Essential data loaded successfully
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🧪 checklist query ctx {"aptId": "4i3rGppoguIkOfcu86HK", "current": "4i3rGppoguIkOfcu86HK", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  🔧 Ensuring current_apartment_id before getting apartment data...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 Turn check debug: {"currentTurnUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "currentUserExists": true, "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "isMyTurn": true, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Additional data loaded successfully
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  📖 Getting document: apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Getting auth headers...
 LOG  ⏳ Waiting for authentication to be ready...
 LOG  🔑 Getting current ID token...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Authentication is ready
 LOG  🔍 Token info: {"algorithm": "RS256", "email": "abc@gmail.com", "expiresAt": "2025-10-09T10:10:52.000Z", "issuedAt": "2025-10-09T09:10:52.000Z", "type": "JWT", "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  ✅ Token project verified: roomies-hub
 LOG  ✅ Auth headers prepared successfully
 LOG  🌐 Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Additional data loaded successfully
 LOG  📊 Response status: 200 ()
 LOG  ✅ Document retrieved successfully
 LOG  👥 Getting apartment members with profiles for: 4i3rGppoguIkOfcu86HK
 LOG  👥 Getting apartment members for: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  🔧 Ensuring current_apartment_id before query...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID for query: 4i3rGppoguIkOfcu86HK
 LOG  📋 Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  📝 Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "4i3rGppoguIkOfcu86HK"
        }
      }
    }
  }
}
 LOG  📊 Members query response: 200 ()
 LOG  📋 Raw query results: [{"document": {"createTime": "2025-10-05T04:03:11.945061Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-05T04:03:11.945061Z"}, "readTime": "2025-10-09T09:24:14.744008Z"}]
 LOG  ✅ Found members: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  📋 Found memberships: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👤 Unique user IDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  👤 Getting user profiles for UIDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  📝 Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13"
  ]
}
 LOG  📊 Batch get response: 200 ()
 LOG  📋 Raw batch get results: [{"found": {"createTime": "2025-10-05T04:02:33.895822Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-09T09:21:02.796683Z"}, "readTime": "2025-10-09T09:23:42.639612Z"}]
 LOG  👤 User profile for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test"}
 LOG  ✅ User profiles loaded: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  📋 User profiles loaded: {"3Or6WAVPWOXBTokum8nqQiB0fx13": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}}
 LOG  ✅ Members with profiles: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "profile": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}, "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👥 Member data for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"email": "abc@gmail.com", "name": "Last Test", "profileEmail": "abc@gmail.com"}
 LOG  ✅ Complete apartment data: {"description": "", "id": "4i3rGppoguIkOfcu86HK", "invite_code": "I2MWYL", "members": [{"current_apartment_id": "4i3rGppoguIkOfcu86HK", "display_name": "Last Test", "email": "abc@gmail.com", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": "Last Test", "role": "member"}], "name": "דיר"}
 LOG  ✅ Got complete apartment data: {"id": "4i3rGppoguIkOfcu86HK", "memberCount": 1, "name": "דיר"}
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Backfilling cleaning stats from existing data...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔄 Dashboard: Refreshing data on focus...
 LOG  🔄 Getting cleaning stats...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 No existing cleaning data found, initializing with 0
 LOG  ⚠️ Skipping stats creation - no user data available
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Dashboard: Loading all data from Firestore...
 LOG  🔄 Refreshing apartment members...
 LOG  🔄 Dashboard: Refreshing data on focus...
 LOG  🔄 loadCleaningChecklist already in progress, skipping...
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🏠 Getting complete apartment data for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔍 Getting reliable apartment ID for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Essential data loaded successfully
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Checking user profile for current_apartment_id...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  🔧 Ensuring current_apartment_id before getting apartment data...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🧪 checklist query ctx {"aptId": "4i3rGppoguIkOfcu86HK", "current": "4i3rGppoguIkOfcu86HK", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  📖 Getting document: apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Getting auth headers...
 LOG  ⏳ Waiting for authentication to be ready...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Authentication is ready
 LOG  🔍 Token info: {"algorithm": "RS256", "email": "abc@gmail.com", "expiresAt": "2025-10-09T10:10:52.000Z", "issuedAt": "2025-10-09T09:10:52.000Z", "type": "JWT", "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  ✅ Token project verified: roomies-hub
 LOG  ✅ Auth headers prepared successfully
 LOG  🌐 Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  🔍 Turn check debug: {"currentTurnUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "currentUserExists": true, "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "isMyTurn": true, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Additional data loaded successfully
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Additional data loaded successfully
 LOG  📊 Response status: 200 ()
 LOG  ✅ Document retrieved successfully
 LOG  👥 Getting apartment members with profiles for: 4i3rGppoguIkOfcu86HK
 LOG  👥 Getting apartment members for: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  🔧 Ensuring current_apartment_id before query...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID for query: 4i3rGppoguIkOfcu86HK
 LOG  📋 Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  📝 Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "4i3rGppoguIkOfcu86HK"
        }
      }
    }
  }
}
 LOG  📊 Members query response: 200 ()
 LOG  📋 Raw query results: [{"document": {"createTime": "2025-10-05T04:03:11.945061Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-05T04:03:11.945061Z"}, "readTime": "2025-10-09T09:24:18.604379Z"}]
 LOG  ✅ Found members: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  📋 Found memberships: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👤 Unique user IDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  👤 Getting user profiles for UIDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  📝 Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13"
  ]
}
 LOG  📊 Batch get response: 200 ()
 LOG  📋 Raw batch get results: [{"found": {"createTime": "2025-10-05T04:02:33.895822Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-09T09:21:02.796683Z"}, "readTime": "2025-10-09T09:23:42.639612Z"}]
 LOG  👤 User profile for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test"}
 LOG  ✅ User profiles loaded: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  📋 User profiles loaded: {"3Or6WAVPWOXBTokum8nqQiB0fx13": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}}
 LOG  ✅ Members with profiles: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "profile": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}, "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👥 Member data for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"email": "abc@gmail.com", "name": "Last Test", "profileEmail": "abc@gmail.com"}
 LOG  ✅ Complete apartment data: {"description": "", "id": "4i3rGppoguIkOfcu86HK", "invite_code": "I2MWYL", "members": [{"current_apartment_id": "4i3rGppoguIkOfcu86HK", "display_name": "Last Test", "email": "abc@gmail.com", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": "Last Test", "role": "member"}], "name": "דיר"}
 LOG  ✅ Got complete apartment data: {"id": "4i3rGppoguIkOfcu86HK", "memberCount": 1, "name": "דיר"}
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Backfilling cleaning stats from existing data...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 No existing cleaning data found, initializing with 0
 LOG  ⚠️ Skipping stats creation - no user data available
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Essential data loaded successfully
 ERROR  Warning: TypeError: Cannot read property 'backgroundColor' of undefined

This error is located at:

[0m [90m 16 |[39m
 [90m 17 |[39m [36mexport[39m [36mconst[39m [33mDayPicker[39m[33m:[39m [33mReact[39m[33m.[39m[33mFC[39m[33m<[39m[33mDayPickerProps[39m[33m>[39m [33m=[39m ({ 
[31m[1m>[22m[39m[90m 18 |[39m   selectedDay[33m,[39m 
 [90m    |[39m              [31m[1m^[22m[39m
 [90m 19 |[39m   onDayChange[33m,[39m 
 [90m 20 |[39m   style 
 [90m 21 |[39m }) [33m=>[39m {[0m

Call Stack
  DayPicker (src/components/DayPicker.tsx:18:14)
  <global> (src/theme/components/ThemedCard.tsx:3:45)
  Wrapper (<anonymous>)
  <global> (src/theme/components/ThemedView.tsx:3:45)
  <global> (src/theme/components/ThemedView.tsx:3:45)
  ConfirmModal (src/components/ConfirmModal.tsx:55:25)
  SettingsScreen (src/screens/SettingsScreen.tsx:28:31)
  MainTabs (src/navigation/AppNavigator.tsx:26:31)
  ScreenContentWrapper (<anonymous>)
  RNSScreenStack (<anonymous>)
  AppNavigator (src/navigation/AppNavigator.tsx:113:37)
  ThemedRoot (App.tsx:74:45)
  Promise$argument_0 (src/components/ThemedAlert.tsx:201:58)
  <global> (src/theme/ThemeProvider.tsx:5:63)
  RNCSafeAreaProvider (<anonymous>)
  App (App.tsx:48:31)
 LOG  🚀 Initializing Firebase notifications for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🚀 Initializing Firebase Web notification service...
 LOG  📱 Mobile platform - using mock token for testing
 LOG  📱 Mock FCM Token (for testing): mock_fcm_token_1760001866988_fbb6crakg
 LOG  🔐 Getting auth headers...
 LOG  ⏳ Waiting for authentication to be ready...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Authentication is ready
 LOG  🔍 Token info: {"algorithm": "RS256", "email": "abc@gmail.com", "expiresAt": "2025-10-09T10:10:52.000Z", "issuedAt": "2025-10-09T09:10:52.000Z", "type": "JWT", "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  ✅ Token project verified: roomies-hub
 LOG  ✅ Auth headers prepared successfully
 LOG  🔍 PATCH request details: {"body": "{
  \"fields\": {
    \"fcm_token\": {
      \"stringValue\": \"mock_fcm_token_1760001866988_fbb6crakg\"
    },
    \"device_type\": {
      \"stringValue\": \"ios\"
    },
    \"last_seen\": {
      \"stringValue\": \"2025-10-09T09:24:26.988Z\"
    }
  }
}", "updateMaskFields": ["fcm_token", "device_type", "last_seen"], "url": "https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13?updateMask.fieldPaths=fcm_token&updateMask.fieldPaths=device_type&updateMask.fieldPaths=last_seen"}
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Dashboard: Loading all data from Firestore...
 LOG  🔄 Refreshing apartment members...
 LOG  🔄 Dashboard: Refreshing data on focus...
 LOG  🔄 Getting cleaning stats...
 LOG  🏠 MainTabs: Loading apartment data for 4i3rGppoguIkOfcu86HK
 LOG  🔄 Refreshing apartment members...
 LOG  🔄 loadCleaningChecklist already in progress, skipping...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🏠 Getting complete apartment data for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔍 Getting reliable apartment ID for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🏠 Getting complete apartment data for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔍 Getting reliable apartment ID for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Checking user profile for current_apartment_id...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Checking user profile for current_apartment_id...
 LOG  ✅ FCM token saved to Firestore
 LOG  📱 Mobile platform - notification listeners not available in Expo Go
 LOG  ✅ Firebase Web notification service initialized successfully
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  🔧 Ensuring current_apartment_id before getting apartment data...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  🔧 Ensuring current_apartment_id before getting apartment data...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  📖 Getting document: apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Getting auth headers...
 LOG  ⏳ Waiting for authentication to be ready...
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Authentication is ready
 LOG  🔍 Token info: {"algorithm": "RS256", "email": "abc@gmail.com", "expiresAt": "2025-10-09T10:10:52.000Z", "issuedAt": "2025-10-09T09:10:52.000Z", "type": "JWT", "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  ✅ Token project verified: roomies-hub
 LOG  ✅ Auth headers prepared successfully
 LOG  🌐 Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  📖 Getting document: apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Getting auth headers...
 LOG  ⏳ Waiting for authentication to be ready...
 LOG  🔑 Getting current ID token...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Authentication is ready
 LOG  🔍 Token info: {"algorithm": "RS256", "email": "abc@gmail.com", "expiresAt": "2025-10-09T10:10:52.000Z", "issuedAt": "2025-10-09T09:10:52.000Z", "type": "JWT", "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  ✅ Token project verified: roomies-hub
 LOG  ✅ Auth headers prepared successfully
 LOG  🌐 Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📊 Response status: 200 ()
 LOG  ✅ Document retrieved successfully
 LOG  👥 Getting apartment members with profiles for: 4i3rGppoguIkOfcu86HK
 LOG  👥 Getting apartment members for: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  🔧 Ensuring current_apartment_id before query...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  📊 Response status: 200 ()
 LOG  ✅ Document retrieved successfully
 LOG  👥 Getting apartment members with profiles for: 4i3rGppoguIkOfcu86HK
 LOG  👥 Getting apartment members for: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  🔧 Ensuring current_apartment_id before query...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID for query: 4i3rGppoguIkOfcu86HK
 LOG  📋 Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  📝 Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "4i3rGppoguIkOfcu86HK"
        }
      }
    }
  }
}
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID for query: 4i3rGppoguIkOfcu86HK
 LOG  📋 Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  📝 Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "4i3rGppoguIkOfcu86HK"
        }
      }
    }
  }
}
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 Members query response: 200 ()
 LOG  📋 Raw query results: [{"document": {"createTime": "2025-10-05T04:03:11.945061Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-05T04:03:11.945061Z"}, "readTime": "2025-10-09T09:24:28.181052Z"}]
 LOG  ✅ Found members: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  📋 Found memberships: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👤 Unique user IDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  👤 Getting user profiles for UIDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  📝 Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13"
  ]
}
 LOG  📊 Members query response: 200 ()
 LOG  📋 Raw query results: [{"document": {"createTime": "2025-10-05T04:03:11.945061Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-05T04:03:11.945061Z"}, "readTime": "2025-10-09T09:24:28.195916Z"}]
 LOG  ✅ Found members: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  📋 Found memberships: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👤 Unique user IDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  👤 Getting user profiles for UIDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  📝 Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13"
  ]
}
 LOG  📊 Batch get response: 200 ()
 LOG  📋 Raw batch get results: [{"found": {"createTime": "2025-10-05T04:02:33.895822Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-09T09:24:27.269978Z"}, "readTime": "2025-10-09T09:24:27.871086Z"}]
 LOG  👤 User profile for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test"}
 LOG  ✅ User profiles loaded: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  📋 User profiles loaded: {"3Or6WAVPWOXBTokum8nqQiB0fx13": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}}
 LOG  ✅ Members with profiles: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "profile": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}, "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👥 Member data for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"email": "abc@gmail.com", "name": "Last Test", "profileEmail": "abc@gmail.com"}
 LOG  ✅ Complete apartment data: {"description": "", "id": "4i3rGppoguIkOfcu86HK", "invite_code": "I2MWYL", "members": [{"current_apartment_id": "4i3rGppoguIkOfcu86HK", "display_name": "Last Test", "email": "abc@gmail.com", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": "Last Test", "role": "member"}], "name": "דיר"}
 LOG  ✅ Got complete apartment data: {"id": "4i3rGppoguIkOfcu86HK", "memberCount": 1, "name": "דיר"}
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📊 Batch get response: 200 ()
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📋 Raw batch get results: [{"found": {"createTime": "2025-10-05T04:02:33.895822Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-09T09:24:27.269978Z"}, "readTime": "2025-10-09T09:24:27.871086Z"}]
 LOG  👤 User profile for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test"}
 LOG  ✅ User profiles loaded: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  📋 User profiles loaded: {"3Or6WAVPWOXBTokum8nqQiB0fx13": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}}
 LOG  ✅ Members with profiles: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "profile": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}, "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👥 Member data for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"email": "abc@gmail.com", "name": "Last Test", "profileEmail": "abc@gmail.com"}
 LOG  ✅ Complete apartment data: {"description": "", "id": "4i3rGppoguIkOfcu86HK", "invite_code": "I2MWYL", "members": [{"current_apartment_id": "4i3rGppoguIkOfcu86HK", "display_name": "Last Test", "email": "abc@gmail.com", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": "Last Test", "role": "member"}], "name": "דיר"}
 LOG  ✅ Got complete apartment data: {"id": "4i3rGppoguIkOfcu86HK", "memberCount": 1, "name": "דיר"}
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ MainTabs: Apartment data loaded successfully
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🧪 checklist query ctx {"aptId": "4i3rGppoguIkOfcu86HK", "current": "4i3rGppoguIkOfcu86HK", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Turn check debug: {"currentTurnUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "currentUserExists": true, "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "isMyTurn": true, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Additional data loaded successfully
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Backfilling cleaning stats from existing data...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔄 Settings: Refreshing apartment members on mount
 LOG  🔄 Refreshing apartment members...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🏠 Getting complete apartment data for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔍 Getting reliable apartment ID for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Checking user profile for current_apartment_id...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  🔧 Ensuring current_apartment_id before getting apartment data...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  📖 Getting document: apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Getting auth headers...
 LOG  ⏳ Waiting for authentication to be ready...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Authentication is ready
 LOG  🔍 Token info: {"algorithm": "RS256", "email": "abc@gmail.com", "expiresAt": "2025-10-09T10:10:52.000Z", "issuedAt": "2025-10-09T09:10:52.000Z", "type": "JWT", "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  ✅ Token project verified: roomies-hub
 LOG  ✅ Auth headers prepared successfully
 LOG  🌐 Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 Response status: 200 ()
 LOG  ✅ Document retrieved successfully
 LOG  👥 Getting apartment members with profiles for: 4i3rGppoguIkOfcu86HK
 LOG  👥 Getting apartment members for: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  🔧 Ensuring current_apartment_id before query...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 No existing cleaning data found, initializing with 0
 LOG  ⚠️ Skipping stats creation - no user data available
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID for query: 4i3rGppoguIkOfcu86HK
 LOG  📋 Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  📝 Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "4i3rGppoguIkOfcu86HK"
        }
      }
    }
  }
}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 Members query response: 200 ()
 LOG  📋 Raw query results: [{"document": {"createTime": "2025-10-05T04:03:11.945061Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-05T04:03:11.945061Z"}, "readTime": "2025-10-09T09:24:30.516055Z"}]
 LOG  ✅ Found members: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  📋 Found memberships: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👤 Unique user IDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  👤 Getting user profiles for UIDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  📝 Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13"
  ]
}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Essential data loaded successfully
 LOG  📊 Batch get response: 200 ()
 LOG  📋 Raw batch get results: [{"found": {"createTime": "2025-10-05T04:02:33.895822Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-09T09:24:27.269978Z"}, "readTime": "2025-10-09T09:24:30.723783Z"}]
 LOG  👤 User profile for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test"}
 LOG  ✅ User profiles loaded: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  📋 User profiles loaded: {"3Or6WAVPWOXBTokum8nqQiB0fx13": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}}
 LOG  ✅ Members with profiles: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "profile": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}, "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👥 Member data for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"email": "abc@gmail.com", "name": "Last Test", "profileEmail": "abc@gmail.com"}
 LOG  ✅ Complete apartment data: {"description": "", "id": "4i3rGppoguIkOfcu86HK", "invite_code": "I2MWYL", "members": [{"current_apartment_id": "4i3rGppoguIkOfcu86HK", "display_name": "Last Test", "email": "abc@gmail.com", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": "Last Test", "role": "member"}], "name": "דיר"}
 LOG  ✅ Got complete apartment data: {"id": "4i3rGppoguIkOfcu86HK", "memberCount": 1, "name": "דיר"}
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🧪 checklist query ctx {"aptId": "4i3rGppoguIkOfcu86HK", "current": "4i3rGppoguIkOfcu86HK", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔍 Turn check debug: {"currentTurnUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "currentUserExists": true, "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "isMyTurn": true, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Dashboard: Refreshing data on focus...
 LOG  🔄 Getting cleaning stats...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🧪 checklist query ctx {"aptId": "4i3rGppoguIkOfcu86HK", "current": "4i3rGppoguIkOfcu86HK", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔍 Turn check debug: {"currentTurnUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "currentUserExists": true, "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "isMyTurn": true, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Additional data loaded successfully
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔄 Dashboard: Refreshing data on focus...
 LOG  🔄 loadCleaningChecklist already in progress, skipping...
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  ✅ Dashboard: Additional data loaded successfully
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 46 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🧪 checklist query ctx {"aptId": "4i3rGppoguIkOfcu86HK", "current": "4i3rGppoguIkOfcu86HK", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Turn check debug: {"currentTurnUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "currentUserExists": true, "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "isMyTurn": true, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Dashboard: Loading all data from Firestore...
 LOG  🔄 Refreshing apartment members...
 LOG  🔄 Dashboard: Refreshing data on focus...
 LOG  🔄 Getting cleaning stats...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 44 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🏠 Getting complete apartment data for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔍 Getting reliable apartment ID for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 44 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 44 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 44 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 44 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 44 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Checking user profile for current_apartment_id...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  🔧 Ensuring current_apartment_id before getting apartment data...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 44 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 44 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 44 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  📖 Getting document: apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Getting auth headers...
 LOG  ⏳ Waiting for authentication to be ready...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 44 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Authentication is ready
 LOG  🔍 Token info: {"algorithm": "RS256", "email": "abc@gmail.com", "expiresAt": "2025-10-09T10:10:52.000Z", "issuedAt": "2025-10-09T09:10:52.000Z", "type": "JWT", "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  ✅ Token project verified: roomies-hub
 LOG  ✅ Auth headers prepared successfully
 LOG  🌐 Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 44 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📊 Response status: 200 ()
 LOG  ✅ Document retrieved successfully
 LOG  👥 Getting apartment members with profiles for: 4i3rGppoguIkOfcu86HK
 LOG  👥 Getting apartment members for: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 44 minutes
 LOG  ✅ ID token is valid
 LOG  🔧 Ensuring current_apartment_id before query...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 44 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 44 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID for query: 4i3rGppoguIkOfcu86HK
 LOG  📋 Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  📝 Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "4i3rGppoguIkOfcu86HK"
        }
      }
    }
  }
}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 44 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 44 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 Members query response: 200 ()
 LOG  📋 Raw query results: [{"document": {"createTime": "2025-10-05T04:03:11.945061Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-05T04:03:11.945061Z"}, "readTime": "2025-10-09T09:26:29.307360Z"}]
 LOG  ✅ Found members: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  📋 Found memberships: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👤 Unique user IDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  👤 Getting user profiles for UIDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 44 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  📝 Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13"
  ]
}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 Batch get response: 200 ()
 LOG  📋 Raw batch get results: [{"found": {"createTime": "2025-10-05T04:02:33.895822Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-09T09:24:27.269978Z"}, "readTime": "2025-10-09T09:26:13.665122Z"}]
 LOG  👤 User profile for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test"}
 LOG  ✅ User profiles loaded: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  📋 User profiles loaded: {"3Or6WAVPWOXBTokum8nqQiB0fx13": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}}
 LOG  ✅ Members with profiles: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "profile": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}, "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👥 Member data for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"email": "abc@gmail.com", "name": "Last Test", "profileEmail": "abc@gmail.com"}
 LOG  ✅ Complete apartment data: {"description": "", "id": "4i3rGppoguIkOfcu86HK", "invite_code": "I2MWYL", "members": [{"current_apartment_id": "4i3rGppoguIkOfcu86HK", "display_name": "Last Test", "email": "abc@gmail.com", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": "Last Test", "role": "member"}], "name": "דיר"}
 LOG  ✅ Got complete apartment data: {"id": "4i3rGppoguIkOfcu86HK", "memberCount": 1, "name": "דיר"}
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 44 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 44 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 44 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🧪 checklist query ctx {"aptId": "4i3rGppoguIkOfcu86HK", "current": "4i3rGppoguIkOfcu86HK", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 44 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Backfilling cleaning stats from existing data...
 LOG  🔑 Getting current ID token...
 LOG  🔍 Turn check debug: {"currentTurnUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "currentUserExists": true, "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "isMyTurn": true, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Additional data loaded successfully
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 44 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 44 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 44 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 44 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 No existing cleaning data found, initializing with 0
 LOG  ⚠️ Skipping stats creation - no user data available
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 44 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Essential data loaded successfully
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Dashboard: Loading all data from Firestore...
 LOG  🔄 Refreshing apartment members...
 LOG  🔄 Dashboard: Refreshing data on focus...
 LOG  🔄 Getting cleaning stats...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 44 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🏠 Getting complete apartment data for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔍 Getting reliable apartment ID for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 44 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 44 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 44 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 44 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 44 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Checking user profile for current_apartment_id...
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  🔧 Ensuring current_apartment_id before getting apartment data...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 44 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 44 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 44 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  📖 Getting document: apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Getting auth headers...
 LOG  ⏳ Waiting for authentication to be ready...
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 44 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Authentication is ready
 LOG  🔍 Token info: {"algorithm": "RS256", "email": "abc@gmail.com", "expiresAt": "2025-10-09T10:10:52.000Z", "issuedAt": "2025-10-09T09:10:52.000Z", "type": "JWT", "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  ✅ Token project verified: roomies-hub
 LOG  ✅ Auth headers prepared successfully
 LOG  🌐 Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 44 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📊 Response status: 200 ()
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔑 Getting current ID token...
 LOG  ✅ Document retrieved successfully
 LOG  👥 Getting apartment members with profiles for: 4i3rGppoguIkOfcu86HK
 LOG  👥 Getting apartment members for: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 44 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 44 minutes
 LOG  ✅ ID token is valid
 LOG  🔧 Ensuring current_apartment_id before query...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 44 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID for query: 4i3rGppoguIkOfcu86HK
 LOG  📋 Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  📝 Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "4i3rGppoguIkOfcu86HK"
        }
      }
    }
  }
}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 44 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 44 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 Members query response: 200 ()
 LOG  📋 Raw query results: [{"document": {"createTime": "2025-10-05T04:03:11.945061Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-05T04:03:11.945061Z"}, "readTime": "2025-10-09T09:26:48.652490Z"}]
 LOG  ✅ Found members: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  📋 Found memberships: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👤 Unique user IDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  👤 Getting user profiles for UIDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 44 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  📝 Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13"
  ]
}
 LOG  📊 Batch get response: 200 ()
 LOG  📋 Raw batch get results: [{"found": {"createTime": "2025-10-05T04:02:33.895822Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-09T09:24:27.269978Z"}, "readTime": "2025-10-09T09:26:13.665122Z"}]
 LOG  👤 User profile for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test"}
 LOG  ✅ User profiles loaded: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  📋 User profiles loaded: {"3Or6WAVPWOXBTokum8nqQiB0fx13": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}}
 LOG  ✅ Members with profiles: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "profile": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}, "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👥 Member data for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"email": "abc@gmail.com", "name": "Last Test", "profileEmail": "abc@gmail.com"}
 LOG  ✅ Complete apartment data: {"description": "", "id": "4i3rGppoguIkOfcu86HK", "invite_code": "I2MWYL", "members": [{"current_apartment_id": "4i3rGppoguIkOfcu86HK", "display_name": "Last Test", "email": "abc@gmail.com", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": "Last Test", "role": "member"}], "name": "דיר"}
 LOG  ✅ Got complete apartment data: {"id": "4i3rGppoguIkOfcu86HK", "memberCount": 1, "name": "דיר"}
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 44 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 44 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 44 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🧪 checklist query ctx {"aptId": "4i3rGppoguIkOfcu86HK", "current": "4i3rGppoguIkOfcu86HK", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 44 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Turn check debug: {"currentTurnUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "currentUserExists": true, "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "isMyTurn": true, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Additional data loaded successfully
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Backfilling cleaning stats from existing data...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 44 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 44 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 44 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 44 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 No existing cleaning data found, initializing with 0
 LOG  ⚠️ Skipping stats creation - no user data available
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 44 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Essential data loaded successfully
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Dashboard: Loading all data from Firestore...
 LOG  🔄 Refreshing apartment members...
 LOG  🔄 Dashboard: Refreshing data on focus...
 LOG  🔄 Getting cleaning stats...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 43 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🏠 Getting complete apartment data for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔍 Getting reliable apartment ID for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 43 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 43 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 43 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 43 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 43 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Checking user profile for current_apartment_id...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  🔧 Ensuring current_apartment_id before getting apartment data...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 43 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 43 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 43 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  📖 Getting document: apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Getting auth headers...
 LOG  ⏳ Waiting for authentication to be ready...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 43 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Authentication is ready
 LOG  🔍 Token info: {"algorithm": "RS256", "email": "abc@gmail.com", "expiresAt": "2025-10-09T10:10:52.000Z", "issuedAt": "2025-10-09T09:10:52.000Z", "type": "JWT", "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  ✅ Token project verified: roomies-hub
 LOG  ✅ Auth headers prepared successfully
 LOG  🌐 Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 43 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📊 Response status: 200 ()
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔑 Getting current ID token...
 LOG  ✅ Document retrieved successfully
 LOG  👥 Getting apartment members with profiles for: 4i3rGppoguIkOfcu86HK
 LOG  👥 Getting apartment members for: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 43 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 43 minutes
 LOG  ✅ ID token is valid
 LOG  🔧 Ensuring current_apartment_id before query...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 43 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 43 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 43 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID for query: 4i3rGppoguIkOfcu86HK
 LOG  📋 Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  📝 Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "4i3rGppoguIkOfcu86HK"
        }
      }
    }
  }
}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 Members query response: 200 ()
 LOG  📋 Raw query results: [{"document": {"createTime": "2025-10-05T04:03:11.945061Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-05T04:03:11.945061Z"}, "readTime": "2025-10-09T09:27:25.434818Z"}]
 LOG  ✅ Found members: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  📋 Found memberships: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👤 Unique user IDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  👤 Getting user profiles for UIDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 43 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  📝 Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13"
  ]
}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  📊 Batch get response: 200 ()
 LOG  📋 Raw batch get results: [{"found": {"createTime": "2025-10-05T04:02:33.895822Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-09T09:24:27.269978Z"}, "readTime": "2025-10-09T09:27:24.702620Z"}]
 LOG  👤 User profile for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test"}
 LOG  ✅ User profiles loaded: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  📋 User profiles loaded: {"3Or6WAVPWOXBTokum8nqQiB0fx13": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}}
 LOG  ✅ Members with profiles: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "profile": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}, "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👥 Member data for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"email": "abc@gmail.com", "name": "Last Test", "profileEmail": "abc@gmail.com"}
 LOG  ✅ Complete apartment data: {"description": "", "id": "4i3rGppoguIkOfcu86HK", "invite_code": "I2MWYL", "members": [{"current_apartment_id": "4i3rGppoguIkOfcu86HK", "display_name": "Last Test", "email": "abc@gmail.com", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": "Last Test", "role": "member"}], "name": "דיר"}
 LOG  ✅ Got complete apartment data: {"id": "4i3rGppoguIkOfcu86HK", "memberCount": 1, "name": "דיר"}
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🧪 checklist query ctx {"aptId": "4i3rGppoguIkOfcu86HK", "current": "4i3rGppoguIkOfcu86HK", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 43 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 43 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 43 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 43 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Turn check debug: {"currentTurnUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "currentUserExists": true, "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "isMyTurn": true, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Additional data loaded successfully
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Backfilling cleaning stats from existing data...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 43 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 43 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 43 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 43 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 No existing cleaning data found, initializing with 0
 LOG  ⚠️ Skipping stats creation - no user data available
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 43 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Essential data loaded successfully
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Dashboard: Loading all data from Firestore...
 LOG  🔄 Refreshing apartment members...
 LOG  🔄 Dashboard: Refreshing data on focus...
 LOG  🔄 Getting cleaning stats...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 43 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🏠 Getting complete apartment data for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔍 Getting reliable apartment ID for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 43 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 43 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 43 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 43 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 43 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Checking user profile for current_apartment_id...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  🔧 Ensuring current_apartment_id before getting apartment data...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 43 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 43 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 43 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  📖 Getting document: apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Getting auth headers...
 LOG  ⏳ Waiting for authentication to be ready...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 43 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Authentication is ready
 LOG  🔍 Token info: {"algorithm": "RS256", "email": "abc@gmail.com", "expiresAt": "2025-10-09T10:10:52.000Z", "issuedAt": "2025-10-09T09:10:52.000Z", "type": "JWT", "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  ✅ Token project verified: roomies-hub
 LOG  ✅ Auth headers prepared successfully
 LOG  🌐 Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 43 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📊 Response status: 200 ()
 LOG  ✅ Document retrieved successfully
 LOG  👥 Getting apartment members with profiles for: 4i3rGppoguIkOfcu86HK
 LOG  👥 Getting apartment members for: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 43 minutes
 LOG  ✅ ID token is valid
 LOG  🔧 Ensuring current_apartment_id before query...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 43 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 43 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 43 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID for query: 4i3rGppoguIkOfcu86HK
 LOG  📋 Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  📝 Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "4i3rGppoguIkOfcu86HK"
        }
      }
    }
  }
}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 43 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 Members query response: 200 ()
 LOG  📋 Raw query results: [{"document": {"createTime": "2025-10-05T04:03:11.945061Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-05T04:03:11.945061Z"}, "readTime": "2025-10-09T09:27:36.398780Z"}]
 LOG  ✅ Found members: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  📋 Found memberships: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👤 Unique user IDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  👤 Getting user profiles for UIDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 43 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  📝 Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13"
  ]
}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  📊 Batch get response: 200 ()
 LOG  📋 Raw batch get results: [{"found": {"createTime": "2025-10-05T04:02:33.895822Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-09T09:24:27.269978Z"}, "readTime": "2025-10-09T09:27:26.423910Z"}]
 LOG  👤 User profile for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test"}
 LOG  ✅ User profiles loaded: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  📋 User profiles loaded: {"3Or6WAVPWOXBTokum8nqQiB0fx13": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}}
 LOG  ✅ Members with profiles: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "profile": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}, "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👥 Member data for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"email": "abc@gmail.com", "name": "Last Test", "profileEmail": "abc@gmail.com"}
 LOG  ✅ Complete apartment data: {"description": "", "id": "4i3rGppoguIkOfcu86HK", "invite_code": "I2MWYL", "members": [{"current_apartment_id": "4i3rGppoguIkOfcu86HK", "display_name": "Last Test", "email": "abc@gmail.com", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": "Last Test", "role": "member"}], "name": "דיר"}
 LOG  ✅ Got complete apartment data: {"id": "4i3rGppoguIkOfcu86HK", "memberCount": 1, "name": "דיר"}
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🧪 checklist query ctx {"aptId": "4i3rGppoguIkOfcu86HK", "current": "4i3rGppoguIkOfcu86HK", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 43 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 43 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 43 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 43 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 Turn check debug: {"currentTurnUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "currentUserExists": true, "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "isMyTurn": true, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Additional data loaded successfully
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Backfilling cleaning stats from existing data...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 43 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 43 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 43 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 43 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 No existing cleaning data found, initializing with 0
 LOG  ⚠️ Skipping stats creation - no user data available
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 43 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Essential data loaded successfully
 LOG  🔊 Haptic: light impact
 LOG  🔄 Dashboard: Refreshing data on focus...
 LOG  🔄 Getting cleaning stats...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 43 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 43 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 43 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 43 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 43 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 43 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔊 Haptic: light impact
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 43 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 43 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 43 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 43 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🧪 checklist query ctx {"aptId": "4i3rGppoguIkOfcu86HK", "current": "4i3rGppoguIkOfcu86HK", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔄 Dashboard: Refreshing data on focus...
 LOG  🔄 loadCleaningChecklist already in progress, skipping...
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 43 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 43 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 43 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 Turn check debug: {"currentTurnUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "currentUserExists": true, "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "isMyTurn": true, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Additional data loaded successfully
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 43 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  ✅ Dashboard: Additional data loaded successfully
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 43 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 43 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Dashboard: Loading all data from Firestore...
 LOG  🔄 Refreshing apartment members...
 LOG  🔄 Dashboard: Refreshing data on focus...
 LOG  🔄 Getting cleaning stats...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 42 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🏠 Getting complete apartment data for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔍 Getting reliable apartment ID for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 42 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 42 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 42 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 42 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 42 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Checking user profile for current_apartment_id...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 42 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  🔧 Ensuring current_apartment_id before getting apartment data...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 42 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 42 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  📖 Getting document: apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Getting auth headers...
 LOG  ⏳ Waiting for authentication to be ready...
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 42 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Authentication is ready
 LOG  🔍 Token info: {"algorithm": "RS256", "email": "abc@gmail.com", "expiresAt": "2025-10-09T10:10:52.000Z", "issuedAt": "2025-10-09T09:10:52.000Z", "type": "JWT", "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  ✅ Token project verified: roomies-hub
 LOG  ✅ Auth headers prepared successfully
 LOG  🌐 Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 42 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📊 Response status: 200 ()
 LOG  ✅ Document retrieved successfully
 LOG  👥 Getting apartment members with profiles for: 4i3rGppoguIkOfcu86HK
 LOG  👥 Getting apartment members for: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 42 minutes
 LOG  ✅ ID token is valid
 LOG  🔧 Ensuring current_apartment_id before query...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 42 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 42 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 42 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID for query: 4i3rGppoguIkOfcu86HK
 LOG  📋 Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  📝 Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "4i3rGppoguIkOfcu86HK"
        }
      }
    }
  }
}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 42 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📊 Members query response: 200 ()
 LOG  📋 Raw query results: [{"document": {"createTime": "2025-10-05T04:03:11.945061Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-05T04:03:11.945061Z"}, "readTime": "2025-10-09T09:28:01.791956Z"}]
 LOG  ✅ Found members: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  📋 Found memberships: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👤 Unique user IDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  👤 Getting user profiles for UIDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 42 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  📝 Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13"
  ]
}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 Batch get response: 200 ()
 LOG  📋 Raw batch get results: [{"found": {"createTime": "2025-10-05T04:02:33.895822Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-09T09:24:27.269978Z"}, "readTime": "2025-10-09T09:28:02.022101Z"}]
 LOG  👤 User profile for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test"}
 LOG  ✅ User profiles loaded: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  📋 User profiles loaded: {"3Or6WAVPWOXBTokum8nqQiB0fx13": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}}
 LOG  ✅ Members with profiles: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "profile": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}, "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👥 Member data for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"email": "abc@gmail.com", "name": "Last Test", "profileEmail": "abc@gmail.com"}
 LOG  ✅ Complete apartment data: {"description": "", "id": "4i3rGppoguIkOfcu86HK", "invite_code": "I2MWYL", "members": [{"current_apartment_id": "4i3rGppoguIkOfcu86HK", "display_name": "Last Test", "email": "abc@gmail.com", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": "Last Test", "role": "member"}], "name": "דיר"}
 LOG  ✅ Got complete apartment data: {"id": "4i3rGppoguIkOfcu86HK", "memberCount": 1, "name": "דיר"}
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🧪 checklist query ctx {"aptId": "4i3rGppoguIkOfcu86HK", "current": "4i3rGppoguIkOfcu86HK", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 42 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 42 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 42 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 42 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 Turn check debug: {"currentTurnUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "currentUserExists": true, "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "isMyTurn": true, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Additional data loaded successfully
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Backfilling cleaning stats from existing data...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 42 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 42 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 42 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 42 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 No existing cleaning data found, initializing with 0
 LOG  ⚠️ Skipping stats creation - no user data available
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 42 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Essential data loaded successfully
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Dashboard: Loading all data from Firestore...
 LOG  🔄 Refreshing apartment members...
 LOG  🔄 Dashboard: Refreshing data on focus...
 LOG  🔄 Getting cleaning stats...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🏠 Getting complete apartment data for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔍 Getting reliable apartment ID for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Checking user profile for current_apartment_id...
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  🔧 Ensuring current_apartment_id before getting apartment data...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  📖 Getting document: apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Getting auth headers...
 LOG  ⏳ Waiting for authentication to be ready...
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Authentication is ready
 LOG  🔍 Token info: {"algorithm": "RS256", "email": "abc@gmail.com", "expiresAt": "2025-10-09T10:10:52.000Z", "issuedAt": "2025-10-09T09:10:52.000Z", "type": "JWT", "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  ✅ Token project verified: roomies-hub
 LOG  ✅ Auth headers prepared successfully
 LOG  🌐 Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📊 Response status: 200 ()
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔑 Getting current ID token...
 LOG  ✅ Document retrieved successfully
 LOG  👥 Getting apartment members with profiles for: 4i3rGppoguIkOfcu86HK
 LOG  👥 Getting apartment members for: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  🔧 Ensuring current_apartment_id before query...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID for query: 4i3rGppoguIkOfcu86HK
 LOG  📋 Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  📝 Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "4i3rGppoguIkOfcu86HK"
        }
      }
    }
  }
}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📊 Members query response: 200 ()
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📋 Raw query results: [{"document": {"createTime": "2025-10-05T04:03:11.945061Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-05T04:03:11.945061Z"}, "readTime": "2025-10-09T09:29:01.522372Z"}]
 LOG  ✅ Found members: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  📋 Found memberships: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👤 Unique user IDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  👤 Getting user profiles for UIDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  📝 Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13"
  ]
}
 LOG  📊 Batch get response: 200 ()
 LOG  📋 Raw batch get results: [{"found": {"createTime": "2025-10-05T04:02:33.895822Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-09T09:24:27.269978Z"}, "readTime": "2025-10-09T09:29:01.732818Z"}]
 LOG  👤 User profile for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test"}
 LOG  ✅ User profiles loaded: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  📋 User profiles loaded: {"3Or6WAVPWOXBTokum8nqQiB0fx13": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}}
 LOG  ✅ Members with profiles: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "profile": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}, "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👥 Member data for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"email": "abc@gmail.com", "name": "Last Test", "profileEmail": "abc@gmail.com"}
 LOG  ✅ Complete apartment data: {"description": "", "id": "4i3rGppoguIkOfcu86HK", "invite_code": "I2MWYL", "members": [{"current_apartment_id": "4i3rGppoguIkOfcu86HK", "display_name": "Last Test", "email": "abc@gmail.com", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": "Last Test", "role": "member"}], "name": "דיר"}
 LOG  ✅ Got complete apartment data: {"id": "4i3rGppoguIkOfcu86HK", "memberCount": 1, "name": "דיר"}
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🧪 checklist query ctx {"aptId": "4i3rGppoguIkOfcu86HK", "current": "4i3rGppoguIkOfcu86HK", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Turn check debug: {"currentTurnUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "currentUserExists": true, "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "isMyTurn": true, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Additional data loaded successfully
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Backfilling cleaning stats from existing data...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 No existing cleaning data found, initializing with 0
 LOG  ⚠️ Skipping stats creation - no user data available
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Essential data loaded successfully
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Dashboard: Loading all data from Firestore...
 LOG  🔄 Refreshing apartment members...
 LOG  🔄 Dashboard: Refreshing data on focus...
 LOG  🔄 Getting cleaning stats...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🏠 Getting complete apartment data for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔍 Getting reliable apartment ID for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Checking user profile for current_apartment_id...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  🔧 Ensuring current_apartment_id before getting apartment data...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  📖 Getting document: apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Getting auth headers...
 LOG  ⏳ Waiting for authentication to be ready...
 LOG  🔑 Getting current ID token...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Authentication is ready
 LOG  🔍 Token info: {"algorithm": "RS256", "email": "abc@gmail.com", "expiresAt": "2025-10-09T10:10:52.000Z", "issuedAt": "2025-10-09T09:10:52.000Z", "type": "JWT", "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  ✅ Token project verified: roomies-hub
 LOG  ✅ Auth headers prepared successfully
 LOG  🌐 Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📊 Response status: 200 ()
 LOG  ✅ Document retrieved successfully
 LOG  👥 Getting apartment members with profiles for: 4i3rGppoguIkOfcu86HK
 LOG  👥 Getting apartment members for: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  🔧 Ensuring current_apartment_id before query...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID for query: 4i3rGppoguIkOfcu86HK
 LOG  📋 Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  📝 Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "4i3rGppoguIkOfcu86HK"
        }
      }
    }
  }
}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📊 Members query response: 200 ()
 LOG  📋 Raw query results: [{"document": {"createTime": "2025-10-05T04:03:11.945061Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-05T04:03:11.945061Z"}, "readTime": "2025-10-09T09:29:18.997111Z"}]
 LOG  ✅ Found members: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  📋 Found memberships: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👤 Unique user IDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  👤 Getting user profiles for UIDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  📝 Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13"
  ]
}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 Batch get response: 200 ()
 LOG  📋 Raw batch get results: [{"found": {"createTime": "2025-10-05T04:02:33.895822Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-09T09:24:27.269978Z"}, "readTime": "2025-10-09T09:29:19.228382Z"}]
 LOG  👤 User profile for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test"}
 LOG  ✅ User profiles loaded: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  📋 User profiles loaded: {"3Or6WAVPWOXBTokum8nqQiB0fx13": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}}
 LOG  ✅ Members with profiles: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "profile": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}, "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👥 Member data for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"email": "abc@gmail.com", "name": "Last Test", "profileEmail": "abc@gmail.com"}
 LOG  ✅ Complete apartment data: {"description": "", "id": "4i3rGppoguIkOfcu86HK", "invite_code": "I2MWYL", "members": [{"current_apartment_id": "4i3rGppoguIkOfcu86HK", "display_name": "Last Test", "email": "abc@gmail.com", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": "Last Test", "role": "member"}], "name": "דיר"}
 LOG  ✅ Got complete apartment data: {"id": "4i3rGppoguIkOfcu86HK", "memberCount": 1, "name": "דיר"}
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🧪 checklist query ctx {"aptId": "4i3rGppoguIkOfcu86HK", "current": "4i3rGppoguIkOfcu86HK", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 Turn check debug: {"currentTurnUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "currentUserExists": true, "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "isMyTurn": true, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Additional data loaded successfully
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Backfilling cleaning stats from existing data...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 No existing cleaning data found, initializing with 0
 LOG  ⚠️ Skipping stats creation - no user data available
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Essential data loaded successfully
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Dashboard: Loading all data from Firestore...
 LOG  🔄 Refreshing apartment members...
 LOG  🔄 Dashboard: Refreshing data on focus...
 LOG  🔄 Getting cleaning stats...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🏠 Getting complete apartment data for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔍 Getting reliable apartment ID for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Checking user profile for current_apartment_id...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  🔧 Ensuring current_apartment_id before getting apartment data...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  📖 Getting document: apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Getting auth headers...
 LOG  ⏳ Waiting for authentication to be ready...
 LOG  🔑 Getting current ID token...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Authentication is ready
 LOG  🔍 Token info: {"algorithm": "RS256", "email": "abc@gmail.com", "expiresAt": "2025-10-09T10:10:52.000Z", "issuedAt": "2025-10-09T09:10:52.000Z", "type": "JWT", "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  ✅ Token project verified: roomies-hub
 LOG  ✅ Auth headers prepared successfully
 LOG  🌐 Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📊 Response status: 200 ()
 LOG  ✅ Document retrieved successfully
 LOG  👥 Getting apartment members with profiles for: 4i3rGppoguIkOfcu86HK
 LOG  👥 Getting apartment members for: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  🔧 Ensuring current_apartment_id before query...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID for query: 4i3rGppoguIkOfcu86HK
 LOG  📋 Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  📝 Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "4i3rGppoguIkOfcu86HK"
        }
      }
    }
  }
}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 Members query response: 200 ()
 LOG  📋 Raw query results: [{"document": {"createTime": "2025-10-05T04:03:11.945061Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-05T04:03:11.945061Z"}, "readTime": "2025-10-09T09:29:24.614617Z"}]
 LOG  ✅ Found members: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  📋 Found memberships: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👤 Unique user IDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  👤 Getting user profiles for UIDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  📝 Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13"
  ]
}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📊 Batch get response: 200 ()
 LOG  📋 Raw batch get results: [{"found": {"createTime": "2025-10-05T04:02:33.895822Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-09T09:24:27.269978Z"}, "readTime": "2025-10-09T09:28:41.018062Z"}]
 LOG  👤 User profile for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test"}
 LOG  ✅ User profiles loaded: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  📋 User profiles loaded: {"3Or6WAVPWOXBTokum8nqQiB0fx13": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}}
 LOG  ✅ Members with profiles: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "profile": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}, "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👥 Member data for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"email": "abc@gmail.com", "name": "Last Test", "profileEmail": "abc@gmail.com"}
 LOG  ✅ Complete apartment data: {"description": "", "id": "4i3rGppoguIkOfcu86HK", "invite_code": "I2MWYL", "members": [{"current_apartment_id": "4i3rGppoguIkOfcu86HK", "display_name": "Last Test", "email": "abc@gmail.com", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": "Last Test", "role": "member"}], "name": "דיר"}
 LOG  ✅ Got complete apartment data: {"id": "4i3rGppoguIkOfcu86HK", "memberCount": 1, "name": "דיר"}
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🧪 checklist query ctx {"aptId": "4i3rGppoguIkOfcu86HK", "current": "4i3rGppoguIkOfcu86HK", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 Turn check debug: {"currentTurnUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "currentUserExists": true, "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "isMyTurn": true, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Additional data loaded successfully
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Backfilling cleaning stats from existing data...
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 No existing cleaning data found, initializing with 0
 LOG  ⚠️ Skipping stats creation - no user data available
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Essential data loaded successfully
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Dashboard: Loading all data from Firestore...
 LOG  🔄 Refreshing apartment members...
 LOG  🔄 Dashboard: Refreshing data on focus...
 LOG  🔄 Getting cleaning stats...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🏠 Getting complete apartment data for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔍 Getting reliable apartment ID for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Checking user profile for current_apartment_id...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  🔧 Ensuring current_apartment_id before getting apartment data...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  📖 Getting document: apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Getting auth headers...
 LOG  ⏳ Waiting for authentication to be ready...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Authentication is ready
 LOG  🔍 Token info: {"algorithm": "RS256", "email": "abc@gmail.com", "expiresAt": "2025-10-09T10:10:52.000Z", "issuedAt": "2025-10-09T09:10:52.000Z", "type": "JWT", "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  ✅ Token project verified: roomies-hub
 LOG  ✅ Auth headers prepared successfully
 LOG  🌐 Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  📊 Response status: 200 ()
 LOG  ✅ Document retrieved successfully
 LOG  👥 Getting apartment members with profiles for: 4i3rGppoguIkOfcu86HK
 LOG  👥 Getting apartment members for: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  🔧 Ensuring current_apartment_id before query...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID for query: 4i3rGppoguIkOfcu86HK
 LOG  📋 Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  📝 Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "4i3rGppoguIkOfcu86HK"
        }
      }
    }
  }
}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📊 Members query response: 200 ()
 LOG  📋 Raw query results: [{"document": {"createTime": "2025-10-05T04:03:11.945061Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-05T04:03:11.945061Z"}, "readTime": "2025-10-09T09:29:50.948315Z"}]
 LOG  ✅ Found members: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  📋 Found memberships: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👤 Unique user IDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  👤 Getting user profiles for UIDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  📝 Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13"
  ]
}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 Batch get response: 200 ()
 LOG  📋 Raw batch get results: [{"found": {"createTime": "2025-10-05T04:02:33.895822Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-09T09:24:27.269978Z"}, "readTime": "2025-10-09T09:29:48.302552Z"}]
 LOG  👤 User profile for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test"}
 LOG  ✅ User profiles loaded: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  📋 User profiles loaded: {"3Or6WAVPWOXBTokum8nqQiB0fx13": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}}
 LOG  ✅ Members with profiles: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "profile": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}, "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👥 Member data for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"email": "abc@gmail.com", "name": "Last Test", "profileEmail": "abc@gmail.com"}
 LOG  ✅ Complete apartment data: {"description": "", "id": "4i3rGppoguIkOfcu86HK", "invite_code": "I2MWYL", "members": [{"current_apartment_id": "4i3rGppoguIkOfcu86HK", "display_name": "Last Test", "email": "abc@gmail.com", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": "Last Test", "role": "member"}], "name": "דיר"}
 LOG  ✅ Got complete apartment data: {"id": "4i3rGppoguIkOfcu86HK", "memberCount": 1, "name": "דיר"}
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🧪 checklist query ctx {"aptId": "4i3rGppoguIkOfcu86HK", "current": "4i3rGppoguIkOfcu86HK", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔍 Turn check debug: {"currentTurnUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "currentUserExists": true, "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "isMyTurn": true, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Additional data loaded successfully
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Backfilling cleaning stats from existing data...
 LOG  🔑 Getting current ID token...
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 41 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 No existing cleaning data found, initializing with 0
 LOG  ⚠️ Skipping stats creation - no user data available
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Essential data loaded successfully
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Dashboard: Loading all data from Firestore...
 LOG  🔄 Refreshing apartment members...
 LOG  🔄 Dashboard: Refreshing data on focus...
 LOG  🔄 Getting cleaning stats...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🏠 Getting complete apartment data for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔍 Getting reliable apartment ID for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Checking user profile for current_apartment_id...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  🔧 Ensuring current_apartment_id before getting apartment data...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  📖 Getting document: apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Getting auth headers...
 LOG  ⏳ Waiting for authentication to be ready...
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Authentication is ready
 LOG  🔍 Token info: {"algorithm": "RS256", "email": "abc@gmail.com", "expiresAt": "2025-10-09T10:10:52.000Z", "issuedAt": "2025-10-09T09:10:52.000Z", "type": "JWT", "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  ✅ Token project verified: roomies-hub
 LOG  ✅ Auth headers prepared successfully
 LOG  🌐 Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📊 Response status: 200 ()
 LOG  ✅ Document retrieved successfully
 LOG  👥 Getting apartment members with profiles for: 4i3rGppoguIkOfcu86HK
 LOG  👥 Getting apartment members for: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  🔧 Ensuring current_apartment_id before query...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID for query: 4i3rGppoguIkOfcu86HK
 LOG  📋 Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  📝 Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "4i3rGppoguIkOfcu86HK"
        }
      }
    }
  }
}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 Members query response: 200 ()
 LOG  📋 Raw query results: [{"document": {"createTime": "2025-10-05T04:03:11.945061Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-05T04:03:11.945061Z"}, "readTime": "2025-10-09T09:30:09.483364Z"}]
 LOG  ✅ Found members: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  📋 Found memberships: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👤 Unique user IDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  👤 Getting user profiles for UIDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  📝 Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13"
  ]
}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🧪 checklist query ctx {"aptId": "4i3rGppoguIkOfcu86HK", "current": "4i3rGppoguIkOfcu86HK", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  📊 Batch get response: 200 ()
 LOG  📋 Raw batch get results: [{"found": {"createTime": "2025-10-05T04:02:33.895822Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-09T09:24:27.269978Z"}, "readTime": "2025-10-09T09:29:55.613826Z"}]
 LOG  👤 User profile for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test"}
 LOG  ✅ User profiles loaded: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  📋 User profiles loaded: {"3Or6WAVPWOXBTokum8nqQiB0fx13": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}}
 LOG  ✅ Members with profiles: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "profile": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}, "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👥 Member data for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"email": "abc@gmail.com", "name": "Last Test", "profileEmail": "abc@gmail.com"}
 LOG  ✅ Complete apartment data: {"description": "", "id": "4i3rGppoguIkOfcu86HK", "invite_code": "I2MWYL", "members": [{"current_apartment_id": "4i3rGppoguIkOfcu86HK", "display_name": "Last Test", "email": "abc@gmail.com", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": "Last Test", "role": "member"}], "name": "דיר"}
 LOG  ✅ Got complete apartment data: {"id": "4i3rGppoguIkOfcu86HK", "memberCount": 1, "name": "דיר"}
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 Turn check debug: {"currentTurnUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "currentUserExists": true, "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "isMyTurn": true, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Additional data loaded successfully
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Backfilling cleaning stats from existing data...
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 No existing cleaning data found, initializing with 0
 LOG  ⚠️ Skipping stats creation - no user data available
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Essential data loaded successfully
 LOG  🔊 Haptic: selection
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Dashboard: Loading all data from Firestore...
 LOG  🔄 Refreshing apartment members...
 LOG  🔄 Dashboard: Refreshing data on focus...
 LOG  🔄 Getting cleaning stats...
 LOG  🏠 MainTabs: Loading apartment data for 4i3rGppoguIkOfcu86HK
 LOG  🔄 Refreshing apartment members...
 LOG  🔄 loadCleaningChecklist already in progress, skipping...
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  🔄 Settings: Refreshing apartment members on mount
 LOG  🔄 Refreshing apartment members...
 LOG  🔄 loadCleaningChecklist already in progress, skipping...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🏠 Getting complete apartment data for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔍 Getting reliable apartment ID for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🏠 Getting complete apartment data for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔍 Getting reliable apartment ID for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🏠 Getting complete apartment data for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔍 Getting reliable apartment ID for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Checking user profile for current_apartment_id...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Checking user profile for current_apartment_id...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Checking user profile for current_apartment_id...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  🔧 Ensuring current_apartment_id before getting apartment data...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  🔧 Ensuring current_apartment_id before getting apartment data...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  🔧 Ensuring current_apartment_id before getting apartment data...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  📖 Getting document: apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Getting auth headers...
 LOG  ⏳ Waiting for authentication to be ready...
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Authentication is ready
 LOG  🔍 Token info: {"algorithm": "RS256", "email": "abc@gmail.com", "expiresAt": "2025-10-09T10:10:52.000Z", "issuedAt": "2025-10-09T09:10:52.000Z", "type": "JWT", "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  ✅ Token project verified: roomies-hub
 LOG  ✅ Auth headers prepared successfully
 LOG  🌐 Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  📖 Getting document: apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Getting auth headers...
 LOG  ⏳ Waiting for authentication to be ready...
 LOG  🔑 Getting current ID token...
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  📖 Getting document: apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Getting auth headers...
 LOG  ⏳ Waiting for authentication to be ready...
 LOG  🔑 Getting current ID token...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Authentication is ready
 LOG  🔍 Token info: {"algorithm": "RS256", "email": "abc@gmail.com", "expiresAt": "2025-10-09T10:10:52.000Z", "issuedAt": "2025-10-09T09:10:52.000Z", "type": "JWT", "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  ✅ Token project verified: roomies-hub
 LOG  ✅ Auth headers prepared successfully
 LOG  🌐 Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Authentication is ready
 LOG  🔍 Token info: {"algorithm": "RS256", "email": "abc@gmail.com", "expiresAt": "2025-10-09T10:10:52.000Z", "issuedAt": "2025-10-09T09:10:52.000Z", "type": "JWT", "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  ✅ Token project verified: roomies-hub
 LOG  ✅ Auth headers prepared successfully
 LOG  🌐 Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  📊 Response status: 200 ()
 LOG  ✅ Document retrieved successfully
 LOG  👥 Getting apartment members with profiles for: 4i3rGppoguIkOfcu86HK
 LOG  👥 Getting apartment members for: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  🔧 Ensuring current_apartment_id before query...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📊 Response status: 200 ()
 LOG  📊 Response status: 200 ()
 LOG  ✅ Document retrieved successfully
 LOG  👥 Getting apartment members with profiles for: 4i3rGppoguIkOfcu86HK
 LOG  👥 Getting apartment members for: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  ✅ Document retrieved successfully
 LOG  👥 Getting apartment members with profiles for: 4i3rGppoguIkOfcu86HK
 LOG  👥 Getting apartment members for: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  🔧 Ensuring current_apartment_id before query...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  🔧 Ensuring current_apartment_id before query...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID for query: 4i3rGppoguIkOfcu86HK
 LOG  📋 Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  📝 Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "4i3rGppoguIkOfcu86HK"
        }
      }
    }
  }
}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID for query: 4i3rGppoguIkOfcu86HK
 LOG  📋 Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  📝 Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "4i3rGppoguIkOfcu86HK"
        }
      }
    }
  }
}
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID for query: 4i3rGppoguIkOfcu86HK
 LOG  📋 Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  📝 Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "4i3rGppoguIkOfcu86HK"
        }
      }
    }
  }
}
 LOG  📊 Members query response: 200 ()
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📋 Raw query results: [{"document": {"createTime": "2025-10-05T04:03:11.945061Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-05T04:03:11.945061Z"}, "readTime": "2025-10-09T09:30:22.049115Z"}]
 LOG  ✅ Found members: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  📋 Found memberships: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👤 Unique user IDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  👤 Getting user profiles for UIDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  📝 Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13"
  ]
}
 LOG  📊 Members query response: 200 ()
 LOG  📋 Raw query results: [{"document": {"createTime": "2025-10-05T04:03:11.945061Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-05T04:03:11.945061Z"}, "readTime": "2025-10-09T09:30:22.172117Z"}]
 LOG  ✅ Found members: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  📋 Found memberships: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👤 Unique user IDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  👤 Getting user profiles for UIDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  📝 Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13"
  ]
}
 LOG  📊 Members query response: 200 ()
 LOG  📋 Raw query results: [{"document": {"createTime": "2025-10-05T04:03:11.945061Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-05T04:03:11.945061Z"}, "readTime": "2025-10-09T09:30:22.179557Z"}]
 LOG  ✅ Found members: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  📋 Found memberships: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👤 Unique user IDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  👤 Getting user profiles for UIDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  📝 Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13"
  ]
}
 LOG  📊 Batch get response: 200 ()
 LOG  📋 Raw batch get results: [{"found": {"createTime": "2025-10-05T04:02:33.895822Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-09T09:24:27.269978Z"}, "readTime": "2025-10-09T09:30:22.283781Z"}]
 LOG  👤 User profile for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test"}
 LOG  ✅ User profiles loaded: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  📋 User profiles loaded: {"3Or6WAVPWOXBTokum8nqQiB0fx13": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}}
 LOG  ✅ Members with profiles: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "profile": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}, "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👥 Member data for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"email": "abc@gmail.com", "name": "Last Test", "profileEmail": "abc@gmail.com"}
 LOG  ✅ Complete apartment data: {"description": "", "id": "4i3rGppoguIkOfcu86HK", "invite_code": "I2MWYL", "members": [{"current_apartment_id": "4i3rGppoguIkOfcu86HK", "display_name": "Last Test", "email": "abc@gmail.com", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": "Last Test", "role": "member"}], "name": "דיר"}
 LOG  ✅ Got complete apartment data: {"id": "4i3rGppoguIkOfcu86HK", "memberCount": 1, "name": "דיר"}
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  📊 Batch get response: 200 ()
 LOG  📋 Raw batch get results: [{"found": {"createTime": "2025-10-05T04:02:33.895822Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-09T09:24:27.269978Z"}, "readTime": "2025-10-09T09:29:55.613826Z"}]
 LOG  👤 User profile for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test"}
 LOG  ✅ User profiles loaded: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  📋 User profiles loaded: {"3Or6WAVPWOXBTokum8nqQiB0fx13": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}}
 LOG  ✅ Members with profiles: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "profile": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}, "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👥 Member data for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"email": "abc@gmail.com", "name": "Last Test", "profileEmail": "abc@gmail.com"}
 LOG  ✅ Complete apartment data: {"description": "", "id": "4i3rGppoguIkOfcu86HK", "invite_code": "I2MWYL", "members": [{"current_apartment_id": "4i3rGppoguIkOfcu86HK", "display_name": "Last Test", "email": "abc@gmail.com", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": "Last Test", "role": "member"}], "name": "דיר"}
 LOG  ✅ Got complete apartment data: {"id": "4i3rGppoguIkOfcu86HK", "memberCount": 1, "name": "דיר"}
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  ✅ MainTabs: Apartment data loaded successfully
 LOG  📊 Batch get response: 200 ()
 LOG  📋 Raw batch get results: [{"found": {"createTime": "2025-10-05T04:02:33.895822Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-09T09:24:27.269978Z"}, "readTime": "2025-10-09T09:29:55.613826Z"}]
 LOG  👤 User profile for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test"}
 LOG  ✅ User profiles loaded: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  📋 User profiles loaded: {"3Or6WAVPWOXBTokum8nqQiB0fx13": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}}
 LOG  ✅ Members with profiles: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "profile": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}, "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👥 Member data for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"email": "abc@gmail.com", "name": "Last Test", "profileEmail": "abc@gmail.com"}
 LOG  ✅ Complete apartment data: {"description": "", "id": "4i3rGppoguIkOfcu86HK", "invite_code": "I2MWYL", "members": [{"current_apartment_id": "4i3rGppoguIkOfcu86HK", "display_name": "Last Test", "email": "abc@gmail.com", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": "Last Test", "role": "member"}], "name": "דיר"}
 LOG  ✅ Got complete apartment data: {"id": "4i3rGppoguIkOfcu86HK", "memberCount": 1, "name": "דיר"}
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🧪 checklist query ctx {"aptId": "4i3rGppoguIkOfcu86HK", "current": "4i3rGppoguIkOfcu86HK", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Turn check debug: {"currentTurnUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "currentUserExists": true, "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "isMyTurn": true, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  ✅ Dashboard: Additional data loaded successfully
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  🔄 Backfilling cleaning stats from existing data...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔄 Dashboard: Refreshing data on focus...
 LOG  🔄 Getting cleaning stats...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 No existing cleaning data found, initializing with 0
 LOG  ⚠️ Skipping stats creation - no user data available
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🧪 checklist query ctx {"aptId": "4i3rGppoguIkOfcu86HK", "current": "4i3rGppoguIkOfcu86HK", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  ✅ Dashboard: Essential data loaded successfully
 LOG  🔍 Turn check debug: {"currentTurnUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "currentUserExists": true, "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "isMyTurn": true, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  ✅ Dashboard: Additional data loaded successfully
 LOG  🔊 Haptic: light impact
 LOG  🔊 Haptic: selection
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  🔄 Dashboard: Loading all data from Firestore...
 LOG  🔄 Refreshing apartment members...
 LOG  🔄 Dashboard: Refreshing data on focus...
 LOG  🔄 Getting cleaning stats...
 LOG  🏠 MainTabs: Loading apartment data for 4i3rGppoguIkOfcu86HK
 LOG  🔄 Refreshing apartment members...
 LOG  🔄 loadCleaningChecklist already in progress, skipping...
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Settings: Refreshing apartment members on mount
 LOG  🔄 Refreshing apartment members...
 LOG  🔄 loadCleaningChecklist already in progress, skipping...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🏠 Getting complete apartment data for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔍 Getting reliable apartment ID for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🏠 Getting complete apartment data for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔍 Getting reliable apartment ID for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🏠 Getting complete apartment data for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔍 Getting reliable apartment ID for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Checking user profile for current_apartment_id...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Checking user profile for current_apartment_id...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Checking user profile for current_apartment_id...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  🔧 Ensuring current_apartment_id before getting apartment data...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  🔧 Ensuring current_apartment_id before getting apartment data...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  🔧 Ensuring current_apartment_id before getting apartment data...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  📖 Getting document: apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Getting auth headers...
 LOG  ⏳ Waiting for authentication to be ready...
 LOG  🔑 Getting current ID token...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  📖 Getting document: apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Getting auth headers...
 LOG  ⏳ Waiting for authentication to be ready...
 LOG  🔑 Getting current ID token...
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  📖 Getting document: apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Getting auth headers...
 LOG  ⏳ Waiting for authentication to be ready...
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Authentication is ready
 LOG  🔍 Token info: {"algorithm": "RS256", "email": "abc@gmail.com", "expiresAt": "2025-10-09T10:10:52.000Z", "issuedAt": "2025-10-09T09:10:52.000Z", "type": "JWT", "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  ✅ Token project verified: roomies-hub
 LOG  ✅ Auth headers prepared successfully
 LOG  🌐 Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Authentication is ready
 LOG  🔍 Token info: {"algorithm": "RS256", "email": "abc@gmail.com", "expiresAt": "2025-10-09T10:10:52.000Z", "issuedAt": "2025-10-09T09:10:52.000Z", "type": "JWT", "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  ✅ Token project verified: roomies-hub
 LOG  ✅ Auth headers prepared successfully
 LOG  🌐 Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Authentication is ready
 LOG  🔍 Token info: {"algorithm": "RS256", "email": "abc@gmail.com", "expiresAt": "2025-10-09T10:10:52.000Z", "issuedAt": "2025-10-09T09:10:52.000Z", "type": "JWT", "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  ✅ Token project verified: roomies-hub
 LOG  ✅ Auth headers prepared successfully
 LOG  🌐 Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔑 Getting current ID token...
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  📊 Response status: 200 ()
 LOG  ✅ Document retrieved successfully
 LOG  👥 Getting apartment members with profiles for: 4i3rGppoguIkOfcu86HK
 LOG  👥 Getting apartment members for: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  🔧 Ensuring current_apartment_id before query...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  📊 Response status: 200 ()
 LOG  📊 Response status: 200 ()
 LOG  ✅ Document retrieved successfully
 LOG  👥 Getting apartment members with profiles for: 4i3rGppoguIkOfcu86HK
 LOG  👥 Getting apartment members for: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  ✅ Document retrieved successfully
 LOG  👥 Getting apartment members with profiles for: 4i3rGppoguIkOfcu86HK
 LOG  👥 Getting apartment members for: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  🔧 Ensuring current_apartment_id before query...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  🔧 Ensuring current_apartment_id before query...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID for query: 4i3rGppoguIkOfcu86HK
 LOG  📋 Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  📝 Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "4i3rGppoguIkOfcu86HK"
        }
      }
    }
  }
}
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID for query: 4i3rGppoguIkOfcu86HK
 LOG  📋 Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  📝 Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "4i3rGppoguIkOfcu86HK"
        }
      }
    }
  }
}
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID for query: 4i3rGppoguIkOfcu86HK
 LOG  📋 Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  📝 Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "4i3rGppoguIkOfcu86HK"
        }
      }
    }
  }
}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 Members query response: 200 ()
 LOG  📊 Members query response: 200 ()
 LOG  📊 Members query response: 200 ()
 LOG  📋 Raw query results: [{"document": {"createTime": "2025-10-05T04:03:11.945061Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-05T04:03:11.945061Z"}, "readTime": "2025-10-09T09:30:28.696981Z"}]
 LOG  ✅ Found members: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  📋 Found memberships: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👤 Unique user IDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  👤 Getting user profiles for UIDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  🔑 Getting current ID token...
 LOG  📋 Raw query results: [{"document": {"createTime": "2025-10-05T04:03:11.945061Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-05T04:03:11.945061Z"}, "readTime": "2025-10-09T09:30:28.702787Z"}]
 LOG  ✅ Found members: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  📋 Found memberships: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👤 Unique user IDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  👤 Getting user profiles for UIDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  🔑 Getting current ID token...
 LOG  📋 Raw query results: [{"document": {"createTime": "2025-10-05T04:03:11.945061Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-05T04:03:11.945061Z"}, "readTime": "2025-10-09T09:30:28.704247Z"}]
 LOG  ✅ Found members: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  📋 Found memberships: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👤 Unique user IDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  👤 Getting user profiles for UIDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  📝 Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13"
  ]
}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  📝 Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13"
  ]
}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  📝 Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13"
  ]
}
 LOG  📊 Batch get response: 200 ()
 LOG  📋 Raw batch get results: [{"found": {"createTime": "2025-10-05T04:02:33.895822Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-09T09:24:27.269978Z"}, "readTime": "2025-10-09T09:29:55.613826Z"}]
 LOG  👤 User profile for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test"}
 LOG  ✅ User profiles loaded: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  📋 User profiles loaded: {"3Or6WAVPWOXBTokum8nqQiB0fx13": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}}
 LOG  ✅ Members with profiles: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "profile": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}, "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👥 Member data for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"email": "abc@gmail.com", "name": "Last Test", "profileEmail": "abc@gmail.com"}
 LOG  ✅ Complete apartment data: {"description": "", "id": "4i3rGppoguIkOfcu86HK", "invite_code": "I2MWYL", "members": [{"current_apartment_id": "4i3rGppoguIkOfcu86HK", "display_name": "Last Test", "email": "abc@gmail.com", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": "Last Test", "role": "member"}], "name": "דיר"}
 LOG  ✅ Got complete apartment data: {"id": "4i3rGppoguIkOfcu86HK", "memberCount": 1, "name": "דיר"}
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ MainTabs: Apartment data loaded successfully
 LOG  📊 Batch get response: 200 ()
 LOG  📊 Batch get response: 200 ()
 LOG  📋 Raw batch get results: [{"found": {"createTime": "2025-10-05T04:02:33.895822Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-09T09:24:27.269978Z"}, "readTime": "2025-10-09T09:29:55.613826Z"}]
 LOG  👤 User profile for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test"}
 LOG  ✅ User profiles loaded: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  📋 User profiles loaded: {"3Or6WAVPWOXBTokum8nqQiB0fx13": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}}
 LOG  ✅ Members with profiles: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "profile": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}, "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👥 Member data for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"email": "abc@gmail.com", "name": "Last Test", "profileEmail": "abc@gmail.com"}
 LOG  ✅ Complete apartment data: {"description": "", "id": "4i3rGppoguIkOfcu86HK", "invite_code": "I2MWYL", "members": [{"current_apartment_id": "4i3rGppoguIkOfcu86HK", "display_name": "Last Test", "email": "abc@gmail.com", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": "Last Test", "role": "member"}], "name": "דיר"}
 LOG  ✅ Got complete apartment data: {"id": "4i3rGppoguIkOfcu86HK", "memberCount": 1, "name": "דיר"}
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  📋 Raw batch get results: [{"found": {"createTime": "2025-10-05T04:02:33.895822Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-09T09:24:27.269978Z"}, "readTime": "2025-10-09T09:30:28.920874Z"}]
 LOG  👤 User profile for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test"}
 LOG  ✅ User profiles loaded: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  📋 User profiles loaded: {"3Or6WAVPWOXBTokum8nqQiB0fx13": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}}
 LOG  ✅ Members with profiles: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "profile": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}, "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👥 Member data for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"email": "abc@gmail.com", "name": "Last Test", "profileEmail": "abc@gmail.com"}
 LOG  ✅ Complete apartment data: {"description": "", "id": "4i3rGppoguIkOfcu86HK", "invite_code": "I2MWYL", "members": [{"current_apartment_id": "4i3rGppoguIkOfcu86HK", "display_name": "Last Test", "email": "abc@gmail.com", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": "Last Test", "role": "member"}], "name": "דיר"}
 LOG  ✅ Got complete apartment data: {"id": "4i3rGppoguIkOfcu86HK", "memberCount": 1, "name": "דיר"}
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🧪 checklist query ctx {"aptId": "4i3rGppoguIkOfcu86HK", "current": "4i3rGppoguIkOfcu86HK", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Turn check debug: {"currentTurnUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "currentUserExists": true, "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "isMyTurn": true, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Additional data loaded successfully
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Backfilling cleaning stats from existing data...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 No existing cleaning data found, initializing with 0
 LOG  ⚠️ Skipping stats creation - no user data available
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 40 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Essential data loaded successfully
iOS ./index.ts ░░░░░░░░░░░░░░░░  0.0% (0/1)
iOS Bundled 104ms index.ts (1 module)
 LOG  🔧 Firestore debug logging enabled
 ERROR  i18next::pluralResolver: Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.
 LOG  [index] Project ID is:  6d6cd6da-7505-42d7-91fd-2928c6600b00
 LOG  🚀 Initializing Firebase notifications for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🚀 Initializing Firebase Web notification service...
 LOG  📱 Mobile platform - using mock token for testing
 LOG  📱 Mock FCM Token (for testing): mock_fcm_token_1760002265848_xgrazcljo
 LOG  🔐 Getting auth headers...
 LOG  ⏳ Waiting for authentication to be ready...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 39 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Authentication is ready
 LOG  🔑 Getting current ID token...
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Dashboard: Loading all data from Firestore...
 LOG  🔄 Refreshing apartment members...
 LOG  🔄 Dashboard: Refreshing data on focus...
 LOG  🔄 Getting cleaning stats...
 LOG  🏠 MainTabs: Loading apartment data for 4i3rGppoguIkOfcu86HK
 LOG  🔄 Refreshing apartment members...
 LOG  🔄 loadCleaningChecklist already in progress, skipping...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 39 minutes
 LOG  ✅ ID token is valid
 LOG  🔍 Token info: {"algorithm": "RS256", "email": "abc@gmail.com", "expiresAt": "2025-10-09T10:10:52.000Z", "issuedAt": "2025-10-09T09:10:52.000Z", "type": "JWT", "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  ✅ Token project verified: roomies-hub
 LOG  ✅ Auth headers prepared successfully
 LOG  🔍 PATCH request details: {"body": "{
  \"fields\": {
    \"fcm_token\": {
      \"stringValue\": \"mock_fcm_token_1760002265848_xgrazcljo\"
    },
    \"device_type\": {
      \"stringValue\": \"ios\"
    },
    \"last_seen\": {
      \"stringValue\": \"2025-10-09T09:31:05.848Z\"
    }
  }
}", "updateMaskFields": ["fcm_token", "device_type", "last_seen"], "url": "https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13?updateMask.fieldPaths=fcm_token&updateMask.fieldPaths=device_type&updateMask.fieldPaths=last_seen"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 39 minutes
 LOG  ✅ ID token is valid
 LOG  🔄 No current session, attempting to restore...
 LOG  Attempting to restore user session...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 39 minutes
 LOG  ✅ ID token is valid
 LOG  🔄 No current session, attempting to restore...
 LOG  Attempting to restore user session...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 39 minutes
 LOG  ✅ ID token is valid
 LOG  🔄 No current session, attempting to restore...
 LOG  Attempting to restore user session...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 39 minutes
 LOG  ✅ ID token is valid
 LOG  🔄 No current session, attempting to restore...
 LOG  Attempting to restore user session...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 39 minutes
 LOG  ✅ ID token is valid
 LOG  🔄 No current session, attempting to restore...
 LOG  Attempting to restore user session...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 39 minutes
 LOG  ✅ ID token is valid
 LOG  🔄 No current session, attempting to restore...
 LOG  Attempting to restore user session...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 39 minutes
 LOG  ✅ ID token is valid
 LOG  🔄 No current session, attempting to restore...
 LOG  Attempting to restore user session...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 39 minutes
 LOG  ✅ ID token is valid
 LOG  🔄 No current session, attempting to restore...
 LOG  Attempting to restore user session...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 39 minutes
 LOG  ✅ ID token is valid
 LOG  🔄 No current session, attempting to restore...
 LOG  Attempting to restore user session...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 39 minutes
 LOG  ✅ ID token is valid
 LOG  🔄 No current session, attempting to restore...
 LOG  Attempting to restore user session...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 39 minutes
 LOG  ✅ ID token is valid
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 39 minutes
 LOG  ✅ ID token is valid
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 39 minutes
 LOG  ✅ ID token is valid
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 39 minutes
 LOG  ✅ ID token is valid
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 39 minutes
 LOG  ✅ ID token is valid
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 39 minutes
 LOG  ✅ ID token is valid
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 39 minutes
 LOG  ✅ ID token is valid
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 39 minutes
 LOG  ✅ ID token is valid
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 39 minutes
 LOG  ✅ ID token is valid
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 39 minutes
 LOG  ✅ ID token is valid
 LOG  Session restoration check: {"hasIdToken": true, "hasUserEmail": true, "hasUserId": true}
 LOG  Session restoration check: {"hasIdToken": true, "hasUserEmail": true, "hasUserId": true}
 LOG  Session restoration check: {"hasIdToken": true, "hasUserEmail": true, "hasUserId": true}
 LOG  Session restoration check: {"hasIdToken": true, "hasUserEmail": true, "hasUserId": true}
 LOG  Session restoration check: {"hasIdToken": true, "hasUserEmail": true, "hasUserId": true}
 LOG  Session restoration check: {"hasIdToken": true, "hasUserEmail": true, "hasUserId": true}
 LOG  Session restoration check: {"hasIdToken": true, "hasUserEmail": true, "hasUserId": true}
 LOG  Session restoration check: {"hasIdToken": true, "hasUserEmail": true, "hasUserId": true}
 LOG  Session restoration check: {"hasIdToken": true, "hasUserEmail": true, "hasUserId": true}
 LOG  Session restoration check: {"hasIdToken": true, "hasUserEmail": true, "hasUserId": true}
 LOG  User session restored successfully
 LOG  🔑 Getting current ID token...
 LOG  User session restored successfully
 LOG  🔑 Getting current ID token...
 LOG  User session restored successfully
 LOG  🔑 Getting current ID token...
 LOG  User session restored successfully
 LOG  🔑 Getting current ID token...
 LOG  User session restored successfully
 LOG  🔑 Getting current ID token...
 LOG  User session restored successfully
 LOG  🔑 Getting current ID token...
 LOG  User session restored successfully
 LOG  🔑 Getting current ID token...
 LOG  User session restored successfully
 LOG  🔑 Getting current ID token...
 LOG  User session restored successfully
 LOG  🔑 Getting current ID token...
 LOG  User session restored successfully
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 39 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session restored: {"tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🏠 Getting complete apartment data for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔍 Getting reliable apartment ID for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 39 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session restored: {"tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 39 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session restored: {"tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 39 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session restored: {"tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 39 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session restored: {"tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 39 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session restored: {"tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🏠 Getting complete apartment data for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔍 Getting reliable apartment ID for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 39 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session restored: {"tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 39 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session restored: {"tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 39 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session restored: {"tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 39 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session restored: {"tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 39 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Checking user profile for current_apartment_id...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 39 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Checking user profile for current_apartment_id...
 LOG  ✅ FCM token saved to Firestore
 LOG  📱 Mobile platform - notification listeners not available in Expo Go
 LOG  ✅ Firebase Web notification service initialized successfully
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  🔧 Ensuring current_apartment_id before getting apartment data...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 39 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 39 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 39 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 39 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  🔧 Ensuring current_apartment_id before getting apartment data...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 39 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  📖 Getting document: apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Getting auth headers...
 LOG  ⏳ Waiting for authentication to be ready...
 LOG  🔑 Getting current ID token...
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  📖 Getting document: apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Getting auth headers...
 LOG  ⏳ Waiting for authentication to be ready...
 LOG  🔑 Getting current ID token...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 39 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Authentication is ready
 LOG  🔍 Token info: {"algorithm": "RS256", "email": "abc@gmail.com", "expiresAt": "2025-10-09T10:10:52.000Z", "issuedAt": "2025-10-09T09:10:52.000Z", "type": "JWT", "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  ✅ Token project verified: roomies-hub
 LOG  ✅ Auth headers prepared successfully
 LOG  🌐 Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 39 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Authentication is ready
 LOG  🔍 Token info: {"algorithm": "RS256", "email": "abc@gmail.com", "expiresAt": "2025-10-09T10:10:52.000Z", "issuedAt": "2025-10-09T09:10:52.000Z", "type": "JWT", "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  ✅ Token project verified: roomies-hub
 LOG  ✅ Auth headers prepared successfully
 LOG  🌐 Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 39 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📊 Response status: 200 ()
 LOG  ✅ Document retrieved successfully
 LOG  👥 Getting apartment members with profiles for: 4i3rGppoguIkOfcu86HK
 LOG  👥 Getting apartment members for: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 39 minutes
 LOG  ✅ ID token is valid
 LOG  🔧 Ensuring current_apartment_id before query...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  📊 Response status: 200 ()
 LOG  ✅ Document retrieved successfully
 LOG  👥 Getting apartment members with profiles for: 4i3rGppoguIkOfcu86HK
 LOG  👥 Getting apartment members for: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 39 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 39 minutes
 LOG  ✅ ID token is valid
 LOG  🔧 Ensuring current_apartment_id before query...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 39 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 39 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔊 Haptic: light impact
 LOG  🔄 Settings: Refreshing apartment members on mount
 LOG  🔄 Refreshing apartment members...
 LOG  🔄 loadCleaningChecklist already in progress, skipping...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 39 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🏠 Getting complete apartment data for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔍 Getting reliable apartment ID for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 39 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Checking user profile for current_apartment_id...
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID for query: 4i3rGppoguIkOfcu86HK
 LOG  📋 Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  📝 Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "4i3rGppoguIkOfcu86HK"
        }
      }
    }
  }
}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID for query: 4i3rGppoguIkOfcu86HK
 LOG  📋 Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  📝 Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "4i3rGppoguIkOfcu86HK"
        }
      }
    }
  }
}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  🔧 Ensuring current_apartment_id before getting apartment data...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 39 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  📊 Members query response: 200 ()
 LOG  📋 Raw query results: [{"document": {"createTime": "2025-10-05T04:03:11.945061Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-05T04:03:11.945061Z"}, "readTime": "2025-10-09T09:31:10.594162Z"}]
 LOG  ✅ Found members: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  📋 Found memberships: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👤 Unique user IDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  👤 Getting user profiles for UIDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 39 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  📝 Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13"
  ]
}
 LOG  🔄 Dashboard: Refreshing data on focus...
 LOG  🔄 loadCleaningChecklist already in progress, skipping...
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 39 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 39 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 39 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📊 Members query response: 200 ()
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  📖 Getting document: apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Getting auth headers...
 LOG  ⏳ Waiting for authentication to be ready...
 LOG  🔑 Getting current ID token...
 LOG  📋 Raw query results: [{"document": {"createTime": "2025-10-05T04:03:11.945061Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-05T04:03:11.945061Z"}, "readTime": "2025-10-09T09:31:11.014724Z"}]
 LOG  ✅ Found members: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  📋 Found memberships: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👤 Unique user IDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  👤 Getting user profiles for UIDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 39 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Authentication is ready
 LOG  🔍 Token info: {"algorithm": "RS256", "email": "abc@gmail.com", "expiresAt": "2025-10-09T10:10:52.000Z", "issuedAt": "2025-10-09T09:10:52.000Z", "type": "JWT", "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  ✅ Token project verified: roomies-hub
 LOG  ✅ Auth headers prepared successfully
 LOG  🌐 Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 39 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  📝 Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13"
  ]
}
 LOG  📊 Batch get response: 200 ()
 LOG  📋 Raw batch get results: [{"found": {"createTime": "2025-10-05T04:02:33.895822Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-09T09:31:06.331962Z"}, "readTime": "2025-10-09T09:31:10.209596Z"}]
 LOG  👤 User profile for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test"}
 LOG  ✅ User profiles loaded: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  📋 User profiles loaded: {"3Or6WAVPWOXBTokum8nqQiB0fx13": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}}
 LOG  ✅ Members with profiles: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "profile": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}, "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👥 Member data for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"email": "abc@gmail.com", "name": "Last Test", "profileEmail": "abc@gmail.com"}
 LOG  ✅ Complete apartment data: {"description": "", "id": "4i3rGppoguIkOfcu86HK", "invite_code": "I2MWYL", "members": [{"current_apartment_id": "4i3rGppoguIkOfcu86HK", "display_name": "Last Test", "email": "abc@gmail.com", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": "Last Test", "role": "member"}], "name": "דיר"}
 LOG  ✅ Got complete apartment data: {"id": "4i3rGppoguIkOfcu86HK", "memberCount": 1, "name": "דיר"}
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 39 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 39 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 39 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🧪 checklist query ctx {"aptId": "4i3rGppoguIkOfcu86HK", "current": "4i3rGppoguIkOfcu86HK", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  📊 Response status: 200 ()
 LOG  ✅ Document retrieved successfully
 LOG  👥 Getting apartment members with profiles for: 4i3rGppoguIkOfcu86HK
 LOG  👥 Getting apartment members for: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 39 minutes
 LOG  ✅ ID token is valid
 LOG  🔧 Ensuring current_apartment_id before query...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 39 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  📊 Batch get response: 200 ()
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📋 Raw batch get results: [{"found": {"createTime": "2025-10-05T04:02:33.895822Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-09T09:31:06.331962Z"}, "readTime": "2025-10-09T09:31:11.968966Z"}]
 LOG  👤 User profile for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test"}
 LOG  ✅ User profiles loaded: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  📋 User profiles loaded: {"3Or6WAVPWOXBTokum8nqQiB0fx13": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}}
 LOG  ✅ Members with profiles: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "profile": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}, "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👥 Member data for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"email": "abc@gmail.com", "name": "Last Test", "profileEmail": "abc@gmail.com"}
 LOG  ✅ Complete apartment data: {"description": "", "id": "4i3rGppoguIkOfcu86HK", "invite_code": "I2MWYL", "members": [{"current_apartment_id": "4i3rGppoguIkOfcu86HK", "display_name": "Last Test", "email": "abc@gmail.com", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": "Last Test", "role": "member"}], "name": "דיר"}
 LOG  ✅ Got complete apartment data: {"id": "4i3rGppoguIkOfcu86HK", "memberCount": 1, "name": "דיר"}
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ MainTabs: Apartment data loaded successfully
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID for query: 4i3rGppoguIkOfcu86HK
 LOG  📋 Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  📝 Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "4i3rGppoguIkOfcu86HK"
        }
      }
    }
  }
}
 LOG  🔍 Turn check debug: {"currentTurnUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "currentUserExists": true, "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "isMyTurn": true, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Additional data loaded successfully
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Backfilling cleaning stats from existing data...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 39 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Additional data loaded successfully
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 39 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📊 Members query response: 200 ()
 LOG  📋 Raw query results: [{"document": {"createTime": "2025-10-05T04:03:11.945061Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-05T04:03:11.945061Z"}, "readTime": "2025-10-09T09:31:13.573286Z"}]
 LOG  ✅ Found members: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  📋 Found memberships: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👤 Unique user IDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  👤 Getting user profiles for UIDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 39 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  📝 Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13"
  ]
}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 39 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📊 Batch get response: 200 ()
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📋 Raw batch get results: [{"found": {"createTime": "2025-10-05T04:02:33.895822Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-09T09:31:06.331962Z"}, "readTime": "2025-10-09T09:31:10.209596Z"}]
 LOG  👤 User profile for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test"}
 LOG  ✅ User profiles loaded: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  📋 User profiles loaded: {"3Or6WAVPWOXBTokum8nqQiB0fx13": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}}
 LOG  ✅ Members with profiles: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "profile": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}, "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👥 Member data for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"email": "abc@gmail.com", "name": "Last Test", "profileEmail": "abc@gmail.com"}
 LOG  ✅ Complete apartment data: {"description": "", "id": "4i3rGppoguIkOfcu86HK", "invite_code": "I2MWYL", "members": [{"current_apartment_id": "4i3rGppoguIkOfcu86HK", "display_name": "Last Test", "email": "abc@gmail.com", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": "Last Test", "role": "member"}], "name": "דיר"}
 LOG  ✅ Got complete apartment data: {"id": "4i3rGppoguIkOfcu86HK", "memberCount": 1, "name": "דיר"}
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 39 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 No existing cleaning data found, initializing with 0
 LOG  ⚠️ Skipping stats creation - no user data available
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 39 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Essential data loaded successfully
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 37 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 37 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 37 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔄 Dashboard: Refreshing data on focus...
 LOG  🔄 loadCleaningChecklist already in progress, skipping...
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 37 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 37 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 37 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 37 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 37 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 37 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  ✅ Dashboard: Additional data loaded successfully
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 37 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 37 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 37 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🧪 checklist query ctx {"aptId": "4i3rGppoguIkOfcu86HK", "current": "4i3rGppoguIkOfcu86HK", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔍 Turn check debug: {"currentTurnUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "currentUserExists": true, "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "isMyTurn": true, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Dashboard: Loading all data from Firestore...
 LOG  🔄 Refreshing apartment members...
 LOG  🔄 Dashboard: Refreshing data on focus...
 LOG  🔄 Getting cleaning stats...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 37 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🏠 Getting complete apartment data for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔍 Getting reliable apartment ID for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 37 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 37 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 37 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 37 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 37 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Checking user profile for current_apartment_id...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 37 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  🔧 Ensuring current_apartment_id before getting apartment data...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 37 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 37 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  📖 Getting document: apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Getting auth headers...
 LOG  ⏳ Waiting for authentication to be ready...
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 37 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Authentication is ready
 LOG  🔍 Token info: {"algorithm": "RS256", "email": "abc@gmail.com", "expiresAt": "2025-10-09T10:10:52.000Z", "issuedAt": "2025-10-09T09:10:52.000Z", "type": "JWT", "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  ✅ Token project verified: roomies-hub
 LOG  ✅ Auth headers prepared successfully
 LOG  🌐 Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 37 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 37 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📊 Response status: 200 ()
 LOG  ✅ Document retrieved successfully
 LOG  👥 Getting apartment members with profiles for: 4i3rGppoguIkOfcu86HK
 LOG  👥 Getting apartment members for: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 37 minutes
 LOG  ✅ ID token is valid
 LOG  🔧 Ensuring current_apartment_id before query...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 37 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 37 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 37 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID for query: 4i3rGppoguIkOfcu86HK
 LOG  📋 Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  📝 Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "4i3rGppoguIkOfcu86HK"
        }
      }
    }
  }
}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 Members query response: 200 ()
 LOG  📋 Raw query results: [{"document": {"createTime": "2025-10-05T04:03:11.945061Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-05T04:03:11.945061Z"}, "readTime": "2025-10-09T09:33:30.798311Z"}]
 LOG  ✅ Found members: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  📋 Found memberships: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👤 Unique user IDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  👤 Getting user profiles for UIDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 37 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  📝 Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13"
  ]
}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🧪 checklist query ctx {"aptId": "4i3rGppoguIkOfcu86HK", "current": "4i3rGppoguIkOfcu86HK", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  📊 Batch get response: 200 ()
 LOG  📋 Raw batch get results: [{"found": {"createTime": "2025-10-05T04:02:33.895822Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-09T09:31:06.331962Z"}, "readTime": "2025-10-09T09:32:24.804722Z"}]
 LOG  👤 User profile for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test"}
 LOG  ✅ User profiles loaded: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  📋 User profiles loaded: {"3Or6WAVPWOXBTokum8nqQiB0fx13": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}}
 LOG  ✅ Members with profiles: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "profile": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}, "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👥 Member data for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"email": "abc@gmail.com", "name": "Last Test", "profileEmail": "abc@gmail.com"}
 LOG  ✅ Complete apartment data: {"description": "", "id": "4i3rGppoguIkOfcu86HK", "invite_code": "I2MWYL", "members": [{"current_apartment_id": "4i3rGppoguIkOfcu86HK", "display_name": "Last Test", "email": "abc@gmail.com", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": "Last Test", "role": "member"}], "name": "דיר"}
 LOG  ✅ Got complete apartment data: {"id": "4i3rGppoguIkOfcu86HK", "memberCount": 1, "name": "דיר"}
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 37 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 37 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 37 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 Turn check debug: {"currentTurnUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "currentUserExists": true, "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "isMyTurn": true, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Additional data loaded successfully
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 37 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Backfilling cleaning stats from existing data...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 37 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 37 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 37 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 37 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 No existing cleaning data found, initializing with 0
 LOG  ⚠️ Skipping stats creation - no user data available
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 37 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Essential data loaded successfully
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Dashboard: Loading all data from Firestore...
 LOG  🔄 Refreshing apartment members...
 LOG  🔄 Dashboard: Refreshing data on focus...
 LOG  🔄 Getting cleaning stats...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 36 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🏠 Getting complete apartment data for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔍 Getting reliable apartment ID for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 36 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 36 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 36 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 36 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 36 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Checking user profile for current_apartment_id...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 36 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 36 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  🔧 Ensuring current_apartment_id before getting apartment data...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 36 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  📖 Getting document: apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Getting auth headers...
 LOG  ⏳ Waiting for authentication to be ready...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 36 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Authentication is ready
 LOG  🔍 Token info: {"algorithm": "RS256", "email": "abc@gmail.com", "expiresAt": "2025-10-09T10:10:52.000Z", "issuedAt": "2025-10-09T09:10:52.000Z", "type": "JWT", "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  ✅ Token project verified: roomies-hub
 LOG  ✅ Auth headers prepared successfully
 LOG  🌐 Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 36 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📊 Response status: 200 ()
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  ✅ Document retrieved successfully
 LOG  👥 Getting apartment members with profiles for: 4i3rGppoguIkOfcu86HK
 LOG  👥 Getting apartment members for: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 36 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 36 minutes
 LOG  ✅ ID token is valid
 LOG  🔧 Ensuring current_apartment_id before query...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 36 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 36 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID for query: 4i3rGppoguIkOfcu86HK
 LOG  📋 Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  📝 Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "4i3rGppoguIkOfcu86HK"
        }
      }
    }
  }
}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 36 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 Members query response: 200 ()
 LOG  📋 Raw query results: [{"document": {"createTime": "2025-10-05T04:03:11.945061Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-05T04:03:11.945061Z"}, "readTime": "2025-10-09T09:34:14.621432Z"}]
 LOG  ✅ Found members: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  📋 Found memberships: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👤 Unique user IDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  👤 Getting user profiles for UIDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 36 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  📝 Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13"
  ]
}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  📊 Batch get response: 200 ()
 LOG  📋 Raw batch get results: [{"found": {"createTime": "2025-10-05T04:02:33.895822Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-09T09:31:06.331962Z"}, "readTime": "2025-10-09T09:33:39.400180Z"}]
 LOG  👤 User profile for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test"}
 LOG  ✅ User profiles loaded: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  📋 User profiles loaded: {"3Or6WAVPWOXBTokum8nqQiB0fx13": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}}
 LOG  ✅ Members with profiles: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "profile": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}, "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👥 Member data for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"email": "abc@gmail.com", "name": "Last Test", "profileEmail": "abc@gmail.com"}
 LOG  ✅ Complete apartment data: {"description": "", "id": "4i3rGppoguIkOfcu86HK", "invite_code": "I2MWYL", "members": [{"current_apartment_id": "4i3rGppoguIkOfcu86HK", "display_name": "Last Test", "email": "abc@gmail.com", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": "Last Test", "role": "member"}], "name": "דיר"}
 LOG  ✅ Got complete apartment data: {"id": "4i3rGppoguIkOfcu86HK", "memberCount": 1, "name": "דיר"}
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🧪 checklist query ctx {"aptId": "4i3rGppoguIkOfcu86HK", "current": "4i3rGppoguIkOfcu86HK", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 36 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 36 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 36 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 36 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Turn check debug: {"currentTurnUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "currentUserExists": true, "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "isMyTurn": true, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Additional data loaded successfully
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Backfilling cleaning stats from existing data...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 36 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 36 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 36 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 36 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 No existing cleaning data found, initializing with 0
 LOG  ⚠️ Skipping stats creation - no user data available
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 36 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Essential data loaded successfully
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Dashboard: Loading all data from Firestore...
 LOG  🔄 Refreshing apartment members...
 LOG  🔄 Dashboard: Refreshing data on focus...
 LOG  🔄 Getting cleaning stats...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 36 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🏠 Getting complete apartment data for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔍 Getting reliable apartment ID for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 36 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 36 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 36 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 36 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 36 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Checking user profile for current_apartment_id...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  🔧 Ensuring current_apartment_id before getting apartment data...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 36 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 36 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 36 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  📖 Getting document: apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Getting auth headers...
 LOG  ⏳ Waiting for authentication to be ready...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 36 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Authentication is ready
 LOG  🔍 Token info: {"algorithm": "RS256", "email": "abc@gmail.com", "expiresAt": "2025-10-09T10:10:52.000Z", "issuedAt": "2025-10-09T09:10:52.000Z", "type": "JWT", "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  ✅ Token project verified: roomies-hub
 LOG  ✅ Auth headers prepared successfully
 LOG  🌐 Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 36 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📊 Response status: 200 ()
 LOG  ✅ Document retrieved successfully
 LOG  👥 Getting apartment members with profiles for: 4i3rGppoguIkOfcu86HK
 LOG  👥 Getting apartment members for: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 36 minutes
 LOG  ✅ ID token is valid
 LOG  🔧 Ensuring current_apartment_id before query...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 36 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 36 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 36 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID for query: 4i3rGppoguIkOfcu86HK
 LOG  📋 Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  📝 Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "4i3rGppoguIkOfcu86HK"
        }
      }
    }
  }
}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 36 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📊 Members query response: 200 ()
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📋 Raw query results: [{"document": {"createTime": "2025-10-05T04:03:11.945061Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-05T04:03:11.945061Z"}, "readTime": "2025-10-09T09:34:24.128023Z"}]
 LOG  ✅ Found members: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  📋 Found memberships: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👤 Unique user IDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  👤 Getting user profiles for UIDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 36 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  📝 Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13"
  ]
}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  📊 Batch get response: 200 ()
 LOG  📋 Raw batch get results: [{"found": {"createTime": "2025-10-05T04:02:33.895822Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-09T09:31:06.331962Z"}, "readTime": "2025-10-09T09:33:39.400180Z"}]
 LOG  👤 User profile for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test"}
 LOG  ✅ User profiles loaded: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  📋 User profiles loaded: {"3Or6WAVPWOXBTokum8nqQiB0fx13": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}}
 LOG  ✅ Members with profiles: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "profile": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}, "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👥 Member data for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"email": "abc@gmail.com", "name": "Last Test", "profileEmail": "abc@gmail.com"}
 LOG  ✅ Complete apartment data: {"description": "", "id": "4i3rGppoguIkOfcu86HK", "invite_code": "I2MWYL", "members": [{"current_apartment_id": "4i3rGppoguIkOfcu86HK", "display_name": "Last Test", "email": "abc@gmail.com", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": "Last Test", "role": "member"}], "name": "דיר"}
 LOG  ✅ Got complete apartment data: {"id": "4i3rGppoguIkOfcu86HK", "memberCount": 1, "name": "דיר"}
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 36 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 36 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 36 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🧪 checklist query ctx {"aptId": "4i3rGppoguIkOfcu86HK", "current": "4i3rGppoguIkOfcu86HK", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 36 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Backfilling cleaning stats from existing data...
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Turn check debug: {"currentTurnUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "currentUserExists": true, "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "isMyTurn": true, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Additional data loaded successfully
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 36 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 36 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 36 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 36 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 No existing cleaning data found, initializing with 0
 LOG  ⚠️ Skipping stats creation - no user data available
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 36 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Essential data loaded successfully
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Dashboard: Loading all data from Firestore...
 LOG  🔄 Refreshing apartment members...
 LOG  🔄 Dashboard: Refreshing data on focus...
 LOG  🔄 Getting cleaning stats...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 35 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🏠 Getting complete apartment data for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔍 Getting reliable apartment ID for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 35 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 35 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 35 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 35 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 35 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Checking user profile for current_apartment_id...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  🔧 Ensuring current_apartment_id before getting apartment data...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 35 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 35 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 35 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  📖 Getting document: apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Getting auth headers...
 LOG  ⏳ Waiting for authentication to be ready...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 35 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Authentication is ready
 LOG  🔍 Token info: {"algorithm": "RS256", "email": "abc@gmail.com", "expiresAt": "2025-10-09T10:10:52.000Z", "issuedAt": "2025-10-09T09:10:52.000Z", "type": "JWT", "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  ✅ Token project verified: roomies-hub
 LOG  ✅ Auth headers prepared successfully
 LOG  🌐 Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 Response status: 200 ()
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Document retrieved successfully
 LOG  👥 Getting apartment members with profiles for: 4i3rGppoguIkOfcu86HK
 LOG  👥 Getting apartment members for: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔑 Getting current ID token...
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 35 minutes
 LOG  ✅ ID token is valid
 LOG  🔧 Ensuring current_apartment_id before query...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 35 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 35 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 35 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 35 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 35 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID for query: 4i3rGppoguIkOfcu86HK
 LOG  📋 Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  📝 Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "4i3rGppoguIkOfcu86HK"
        }
      }
    }
  }
}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 Members query response: 200 ()
 LOG  📋 Raw query results: [{"document": {"createTime": "2025-10-05T04:03:11.945061Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-05T04:03:11.945061Z"}, "readTime": "2025-10-09T09:35:30.104859Z"}]
 LOG  ✅ Found members: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  📋 Found memberships: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👤 Unique user IDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  👤 Getting user profiles for UIDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 35 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  📝 Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13"
  ]
}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  📊 Batch get response: 200 ()
 LOG  📋 Raw batch get results: [{"found": {"createTime": "2025-10-05T04:02:33.895822Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-09T09:31:06.331962Z"}, "readTime": "2025-10-09T09:35:29.569038Z"}]
 LOG  👤 User profile for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test"}
 LOG  ✅ User profiles loaded: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  📋 User profiles loaded: {"3Or6WAVPWOXBTokum8nqQiB0fx13": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}}
 LOG  ✅ Members with profiles: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "profile": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}, "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👥 Member data for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"email": "abc@gmail.com", "name": "Last Test", "profileEmail": "abc@gmail.com"}
 LOG  ✅ Complete apartment data: {"description": "", "id": "4i3rGppoguIkOfcu86HK", "invite_code": "I2MWYL", "members": [{"current_apartment_id": "4i3rGppoguIkOfcu86HK", "display_name": "Last Test", "email": "abc@gmail.com", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": "Last Test", "role": "member"}], "name": "דיר"}
 LOG  ✅ Got complete apartment data: {"id": "4i3rGppoguIkOfcu86HK", "memberCount": 1, "name": "דיר"}
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 35 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 35 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 35 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🧪 checklist query ctx {"aptId": "4i3rGppoguIkOfcu86HK", "current": "4i3rGppoguIkOfcu86HK", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 35 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Turn check debug: {"currentTurnUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "currentUserExists": true, "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "isMyTurn": true, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Additional data loaded successfully
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Backfilling cleaning stats from existing data...
 LOG  🔑 Getting current ID token...
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 35 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 35 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 35 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 35 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 No existing cleaning data found, initializing with 0
 LOG  ⚠️ Skipping stats creation - no user data available
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 35 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Essential data loaded successfully
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Dashboard: Loading all data from Firestore...
 LOG  🔄 Refreshing apartment members...
 LOG  🔄 Dashboard: Refreshing data on focus...
 LOG  🔄 Getting cleaning stats...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 34 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🏠 Getting complete apartment data for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔍 Getting reliable apartment ID for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 34 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 34 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 34 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 34 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 34 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Checking user profile for current_apartment_id...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  🔧 Ensuring current_apartment_id before getting apartment data...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 34 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 34 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 34 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  📖 Getting document: apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Getting auth headers...
 LOG  ⏳ Waiting for authentication to be ready...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 34 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Authentication is ready
 LOG  🔍 Token info: {"algorithm": "RS256", "email": "abc@gmail.com", "expiresAt": "2025-10-09T10:10:52.000Z", "issuedAt": "2025-10-09T09:10:52.000Z", "type": "JWT", "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  ✅ Token project verified: roomies-hub
 LOG  ✅ Auth headers prepared successfully
 LOG  🌐 Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 Response status: 200 ()
 LOG  ✅ Document retrieved successfully
 LOG  👥 Getting apartment members with profiles for: 4i3rGppoguIkOfcu86HK
 LOG  👥 Getting apartment members for: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 34 minutes
 LOG  ✅ ID token is valid
 LOG  🔧 Ensuring current_apartment_id before query...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 34 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID for query: 4i3rGppoguIkOfcu86HK
 LOG  📋 Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  📝 Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "4i3rGppoguIkOfcu86HK"
        }
      }
    }
  }
}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔑 Getting current ID token...
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 34 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 34 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📊 Members query response: 200 ()
 LOG  📋 Raw query results: [{"document": {"createTime": "2025-10-05T04:03:11.945061Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-05T04:03:11.945061Z"}, "readTime": "2025-10-09T09:36:15.186559Z"}]
 LOG  ✅ Found members: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  📋 Found memberships: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👤 Unique user IDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  👤 Getting user profiles for UIDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 34 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  📝 Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13"
  ]
}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 34 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 34 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📊 Batch get response: 200 ()
 LOG  📋 Raw batch get results: [{"found": {"createTime": "2025-10-05T04:02:33.895822Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-09T09:31:06.331962Z"}, "readTime": "2025-10-09T09:36:16.008629Z"}]
 LOG  👤 User profile for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test"}
 LOG  ✅ User profiles loaded: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  📋 User profiles loaded: {"3Or6WAVPWOXBTokum8nqQiB0fx13": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}}
 LOG  ✅ Members with profiles: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "profile": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}, "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👥 Member data for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"email": "abc@gmail.com", "name": "Last Test", "profileEmail": "abc@gmail.com"}
 LOG  ✅ Complete apartment data: {"description": "", "id": "4i3rGppoguIkOfcu86HK", "invite_code": "I2MWYL", "members": [{"current_apartment_id": "4i3rGppoguIkOfcu86HK", "display_name": "Last Test", "email": "abc@gmail.com", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": "Last Test", "role": "member"}], "name": "דיר"}
 LOG  ✅ Got complete apartment data: {"id": "4i3rGppoguIkOfcu86HK", "memberCount": 1, "name": "דיר"}
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 34 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 34 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 34 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 34 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Backfilling cleaning stats from existing data...
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🧪 checklist query ctx {"aptId": "4i3rGppoguIkOfcu86HK", "current": "4i3rGppoguIkOfcu86HK", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 34 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 Turn check debug: {"currentTurnUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "currentUserExists": true, "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "isMyTurn": true, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Additional data loaded successfully
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 34 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 34 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 34 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 No existing cleaning data found, initializing with 0
 LOG  ⚠️ Skipping stats creation - no user data available
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 34 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Essential data loaded successfully
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Dashboard: Loading all data from Firestore...
 LOG  🔄 Refreshing apartment members...
 LOG  🔄 Dashboard: Refreshing data on focus...
 LOG  🔄 Getting cleaning stats...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 34 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🏠 Getting complete apartment data for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔍 Getting reliable apartment ID for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 34 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 34 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 34 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 34 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 34 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Checking user profile for current_apartment_id...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 34 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 34 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  🔧 Ensuring current_apartment_id before getting apartment data...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 34 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  📖 Getting document: apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Getting auth headers...
 LOG  ⏳ Waiting for authentication to be ready...
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 34 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Authentication is ready
 LOG  🔍 Token info: {"algorithm": "RS256", "email": "abc@gmail.com", "expiresAt": "2025-10-09T10:10:52.000Z", "issuedAt": "2025-10-09T09:10:52.000Z", "type": "JWT", "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  ✅ Token project verified: roomies-hub
 LOG  ✅ Auth headers prepared successfully
 LOG  🌐 Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 34 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 34 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📊 Response status: 200 ()
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  ✅ Document retrieved successfully
 LOG  👥 Getting apartment members with profiles for: 4i3rGppoguIkOfcu86HK
 LOG  👥 Getting apartment members for: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 34 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 34 minutes
 LOG  ✅ ID token is valid
 LOG  🔧 Ensuring current_apartment_id before query...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 34 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 34 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID for query: 4i3rGppoguIkOfcu86HK
 LOG  📋 Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  📝 Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "4i3rGppoguIkOfcu86HK"
        }
      }
    }
  }
}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  📊 Members query response: 200 ()
 LOG  📋 Raw query results: [{"document": {"createTime": "2025-10-05T04:03:11.945061Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-05T04:03:11.945061Z"}, "readTime": "2025-10-09T09:36:44.620694Z"}]
 LOG  ✅ Found members: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  📋 Found memberships: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👤 Unique user IDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  👤 Getting user profiles for UIDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 34 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  📝 Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13"
  ]
}
 LOG  📊 Batch get response: 200 ()
 LOG  📋 Raw batch get results: [{"found": {"createTime": "2025-10-05T04:02:33.895822Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-09T09:31:06.331962Z"}, "readTime": "2025-10-09T09:36:29.762651Z"}]
 LOG  👤 User profile for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test"}
 LOG  ✅ User profiles loaded: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  📋 User profiles loaded: {"3Or6WAVPWOXBTokum8nqQiB0fx13": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}}
 LOG  ✅ Members with profiles: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "profile": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}, "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👥 Member data for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"email": "abc@gmail.com", "name": "Last Test", "profileEmail": "abc@gmail.com"}
 LOG  ✅ Complete apartment data: {"description": "", "id": "4i3rGppoguIkOfcu86HK", "invite_code": "I2MWYL", "members": [{"current_apartment_id": "4i3rGppoguIkOfcu86HK", "display_name": "Last Test", "email": "abc@gmail.com", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": "Last Test", "role": "member"}], "name": "דיר"}
 LOG  ✅ Got complete apartment data: {"id": "4i3rGppoguIkOfcu86HK", "memberCount": 1, "name": "דיר"}
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 34 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 34 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 34 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🧪 checklist query ctx {"aptId": "4i3rGppoguIkOfcu86HK", "current": "4i3rGppoguIkOfcu86HK", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 34 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Turn check debug: {"currentTurnUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "currentUserExists": true, "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "isMyTurn": true, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Additional data loaded successfully
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Backfilling cleaning stats from existing data...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 34 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 34 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 34 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 34 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 No existing cleaning data found, initializing with 0
 LOG  ⚠️ Skipping stats creation - no user data available
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 34 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Essential data loaded successfully
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Dashboard: Loading all data from Firestore...
 LOG  🔄 Refreshing apartment members...
 LOG  🔄 Dashboard: Refreshing data on focus...
 LOG  🔄 Getting cleaning stats...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 33 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🏠 Getting complete apartment data for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔍 Getting reliable apartment ID for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 33 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 33 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 33 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 33 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 33 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Checking user profile for current_apartment_id...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  🔧 Ensuring current_apartment_id before getting apartment data...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 33 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 33 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 33 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  📖 Getting document: apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Getting auth headers...
 LOG  ⏳ Waiting for authentication to be ready...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 33 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Authentication is ready
 LOG  🔍 Token info: {"algorithm": "RS256", "email": "abc@gmail.com", "expiresAt": "2025-10-09T10:10:52.000Z", "issuedAt": "2025-10-09T09:10:52.000Z", "type": "JWT", "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  ✅ Token project verified: roomies-hub
 LOG  ✅ Auth headers prepared successfully
 LOG  🌐 Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 Response status: 200 ()
 LOG  ✅ Document retrieved successfully
 LOG  👥 Getting apartment members with profiles for: 4i3rGppoguIkOfcu86HK
 LOG  👥 Getting apartment members for: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 33 minutes
 LOG  ✅ ID token is valid
 LOG  🔧 Ensuring current_apartment_id before query...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 33 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 33 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID for query: 4i3rGppoguIkOfcu86HK
 LOG  📋 Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  📝 Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "4i3rGppoguIkOfcu86HK"
        }
      }
    }
  }
}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 33 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 33 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📊 Members query response: 200 ()
 LOG  📋 Raw query results: [{"document": {"createTime": "2025-10-05T04:03:11.945061Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-05T04:03:11.945061Z"}, "readTime": "2025-10-09T09:37:18.792437Z"}]
 LOG  ✅ Found members: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  📋 Found memberships: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👤 Unique user IDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  👤 Getting user profiles for UIDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 33 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  📝 Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13"
  ]
}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 33 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📊 Batch get response: 200 ()
 LOG  📋 Raw batch get results: [{"found": {"createTime": "2025-10-05T04:02:33.895822Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-09T09:31:06.331962Z"}, "readTime": "2025-10-09T09:37:15.874099Z"}]
 LOG  👤 User profile for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test"}
 LOG  ✅ User profiles loaded: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  📋 User profiles loaded: {"3Or6WAVPWOXBTokum8nqQiB0fx13": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}}
 LOG  ✅ Members with profiles: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "profile": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}, "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👥 Member data for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"email": "abc@gmail.com", "name": "Last Test", "profileEmail": "abc@gmail.com"}
 LOG  ✅ Complete apartment data: {"description": "", "id": "4i3rGppoguIkOfcu86HK", "invite_code": "I2MWYL", "members": [{"current_apartment_id": "4i3rGppoguIkOfcu86HK", "display_name": "Last Test", "email": "abc@gmail.com", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": "Last Test", "role": "member"}], "name": "דיר"}
 LOG  ✅ Got complete apartment data: {"id": "4i3rGppoguIkOfcu86HK", "memberCount": 1, "name": "דיר"}
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 33 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 33 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 33 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 33 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🧪 checklist query ctx {"aptId": "4i3rGppoguIkOfcu86HK", "current": "4i3rGppoguIkOfcu86HK", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Backfilling cleaning stats from existing data...
 LOG  🔑 Getting current ID token...
 LOG  🔍 Turn check debug: {"currentTurnUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "currentUserExists": true, "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "isMyTurn": true, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Additional data loaded successfully
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 33 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 33 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 33 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 33 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 No existing cleaning data found, initializing with 0
 LOG  ⚠️ Skipping stats creation - no user data available
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 33 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Essential data loaded successfully
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Dashboard: Loading all data from Firestore...
 LOG  🔄 Refreshing apartment members...
 LOG  🔄 Dashboard: Refreshing data on focus...
 LOG  🔄 Getting cleaning stats...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 33 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🏠 Getting complete apartment data for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔍 Getting reliable apartment ID for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 33 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 33 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 33 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 33 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 33 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Checking user profile for current_apartment_id...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  🔧 Ensuring current_apartment_id before getting apartment data...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 33 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 33 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 33 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  📖 Getting document: apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Getting auth headers...
 LOG  ⏳ Waiting for authentication to be ready...
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 33 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Authentication is ready
 LOG  🔍 Token info: {"algorithm": "RS256", "email": "abc@gmail.com", "expiresAt": "2025-10-09T10:10:52.000Z", "issuedAt": "2025-10-09T09:10:52.000Z", "type": "JWT", "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  ✅ Token project verified: roomies-hub
 LOG  ✅ Auth headers prepared successfully
 LOG  🌐 Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 33 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📊 Response status: 200 ()
 LOG  ✅ Document retrieved successfully
 LOG  👥 Getting apartment members with profiles for: 4i3rGppoguIkOfcu86HK
 LOG  👥 Getting apartment members for: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 33 minutes
 LOG  ✅ ID token is valid
 LOG  🔧 Ensuring current_apartment_id before query...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 33 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 33 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 33 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID for query: 4i3rGppoguIkOfcu86HK
 LOG  📋 Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  📝 Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "4i3rGppoguIkOfcu86HK"
        }
      }
    }
  }
}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 33 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 Members query response: 200 ()
 LOG  📋 Raw query results: [{"document": {"createTime": "2025-10-05T04:03:11.945061Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-05T04:03:11.945061Z"}, "readTime": "2025-10-09T09:37:41.623660Z"}]
 LOG  ✅ Found members: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  📋 Found memberships: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👤 Unique user IDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  👤 Getting user profiles for UIDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 33 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  📝 Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13"
  ]
}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  📊 Batch get response: 200 ()
 LOG  📋 Raw batch get results: [{"found": {"createTime": "2025-10-05T04:02:33.895822Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-09T09:31:06.331962Z"}, "readTime": "2025-10-09T09:37:41.915401Z"}]
 LOG  👤 User profile for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test"}
 LOG  ✅ User profiles loaded: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  📋 User profiles loaded: {"3Or6WAVPWOXBTokum8nqQiB0fx13": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}}
 LOG  ✅ Members with profiles: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "profile": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}, "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👥 Member data for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"email": "abc@gmail.com", "name": "Last Test", "profileEmail": "abc@gmail.com"}
 LOG  ✅ Complete apartment data: {"description": "", "id": "4i3rGppoguIkOfcu86HK", "invite_code": "I2MWYL", "members": [{"current_apartment_id": "4i3rGppoguIkOfcu86HK", "display_name": "Last Test", "email": "abc@gmail.com", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": "Last Test", "role": "member"}], "name": "דיר"}
 LOG  ✅ Got complete apartment data: {"id": "4i3rGppoguIkOfcu86HK", "memberCount": 1, "name": "דיר"}
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 33 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 33 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 33 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🧪 checklist query ctx {"aptId": "4i3rGppoguIkOfcu86HK", "current": "4i3rGppoguIkOfcu86HK", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 Turn check debug: {"currentTurnUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "currentUserExists": true, "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "isMyTurn": true, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Additional data loaded successfully
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 33 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Backfilling cleaning stats from existing data...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 33 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 33 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 33 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 33 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 No existing cleaning data found, initializing with 0
 LOG  ⚠️ Skipping stats creation - no user data available
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 33 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Essential data loaded successfully
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Dashboard: Loading all data from Firestore...
 LOG  🔄 Refreshing apartment members...
 LOG  🔄 Dashboard: Refreshing data on focus...
 LOG  🔄 Getting cleaning stats...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🏠 Getting complete apartment data for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔍 Getting reliable apartment ID for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Checking user profile for current_apartment_id...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  🔧 Ensuring current_apartment_id before getting apartment data...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  📖 Getting document: apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Getting auth headers...
 LOG  ⏳ Waiting for authentication to be ready...
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Authentication is ready
 LOG  🔍 Token info: {"algorithm": "RS256", "email": "abc@gmail.com", "expiresAt": "2025-10-09T10:10:52.000Z", "issuedAt": "2025-10-09T09:10:52.000Z", "type": "JWT", "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  ✅ Token project verified: roomies-hub
 LOG  ✅ Auth headers prepared successfully
 LOG  🌐 Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔑 Getting current ID token...
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📊 Response status: 200 ()
 LOG  ✅ Document retrieved successfully
 LOG  👥 Getting apartment members with profiles for: 4i3rGppoguIkOfcu86HK
 LOG  👥 Getting apartment members for: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  🔧 Ensuring current_apartment_id before query...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID for query: 4i3rGppoguIkOfcu86HK
 LOG  📋 Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  📝 Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "4i3rGppoguIkOfcu86HK"
        }
      }
    }
  }
}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📊 Members query response: 200 ()
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📋 Raw query results: [{"document": {"createTime": "2025-10-05T04:03:11.945061Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-05T04:03:11.945061Z"}, "readTime": "2025-10-09T09:38:12.811152Z"}]
 LOG  ✅ Found members: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  📋 Found memberships: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👤 Unique user IDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  👤 Getting user profiles for UIDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  📝 Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13"
  ]
}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 Batch get response: 200 ()
 LOG  📋 Raw batch get results: [{"found": {"createTime": "2025-10-05T04:02:33.895822Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-09T09:31:06.331962Z"}, "readTime": "2025-10-09T09:37:23.185940Z"}]
 LOG  👤 User profile for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test"}
 LOG  ✅ User profiles loaded: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  📋 User profiles loaded: {"3Or6WAVPWOXBTokum8nqQiB0fx13": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}}
 LOG  ✅ Members with profiles: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "profile": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}, "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👥 Member data for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"email": "abc@gmail.com", "name": "Last Test", "profileEmail": "abc@gmail.com"}
 LOG  ✅ Complete apartment data: {"description": "", "id": "4i3rGppoguIkOfcu86HK", "invite_code": "I2MWYL", "members": [{"current_apartment_id": "4i3rGppoguIkOfcu86HK", "display_name": "Last Test", "email": "abc@gmail.com", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": "Last Test", "role": "member"}], "name": "דיר"}
 LOG  ✅ Got complete apartment data: {"id": "4i3rGppoguIkOfcu86HK", "memberCount": 1, "name": "דיר"}
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🧪 checklist query ctx {"aptId": "4i3rGppoguIkOfcu86HK", "current": "4i3rGppoguIkOfcu86HK", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 Turn check debug: {"currentTurnUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "currentUserExists": true, "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "isMyTurn": true, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Additional data loaded successfully
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Backfilling cleaning stats from existing data...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 No existing cleaning data found, initializing with 0
 LOG  ⚠️ Skipping stats creation - no user data available
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Essential data loaded successfully
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Dashboard: Loading all data from Firestore...
 LOG  🔄 Refreshing apartment members...
 LOG  🔄 Dashboard: Refreshing data on focus...
 LOG  🔄 Getting cleaning stats...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🏠 Getting complete apartment data for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔍 Getting reliable apartment ID for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Checking user profile for current_apartment_id...
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  🔧 Ensuring current_apartment_id before getting apartment data...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  📖 Getting document: apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Getting auth headers...
 LOG  ⏳ Waiting for authentication to be ready...
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Authentication is ready
 LOG  🔍 Token info: {"algorithm": "RS256", "email": "abc@gmail.com", "expiresAt": "2025-10-09T10:10:52.000Z", "issuedAt": "2025-10-09T09:10:52.000Z", "type": "JWT", "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  ✅ Token project verified: roomies-hub
 LOG  ✅ Auth headers prepared successfully
 LOG  🌐 Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📊 Response status: 200 ()
 LOG  ✅ Document retrieved successfully
 LOG  👥 Getting apartment members with profiles for: 4i3rGppoguIkOfcu86HK
 LOG  👥 Getting apartment members for: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  🔧 Ensuring current_apartment_id before query...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID for query: 4i3rGppoguIkOfcu86HK
 LOG  📋 Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  📝 Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "4i3rGppoguIkOfcu86HK"
        }
      }
    }
  }
}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📊 Members query response: 200 ()
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📋 Raw query results: [{"document": {"createTime": "2025-10-05T04:03:11.945061Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-05T04:03:11.945061Z"}, "readTime": "2025-10-09T09:38:20.676635Z"}]
 LOG  ✅ Found members: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  📋 Found memberships: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👤 Unique user IDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  👤 Getting user profiles for UIDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  📝 Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13"
  ]
}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  📊 Batch get response: 200 ()
 LOG  📋 Raw batch get results: [{"found": {"createTime": "2025-10-05T04:02:33.895822Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-09T09:31:06.331962Z"}, "readTime": "2025-10-09T09:37:23.185940Z"}]
 LOG  👤 User profile for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test"}
 LOG  ✅ User profiles loaded: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  📋 User profiles loaded: {"3Or6WAVPWOXBTokum8nqQiB0fx13": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}}
 LOG  ✅ Members with profiles: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "profile": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}, "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👥 Member data for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"email": "abc@gmail.com", "name": "Last Test", "profileEmail": "abc@gmail.com"}
 LOG  ✅ Complete apartment data: {"description": "", "id": "4i3rGppoguIkOfcu86HK", "invite_code": "I2MWYL", "members": [{"current_apartment_id": "4i3rGppoguIkOfcu86HK", "display_name": "Last Test", "email": "abc@gmail.com", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": "Last Test", "role": "member"}], "name": "דיר"}
 LOG  ✅ Got complete apartment data: {"id": "4i3rGppoguIkOfcu86HK", "memberCount": 1, "name": "דיר"}
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🧪 checklist query ctx {"aptId": "4i3rGppoguIkOfcu86HK", "current": "4i3rGppoguIkOfcu86HK", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Turn check debug: {"currentTurnUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "currentUserExists": true, "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "isMyTurn": true, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Additional data loaded successfully
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Backfilling cleaning stats from existing data...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 No existing cleaning data found, initializing with 0
 LOG  ⚠️ Skipping stats creation - no user data available
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Essential data loaded successfully
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Dashboard: Loading all data from Firestore...
 LOG  🔄 Refreshing apartment members...
 LOG  🔄 Dashboard: Refreshing data on focus...
 LOG  🔄 Getting cleaning stats...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🏠 Getting complete apartment data for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔍 Getting reliable apartment ID for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Checking user profile for current_apartment_id...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  🔧 Ensuring current_apartment_id before getting apartment data...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  📖 Getting document: apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Getting auth headers...
 LOG  ⏳ Waiting for authentication to be ready...
 LOG  🔑 Getting current ID token...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Authentication is ready
 LOG  🔍 Token info: {"algorithm": "RS256", "email": "abc@gmail.com", "expiresAt": "2025-10-09T10:10:52.000Z", "issuedAt": "2025-10-09T09:10:52.000Z", "type": "JWT", "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  ✅ Token project verified: roomies-hub
 LOG  ✅ Auth headers prepared successfully
 LOG  🌐 Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📊 Response status: 200 ()
 LOG  ✅ Document retrieved successfully
 LOG  👥 Getting apartment members with profiles for: 4i3rGppoguIkOfcu86HK
 LOG  👥 Getting apartment members for: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  🔧 Ensuring current_apartment_id before query...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID for query: 4i3rGppoguIkOfcu86HK
 LOG  📋 Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  📝 Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "4i3rGppoguIkOfcu86HK"
        }
      }
    }
  }
}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 Members query response: 200 ()
 LOG  📋 Raw query results: [{"document": {"createTime": "2025-10-05T04:03:11.945061Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-05T04:03:11.945061Z"}, "readTime": "2025-10-09T09:38:29.594254Z"}]
 LOG  ✅ Found members: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  📋 Found memberships: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👤 Unique user IDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  👤 Getting user profiles for UIDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  📝 Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13"
  ]
}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  📊 Batch get response: 200 ()
 LOG  📋 Raw batch get results: [{"found": {"createTime": "2025-10-05T04:02:33.895822Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-09T09:31:06.331962Z"}, "readTime": "2025-10-09T09:37:23.185940Z"}]
 LOG  👤 User profile for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test"}
 LOG  ✅ User profiles loaded: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  📋 User profiles loaded: {"3Or6WAVPWOXBTokum8nqQiB0fx13": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}}
 LOG  ✅ Members with profiles: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "profile": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}, "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👥 Member data for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"email": "abc@gmail.com", "name": "Last Test", "profileEmail": "abc@gmail.com"}
 LOG  ✅ Complete apartment data: {"description": "", "id": "4i3rGppoguIkOfcu86HK", "invite_code": "I2MWYL", "members": [{"current_apartment_id": "4i3rGppoguIkOfcu86HK", "display_name": "Last Test", "email": "abc@gmail.com", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": "Last Test", "role": "member"}], "name": "דיר"}
 LOG  ✅ Got complete apartment data: {"id": "4i3rGppoguIkOfcu86HK", "memberCount": 1, "name": "דיר"}
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🧪 checklist query ctx {"aptId": "4i3rGppoguIkOfcu86HK", "current": "4i3rGppoguIkOfcu86HK", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Turn check debug: {"currentTurnUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "currentUserExists": true, "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "isMyTurn": true, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Additional data loaded successfully
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Backfilling cleaning stats from existing data...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 No existing cleaning data found, initializing with 0
 LOG  ⚠️ Skipping stats creation - no user data available
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Essential data loaded successfully
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Dashboard: Loading all data from Firestore...
 LOG  🔄 Refreshing apartment members...
 LOG  🔄 Dashboard: Refreshing data on focus...
 LOG  🔄 Getting cleaning stats...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🏠 Getting complete apartment data for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔍 Getting reliable apartment ID for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Checking user profile for current_apartment_id...
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  🔧 Ensuring current_apartment_id before getting apartment data...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  📖 Getting document: apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Getting auth headers...
 LOG  ⏳ Waiting for authentication to be ready...
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Authentication is ready
 LOG  🔍 Token info: {"algorithm": "RS256", "email": "abc@gmail.com", "expiresAt": "2025-10-09T10:10:52.000Z", "issuedAt": "2025-10-09T09:10:52.000Z", "type": "JWT", "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  ✅ Token project verified: roomies-hub
 LOG  ✅ Auth headers prepared successfully
 LOG  🌐 Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📊 Response status: 200 ()
 LOG  ✅ Document retrieved successfully
 LOG  👥 Getting apartment members with profiles for: 4i3rGppoguIkOfcu86HK
 LOG  👥 Getting apartment members for: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  🔧 Ensuring current_apartment_id before query...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID for query: 4i3rGppoguIkOfcu86HK
 LOG  📋 Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  📝 Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "4i3rGppoguIkOfcu86HK"
        }
      }
    }
  }
}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 Members query response: 200 ()
 LOG  📋 Raw query results: [{"document": {"createTime": "2025-10-05T04:03:11.945061Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-05T04:03:11.945061Z"}, "readTime": "2025-10-09T09:38:49.363855Z"}]
 LOG  ✅ Found members: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  📋 Found memberships: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👤 Unique user IDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  👤 Getting user profiles for UIDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  📝 Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13"
  ]
}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  📊 Batch get response: 200 ()
 LOG  📋 Raw batch get results: [{"found": {"createTime": "2025-10-05T04:02:33.895822Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-09T09:31:06.331962Z"}, "readTime": "2025-10-09T09:38:37.821024Z"}]
 LOG  👤 User profile for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test"}
 LOG  ✅ User profiles loaded: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  📋 User profiles loaded: {"3Or6WAVPWOXBTokum8nqQiB0fx13": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}}
 LOG  ✅ Members with profiles: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "profile": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}, "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👥 Member data for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"email": "abc@gmail.com", "name": "Last Test", "profileEmail": "abc@gmail.com"}
 LOG  ✅ Complete apartment data: {"description": "", "id": "4i3rGppoguIkOfcu86HK", "invite_code": "I2MWYL", "members": [{"current_apartment_id": "4i3rGppoguIkOfcu86HK", "display_name": "Last Test", "email": "abc@gmail.com", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": "Last Test", "role": "member"}], "name": "דיר"}
 LOG  ✅ Got complete apartment data: {"id": "4i3rGppoguIkOfcu86HK", "memberCount": 1, "name": "דיר"}
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🧪 checklist query ctx {"aptId": "4i3rGppoguIkOfcu86HK", "current": "4i3rGppoguIkOfcu86HK", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 Turn check debug: {"currentTurnUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "currentUserExists": true, "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "isMyTurn": true, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Additional data loaded successfully
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Backfilling cleaning stats from existing data...
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 No existing cleaning data found, initializing with 0
 LOG  ⚠️ Skipping stats creation - no user data available
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Essential data loaded successfully
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Dashboard: Loading all data from Firestore...
 LOG  🔄 Refreshing apartment members...
 LOG  🔄 Dashboard: Refreshing data on focus...
 LOG  🔄 Getting cleaning stats...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🏠 Getting complete apartment data for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔍 Getting reliable apartment ID for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Checking user profile for current_apartment_id...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  🔧 Ensuring current_apartment_id before getting apartment data...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  📖 Getting document: apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Getting auth headers...
 LOG  ⏳ Waiting for authentication to be ready...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Authentication is ready
 LOG  🔍 Token info: {"algorithm": "RS256", "email": "abc@gmail.com", "expiresAt": "2025-10-09T10:10:52.000Z", "issuedAt": "2025-10-09T09:10:52.000Z", "type": "JWT", "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  ✅ Token project verified: roomies-hub
 LOG  ✅ Auth headers prepared successfully
 LOG  🌐 Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 Response status: 200 ()
 LOG  ✅ Document retrieved successfully
 LOG  👥 Getting apartment members with profiles for: 4i3rGppoguIkOfcu86HK
 LOG  👥 Getting apartment members for: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  🔧 Ensuring current_apartment_id before query...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID for query: 4i3rGppoguIkOfcu86HK
 LOG  📋 Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  📝 Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "4i3rGppoguIkOfcu86HK"
        }
      }
    }
  }
}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 32 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📊 Members query response: 200 ()
 LOG  📋 Raw query results: [{"document": {"createTime": "2025-10-05T04:03:11.945061Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-05T04:03:11.945061Z"}, "readTime": "2025-10-09T09:38:53.137998Z"}]
 LOG  ✅ Found members: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  📋 Found memberships: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👤 Unique user IDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  👤 Getting user profiles for UIDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  📝 Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13"
  ]
}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 Batch get response: 200 ()
 LOG  📋 Raw batch get results: [{"found": {"createTime": "2025-10-05T04:02:33.895822Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-09T09:31:06.331962Z"}, "readTime": "2025-10-09T09:38:53.379465Z"}]
 LOG  👤 User profile for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test"}
 LOG  ✅ User profiles loaded: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  📋 User profiles loaded: {"3Or6WAVPWOXBTokum8nqQiB0fx13": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}}
 LOG  ✅ Members with profiles: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "profile": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}, "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👥 Member data for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"email": "abc@gmail.com", "name": "Last Test", "profileEmail": "abc@gmail.com"}
 LOG  ✅ Complete apartment data: {"description": "", "id": "4i3rGppoguIkOfcu86HK", "invite_code": "I2MWYL", "members": [{"current_apartment_id": "4i3rGppoguIkOfcu86HK", "display_name": "Last Test", "email": "abc@gmail.com", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": "Last Test", "role": "member"}], "name": "דיר"}
 LOG  ✅ Got complete apartment data: {"id": "4i3rGppoguIkOfcu86HK", "memberCount": 1, "name": "דיר"}
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🧪 checklist query ctx {"aptId": "4i3rGppoguIkOfcu86HK", "current": "4i3rGppoguIkOfcu86HK", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Turn check debug: {"currentTurnUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "currentUserExists": true, "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "isMyTurn": true, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Additional data loaded successfully
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Backfilling cleaning stats from existing data...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 No existing cleaning data found, initializing with 0
 LOG  ⚠️ Skipping stats creation - no user data available
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Essential data loaded successfully
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Dashboard: Loading all data from Firestore...
 LOG  🔄 Refreshing apartment members...
 LOG  🔄 Dashboard: Refreshing data on focus...
 LOG  🔄 Getting cleaning stats...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🏠 Getting complete apartment data for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔍 Getting reliable apartment ID for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Checking user profile for current_apartment_id...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  🔧 Ensuring current_apartment_id before getting apartment data...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  📖 Getting document: apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Getting auth headers...
 LOG  ⏳ Waiting for authentication to be ready...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Authentication is ready
 LOG  🔍 Token info: {"algorithm": "RS256", "email": "abc@gmail.com", "expiresAt": "2025-10-09T10:10:52.000Z", "issuedAt": "2025-10-09T09:10:52.000Z", "type": "JWT", "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  ✅ Token project verified: roomies-hub
 LOG  ✅ Auth headers prepared successfully
 LOG  🌐 Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  📊 Response status: 200 ()
 LOG  ✅ Document retrieved successfully
 LOG  👥 Getting apartment members with profiles for: 4i3rGppoguIkOfcu86HK
 LOG  👥 Getting apartment members for: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  🔧 Ensuring current_apartment_id before query...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔑 Getting current ID token...
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID for query: 4i3rGppoguIkOfcu86HK
 LOG  📋 Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  📝 Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "4i3rGppoguIkOfcu86HK"
        }
      }
    }
  }
}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📊 Members query response: 200 ()
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  📋 Raw query results: [{"document": {"createTime": "2025-10-05T04:03:11.945061Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-05T04:03:11.945061Z"}, "readTime": "2025-10-09T09:39:00.088183Z"}]
 LOG  ✅ Found members: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  📋 Found memberships: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👤 Unique user IDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  👤 Getting user profiles for UIDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  📝 Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13"
  ]
}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 Batch get response: 200 ()
 LOG  📋 Raw batch get results: [{"found": {"createTime": "2025-10-05T04:02:33.895822Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-09T09:31:06.331962Z"}, "readTime": "2025-10-09T09:38:37.821024Z"}]
 LOG  👤 User profile for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test"}
 LOG  ✅ User profiles loaded: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  📋 User profiles loaded: {"3Or6WAVPWOXBTokum8nqQiB0fx13": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}}
 LOG  ✅ Members with profiles: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "profile": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}, "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👥 Member data for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"email": "abc@gmail.com", "name": "Last Test", "profileEmail": "abc@gmail.com"}
 LOG  ✅ Complete apartment data: {"description": "", "id": "4i3rGppoguIkOfcu86HK", "invite_code": "I2MWYL", "members": [{"current_apartment_id": "4i3rGppoguIkOfcu86HK", "display_name": "Last Test", "email": "abc@gmail.com", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": "Last Test", "role": "member"}], "name": "דיר"}
 LOG  ✅ Got complete apartment data: {"id": "4i3rGppoguIkOfcu86HK", "memberCount": 1, "name": "דיר"}
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🧪 checklist query ctx {"aptId": "4i3rGppoguIkOfcu86HK", "current": "4i3rGppoguIkOfcu86HK", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Backfilling cleaning stats from existing data...
 LOG  🔑 Getting current ID token...
 LOG  🔍 Turn check debug: {"currentTurnUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "currentUserExists": true, "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "isMyTurn": true, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Additional data loaded successfully
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 No existing cleaning data found, initializing with 0
 LOG  ⚠️ Skipping stats creation - no user data available
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Essential data loaded successfully
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Dashboard: Loading all data from Firestore...
 LOG  🔄 Refreshing apartment members...
 LOG  🔄 Dashboard: Refreshing data on focus...
 LOG  🔄 Getting cleaning stats...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🏠 Getting complete apartment data for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔍 Getting reliable apartment ID for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Checking user profile for current_apartment_id...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  🔧 Ensuring current_apartment_id before getting apartment data...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  📖 Getting document: apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Getting auth headers...
 LOG  ⏳ Waiting for authentication to be ready...
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Authentication is ready
 LOG  🔍 Token info: {"algorithm": "RS256", "email": "abc@gmail.com", "expiresAt": "2025-10-09T10:10:52.000Z", "issuedAt": "2025-10-09T09:10:52.000Z", "type": "JWT", "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  ✅ Token project verified: roomies-hub
 LOG  ✅ Auth headers prepared successfully
 LOG  🌐 Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📊 Response status: 200 ()
 LOG  ✅ Document retrieved successfully
 LOG  👥 Getting apartment members with profiles for: 4i3rGppoguIkOfcu86HK
 LOG  👥 Getting apartment members for: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  🔧 Ensuring current_apartment_id before query...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID for query: 4i3rGppoguIkOfcu86HK
 LOG  📋 Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  📝 Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "4i3rGppoguIkOfcu86HK"
        }
      }
    }
  }
}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 Members query response: 200 ()
 LOG  📋 Raw query results: [{"document": {"createTime": "2025-10-05T04:03:11.945061Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-05T04:03:11.945061Z"}, "readTime": "2025-10-09T09:39:22.603739Z"}]
 LOG  ✅ Found members: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  📋 Found memberships: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👤 Unique user IDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  👤 Getting user profiles for UIDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  📝 Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13"
  ]
}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 Batch get response: 200 ()
 LOG  📋 Raw batch get results: [{"found": {"createTime": "2025-10-05T04:02:33.895822Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-09T09:31:06.331962Z"}, "readTime": "2025-10-09T09:38:37.821024Z"}]
 LOG  👤 User profile for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test"}
 LOG  ✅ User profiles loaded: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  📋 User profiles loaded: {"3Or6WAVPWOXBTokum8nqQiB0fx13": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}}
 LOG  ✅ Members with profiles: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "profile": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}, "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👥 Member data for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"email": "abc@gmail.com", "name": "Last Test", "profileEmail": "abc@gmail.com"}
 LOG  ✅ Complete apartment data: {"description": "", "id": "4i3rGppoguIkOfcu86HK", "invite_code": "I2MWYL", "members": [{"current_apartment_id": "4i3rGppoguIkOfcu86HK", "display_name": "Last Test", "email": "abc@gmail.com", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": "Last Test", "role": "member"}], "name": "דיר"}
 LOG  ✅ Got complete apartment data: {"id": "4i3rGppoguIkOfcu86HK", "memberCount": 1, "name": "דיר"}
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🧪 checklist query ctx {"aptId": "4i3rGppoguIkOfcu86HK", "current": "4i3rGppoguIkOfcu86HK", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Turn check debug: {"currentTurnUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "currentUserExists": true, "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "isMyTurn": true, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Additional data loaded successfully
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Backfilling cleaning stats from existing data...
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 No existing cleaning data found, initializing with 0
 LOG  ⚠️ Skipping stats creation - no user data available
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Essential data loaded successfully
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Dashboard: Loading all data from Firestore...
 LOG  🔄 Refreshing apartment members...
 LOG  🔄 Dashboard: Refreshing data on focus...
 LOG  🔄 Getting cleaning stats...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🏠 Getting complete apartment data for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔍 Getting reliable apartment ID for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Checking user profile for current_apartment_id...
iOS Bundled 80ms index.ts (1 module)
 LOG  🔧 Firestore debug logging enabled
 ERROR  i18next::pluralResolver: Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.
 LOG  [index] Project ID is:  6d6cd6da-7505-42d7-91fd-2928c6600b00
 LOG  🚀 Initializing Firebase notifications for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🚀 Initializing Firebase Web notification service...
 LOG  📱 Mobile platform - using mock token for testing
 LOG  📱 Mock FCM Token (for testing): mock_fcm_token_1760002774056_4mg119a89
 LOG  🔐 Getting auth headers...
 LOG  ⏳ Waiting for authentication to be ready...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Authentication is ready
 LOG  🔑 Getting current ID token...
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Dashboard: Loading all data from Firestore...
 LOG  🔄 Refreshing apartment members...
 LOG  🔄 Dashboard: Refreshing data on focus...
 LOG  🔄 Getting cleaning stats...
 LOG  🏠 MainTabs: Loading apartment data for 4i3rGppoguIkOfcu86HK
 LOG  🔄 Refreshing apartment members...
 LOG  🔄 loadCleaningChecklist already in progress, skipping...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  🔍 Token info: {"algorithm": "RS256", "email": "abc@gmail.com", "expiresAt": "2025-10-09T10:10:52.000Z", "issuedAt": "2025-10-09T09:10:52.000Z", "type": "JWT", "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  ✅ Token project verified: roomies-hub
 LOG  ✅ Auth headers prepared successfully
 LOG  🔍 PATCH request details: {"body": "{
  \"fields\": {
    \"fcm_token\": {
      \"stringValue\": \"mock_fcm_token_1760002774056_4mg119a89\"
    },
    \"device_type\": {
      \"stringValue\": \"ios\"
    },
    \"last_seen\": {
      \"stringValue\": \"2025-10-09T09:39:34.056Z\"
    }
  }
}", "updateMaskFields": ["fcm_token", "device_type", "last_seen"], "url": "https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13?updateMask.fieldPaths=fcm_token&updateMask.fieldPaths=device_type&updateMask.fieldPaths=last_seen"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  🔄 No current session, attempting to restore...
 LOG  Attempting to restore user session...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  🔄 No current session, attempting to restore...
 LOG  Attempting to restore user session...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  🔄 No current session, attempting to restore...
 LOG  Attempting to restore user session...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  🔄 No current session, attempting to restore...
 LOG  Attempting to restore user session...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  🔄 No current session, attempting to restore...
 LOG  Attempting to restore user session...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  🔄 No current session, attempting to restore...
 LOG  Attempting to restore user session...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  🔄 No current session, attempting to restore...
 LOG  Attempting to restore user session...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  🔄 No current session, attempting to restore...
 LOG  Attempting to restore user session...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  🔄 No current session, attempting to restore...
 LOG  Attempting to restore user session...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  🔄 No current session, attempting to restore...
 LOG  Attempting to restore user session...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  Session restoration check: {"hasIdToken": true, "hasUserEmail": true, "hasUserId": true}
 LOG  Session restoration check: {"hasIdToken": true, "hasUserEmail": true, "hasUserId": true}
 LOG  Session restoration check: {"hasIdToken": true, "hasUserEmail": true, "hasUserId": true}
 LOG  Session restoration check: {"hasIdToken": true, "hasUserEmail": true, "hasUserId": true}
 LOG  Session restoration check: {"hasIdToken": true, "hasUserEmail": true, "hasUserId": true}
 LOG  Session restoration check: {"hasIdToken": true, "hasUserEmail": true, "hasUserId": true}
 LOG  Session restoration check: {"hasIdToken": true, "hasUserEmail": true, "hasUserId": true}
 LOG  Session restoration check: {"hasIdToken": true, "hasUserEmail": true, "hasUserId": true}
 LOG  Session restoration check: {"hasIdToken": true, "hasUserEmail": true, "hasUserId": true}
 LOG  Session restoration check: {"hasIdToken": true, "hasUserEmail": true, "hasUserId": true}
 LOG  User session restored successfully
 LOG  🔑 Getting current ID token...
 LOG  User session restored successfully
 LOG  🔑 Getting current ID token...
 LOG  User session restored successfully
 LOG  🔑 Getting current ID token...
 LOG  User session restored successfully
 LOG  🔑 Getting current ID token...
 LOG  User session restored successfully
 LOG  🔑 Getting current ID token...
 LOG  User session restored successfully
 LOG  🔑 Getting current ID token...
 LOG  User session restored successfully
 LOG  🔑 Getting current ID token...
 LOG  User session restored successfully
 LOG  🔑 Getting current ID token...
 LOG  User session restored successfully
 LOG  🔑 Getting current ID token...
 LOG  User session restored successfully
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session restored: {"tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🏠 Getting complete apartment data for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔍 Getting reliable apartment ID for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session restored: {"tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session restored: {"tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session restored: {"tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session restored: {"tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session restored: {"tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🏠 Getting complete apartment data for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔍 Getting reliable apartment ID for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session restored: {"tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session restored: {"tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session restored: {"tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session restored: {"tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Checking user profile for current_apartment_id...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Checking user profile for current_apartment_id...
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  🔧 Ensuring current_apartment_id before getting apartment data...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  🔧 Ensuring current_apartment_id before getting apartment data...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  ✅ FCM token saved to Firestore
 LOG  📱 Mobile platform - notification listeners not available in Expo Go
 LOG  ✅ Firebase Web notification service initialized successfully
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  📖 Getting document: apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Getting auth headers...
 LOG  ⏳ Waiting for authentication to be ready...
 LOG  🔑 Getting current ID token...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Authentication is ready
 LOG  🔍 Token info: {"algorithm": "RS256", "email": "abc@gmail.com", "expiresAt": "2025-10-09T10:10:52.000Z", "issuedAt": "2025-10-09T09:10:52.000Z", "type": "JWT", "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  ✅ Token project verified: roomies-hub
 LOG  ✅ Auth headers prepared successfully
 LOG  🌐 Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  📖 Getting document: apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Getting auth headers...
 LOG  ⏳ Waiting for authentication to be ready...
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Authentication is ready
 LOG  🔍 Token info: {"algorithm": "RS256", "email": "abc@gmail.com", "expiresAt": "2025-10-09T10:10:52.000Z", "issuedAt": "2025-10-09T09:10:52.000Z", "type": "JWT", "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  ✅ Token project verified: roomies-hub
 LOG  ✅ Auth headers prepared successfully
 LOG  🌐 Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  📊 Response status: 200 ()
 LOG  ✅ Document retrieved successfully
 LOG  👥 Getting apartment members with profiles for: 4i3rGppoguIkOfcu86HK
 LOG  👥 Getting apartment members for: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  🔧 Ensuring current_apartment_id before query...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  📊 Response status: 200 ()
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Document retrieved successfully
 LOG  👥 Getting apartment members with profiles for: 4i3rGppoguIkOfcu86HK
 LOG  👥 Getting apartment members for: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  🔧 Ensuring current_apartment_id before query...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID for query: 4i3rGppoguIkOfcu86HK
 LOG  📋 Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  📝 Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "4i3rGppoguIkOfcu86HK"
        }
      }
    }
  }
}
 LOG  📊 Members query response: 200 ()
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID for query: 4i3rGppoguIkOfcu86HK
 LOG  📋 Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  📝 Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "4i3rGppoguIkOfcu86HK"
        }
      }
    }
  }
}
 LOG  📋 Raw query results: [{"document": {"createTime": "2025-10-05T04:03:11.945061Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-05T04:03:11.945061Z"}, "readTime": "2025-10-09T09:39:39.017849Z"}]
 LOG  ✅ Found members: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  📋 Found memberships: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👤 Unique user IDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  👤 Getting user profiles for UIDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  📝 Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13"
  ]
}
 LOG  📊 Members query response: 200 ()
 LOG  📋 Raw query results: [{"document": {"createTime": "2025-10-05T04:03:11.945061Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-05T04:03:11.945061Z"}, "readTime": "2025-10-09T09:39:39.293097Z"}]
 LOG  ✅ Found members: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  📋 Found memberships: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👤 Unique user IDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  👤 Getting user profiles for UIDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  📝 Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13"
  ]
}
 LOG  📊 Batch get response: 200 ()
 LOG  📋 Raw batch get results: [{"found": {"createTime": "2025-10-05T04:02:33.895822Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-09T09:39:35.309199Z"}, "readTime": "2025-10-09T09:39:35.309199Z"}]
 LOG  👤 User profile for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test"}
 LOG  ✅ User profiles loaded: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  📋 User profiles loaded: {"3Or6WAVPWOXBTokum8nqQiB0fx13": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}}
 LOG  ✅ Members with profiles: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "profile": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}, "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👥 Member data for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"email": "abc@gmail.com", "name": "Last Test", "profileEmail": "abc@gmail.com"}
 LOG  ✅ Complete apartment data: {"description": "", "id": "4i3rGppoguIkOfcu86HK", "invite_code": "I2MWYL", "members": [{"current_apartment_id": "4i3rGppoguIkOfcu86HK", "display_name": "Last Test", "email": "abc@gmail.com", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": "Last Test", "role": "member"}], "name": "דיר"}
 LOG  ✅ Got complete apartment data: {"id": "4i3rGppoguIkOfcu86HK", "memberCount": 1, "name": "דיר"}
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  📊 Batch get response: 200 ()
 LOG  📋 Raw batch get results: [{"found": {"createTime": "2025-10-05T04:02:33.895822Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-09T09:39:35.309199Z"}, "readTime": "2025-10-09T09:39:35.309199Z"}]
 LOG  👤 User profile for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test"}
 LOG  ✅ User profiles loaded: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  📋 User profiles loaded: {"3Or6WAVPWOXBTokum8nqQiB0fx13": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}}
 LOG  ✅ Members with profiles: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "profile": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}, "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👥 Member data for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"email": "abc@gmail.com", "name": "Last Test", "profileEmail": "abc@gmail.com"}
 LOG  ✅ Complete apartment data: {"description": "", "id": "4i3rGppoguIkOfcu86HK", "invite_code": "I2MWYL", "members": [{"current_apartment_id": "4i3rGppoguIkOfcu86HK", "display_name": "Last Test", "email": "abc@gmail.com", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": "Last Test", "role": "member"}], "name": "דיר"}
 LOG  ✅ Got complete apartment data: {"id": "4i3rGppoguIkOfcu86HK", "memberCount": 1, "name": "דיר"}
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ MainTabs: Apartment data loaded successfully
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🧪 checklist query ctx {"aptId": "4i3rGppoguIkOfcu86HK", "current": "4i3rGppoguIkOfcu86HK", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Backfilling cleaning stats from existing data...
 LOG  🔑 Getting current ID token...
 LOG  🔍 Turn check debug: {"currentTurnUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "currentUserExists": true, "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "isMyTurn": true, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Additional data loaded successfully
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 No existing cleaning data found, initializing with 0
 LOG  ⚠️ Skipping stats creation - no user data available
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Essential data loaded successfully
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Dashboard: Loading all data from Firestore...
 LOG  🔄 Refreshing apartment members...
 LOG  🔄 Dashboard: Refreshing data on focus...
 LOG  🔄 Getting cleaning stats...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🏠 Getting complete apartment data for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔍 Getting reliable apartment ID for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Checking user profile for current_apartment_id...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  🔧 Ensuring current_apartment_id before getting apartment data...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 31 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  📖 Getting document: apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Getting auth headers...
 LOG  ⏳ Waiting for authentication to be ready...
 LOG  🔑 Getting current ID token...
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 30 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Authentication is ready
 LOG  🔍 Token info: {"algorithm": "RS256", "email": "abc@gmail.com", "expiresAt": "2025-10-09T10:10:52.000Z", "issuedAt": "2025-10-09T09:10:52.000Z", "type": "JWT", "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  ✅ Token project verified: roomies-hub
 LOG  ✅ Auth headers prepared successfully
 LOG  🌐 Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 30 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 30 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📊 Response status: 200 ()
 LOG  ✅ Document retrieved successfully
 LOG  👥 Getting apartment members with profiles for: 4i3rGppoguIkOfcu86HK
 LOG  👥 Getting apartment members for: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 30 minutes
 LOG  ✅ ID token is valid
 LOG  🔧 Ensuring current_apartment_id before query...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 30 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID for query: 4i3rGppoguIkOfcu86HK
 LOG  📋 Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  📝 Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "4i3rGppoguIkOfcu86HK"
        }
      }
    }
  }
}
 LOG  📊 Members query response: 200 ()
 LOG  📋 Raw query results: [{"document": {"createTime": "2025-10-05T04:03:11.945061Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-05T04:03:11.945061Z"}, "readTime": "2025-10-09T09:39:56.288395Z"}]
 LOG  ✅ Found members: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  📋 Found memberships: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👤 Unique user IDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  👤 Getting user profiles for UIDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 30 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  📝 Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13"
  ]
}
 LOG  📊 Batch get response: 200 ()
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🧪 checklist query ctx {"aptId": "4i3rGppoguIkOfcu86HK", "current": "4i3rGppoguIkOfcu86HK", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  📋 Raw batch get results: [{"found": {"createTime": "2025-10-05T04:02:33.895822Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-09T09:39:35.309199Z"}, "readTime": "2025-10-09T09:39:52.483776Z"}]
 LOG  👤 User profile for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test"}
 LOG  ✅ User profiles loaded: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  📋 User profiles loaded: {"3Or6WAVPWOXBTokum8nqQiB0fx13": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}}
 LOG  ✅ Members with profiles: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "profile": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}, "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👥 Member data for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"email": "abc@gmail.com", "name": "Last Test", "profileEmail": "abc@gmail.com"}
 LOG  ✅ Complete apartment data: {"description": "", "id": "4i3rGppoguIkOfcu86HK", "invite_code": "I2MWYL", "members": [{"current_apartment_id": "4i3rGppoguIkOfcu86HK", "display_name": "Last Test", "email": "abc@gmail.com", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": "Last Test", "role": "member"}], "name": "דיר"}
 LOG  ✅ Got complete apartment data: {"id": "4i3rGppoguIkOfcu86HK", "memberCount": 1, "name": "דיר"}
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 30 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 30 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 Turn check debug: {"currentTurnUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "currentUserExists": true, "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "isMyTurn": true, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Additional data loaded successfully
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Backfilling cleaning stats from existing data...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 30 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 30 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 30 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 30 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 No existing cleaning data found, initializing with 0
 LOG  ⚠️ Skipping stats creation - no user data available
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 30 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Essential data loaded successfully
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Dashboard: Loading all data from Firestore...
 LOG  🔄 Refreshing apartment members...
 LOG  🔄 Dashboard: Refreshing data on focus...
 LOG  🔄 Getting cleaning stats...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 30 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🏠 Getting complete apartment data for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔍 Getting reliable apartment ID for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 30 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 30 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 30 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 30 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 30 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Checking user profile for current_apartment_id...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Found apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  🔧 Ensuring current_apartment_id before getting apartment data...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 30 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 30 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 30 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID: 4i3rGppoguIkOfcu86HK
 LOG  📖 Getting document: apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Getting auth headers...
 LOG  ⏳ Waiting for authentication to be ready...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 30 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Authentication is ready
 LOG  🔍 Token info: {"algorithm": "RS256", "email": "abc@gmail.com", "expiresAt": "2025-10-09T10:10:52.000Z", "issuedAt": "2025-10-09T09:10:52.000Z", "type": "JWT", "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  ✅ Token project verified: roomies-hub
 LOG  ✅ Auth headers prepared successfully
 LOG  🌐 Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/4i3rGppoguIkOfcu86HK
 LOG  🔐 Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  📊 Response status: 200 ()
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ Document retrieved successfully
 LOG  👥 Getting apartment members with profiles for: 4i3rGppoguIkOfcu86HK
 LOG  👥 Getting apartment members for: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 30 minutes
 LOG  ✅ ID token is valid
 LOG  🔧 Ensuring current_apartment_id before query...
 LOG  🔧 Ensuring current_apartment_id for user: 3Or6WAVPWOXBTokum8nqQiB0fx13
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 30 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Step 1: Reading user profile...
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  📋 Current apartment ID in profile: 4i3rGppoguIkOfcu86HK
 LOG  ✅ current_apartment_id is already set correctly
 LOG  ✅ Using ensured apartment ID for query: 4i3rGppoguIkOfcu86HK
 LOG  📋 Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  📝 Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "4i3rGppoguIkOfcu86HK"
        }
      }
    }
  }
}
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 30 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  📊 Members query response: 200 ()
 LOG  📋 Raw query results: [{"document": {"createTime": "2025-10-05T04:03:11.945061Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-05T04:03:11.945061Z"}, "readTime": "2025-10-09T09:40:15.116726Z"}]
 LOG  ✅ Found members: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  📋 Found memberships: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👤 Unique user IDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  👤 Getting user profiles for UIDs: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 30 minutes
 LOG  ✅ ID token is valid
 LOG  📋 Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  📝 Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13"
  ]
}
 LOG  📊 Batch get response: 200 ()
 LOG  📋 Raw batch get results: [{"found": {"createTime": "2025-10-05T04:02:33.895822Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/3Or6WAVPWOXBTokum8nqQiB0fx13", "updateTime": "2025-10-09T09:39:35.309199Z"}, "readTime": "2025-10-09T09:39:52.483776Z"}]
 LOG  👤 User profile for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test"}
 LOG  ✅ User profiles loaded: ["3Or6WAVPWOXBTokum8nqQiB0fx13"]
 LOG  📋 User profiles loaded: {"3Or6WAVPWOXBTokum8nqQiB0fx13": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}}
 LOG  ✅ Members with profiles: [{"apartment_id": "4i3rGppoguIkOfcu86HK", "id": "4i3rGppoguIkOfcu86HK_3Or6WAVPWOXBTokum8nqQiB0fx13", "joined_at": "2025-10-05T04:03:11.617Z", "profile": {"displayName": undefined, "display_name": "Last Test", "email": "abc@gmail.com", "full_name": "Last Test", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": undefined}, "role": "member", "user_id": "3Or6WAVPWOXBTokum8nqQiB0fx13"}]
 LOG  👥 Member data for 3Or6WAVPWOXBTokum8nqQiB0fx13: {"email": "abc@gmail.com", "name": "Last Test", "profileEmail": "abc@gmail.com"}
 LOG  ✅ Complete apartment data: {"description": "", "id": "4i3rGppoguIkOfcu86HK", "invite_code": "I2MWYL", "members": [{"current_apartment_id": "4i3rGppoguIkOfcu86HK", "display_name": "Last Test", "email": "abc@gmail.com", "id": "3Or6WAVPWOXBTokum8nqQiB0fx13", "name": "Last Test", "role": "member"}], "name": "דיר"}
 LOG  ✅ Got complete apartment data: {"id": "4i3rGppoguIkOfcu86HK", "memberCount": 1, "name": "דיר"}
 LOG  🚪 AppNavigator: Navigation decision: {"apartmentId": "4i3rGppoguIkOfcu86HK", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔑 Getting current ID token...
 LOG  🔑 Getting current ID token...
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 30 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 30 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 30 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  🔄 Backfilling cleaning stats from existing data...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 30 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 30 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🧪 checklist query ctx {"aptId": "4i3rGppoguIkOfcu86HK", "current": "4i3rGppoguIkOfcu86HK", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  🔍 Turn check debug: {"currentTurnUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "currentUserExists": true, "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "isMyTurn": true, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "3Or6WAVPWOXBTokum8nqQiB0fx13"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Additional data loaded successfully
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 30 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  🔍 Firestore task debug: {"apartmentId": "4i3rGppoguIkOfcu86HK", "currentUserId": "3Or6WAVPWOXBTokum8nqQiB0fx13", "queue": ["3Or6WAVPWOXBTokum8nqQiB0fx13"], "taskId": "4i3rGppoguIkOfcu86HK"}
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 30 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 No existing cleaning data found, initializing with 0
 LOG  ⚠️ Skipping stats creation - no user data available
 LOG  🔄 Getting cleaning stats...
 LOG  🔑 Getting current ID token...
 LOG  🔑 Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  ⏰ Token expires in 30 minutes
 LOG  ✅ ID token is valid
 LOG  ✅ Session available: {"hasToken": true, "hasUid": true, "tokenLength": 922, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "3Or6WAVPWOXBTokum8nqQiB0fx13", "uidLength": 28}
 LOG  🔍 getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "4i3rGppoguIkOfcu86HK", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  ✅ Found apartment ID in user profile: 4i3rGppoguIkOfcu86HK
 LOG  📊 No cleaning stats found, returning default values
 LOG  📊 Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ✅ Dashboard: Essential data loaded successfully
