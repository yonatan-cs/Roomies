+ exec gosu vibecode node node_modules/.bin/expo start --localhost
env: load .env
env: export EXPO_PUBLIC_VIBECODE_OPENAI_API_KEY EXPO_PUBLIC_VIBECODE_ANTHROPIC_API_KEY EXPO_PUBLIC_VIBECODE_GROK_API_KEY EXPO_PUBLIC_VIBECODE_GOOGLE_API_KEY EXPO_PUBLIC_VIBECODE_ELEVENLABS_API_KEY EXPO_PUBLIC_VIBECODE_FIREBASE_SERVER_KEY
Starting project at /home/user/workspace
Starting Metro Bundler
Waiting on http://localhost:8081
Logs for your project will appear below.
iOS ./index.ts â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  0.0% (0/1)
iOS ./index.ts â–“â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  9.0% ( 40/178)
iOS ./index.ts â–“â–“â–“â–“â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 27.1% (327/659)
iOS ./index.ts â–“â–“â–“â–“â–“â–“â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 41.1% (549/856)
iOS ./index.ts â–“â–“â–“â–“â–“â–“â–“â–“â–“â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 57.8% ( 834/1097)
iOS ./index.ts â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–‘â–‘â–‘â–‘ 78.0% (1102/1248)
iOS ./index.ts â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–‘ 94.3% (1388/1430)
iOS Bundled 23060ms index.ts (1475 modules)
 LOG  ğŸ”§ Firestore debug logging enabled
 ERROR  i18next::pluralResolver: Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.
 LOG  [index] Project ID is:  6d6cd6da-7505-42d7-91fd-2928c6600b00
 LOG  ğŸ” initializing state changed to: true
 LOG  ğŸ” Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": true, "isNewUserRegistration": false, "mode": "select"}
 LOG  ğŸ‘¤ WelcomeScreen: No user present, immediately showing auth screen
 LOG  ğŸ” setInitializing(false) called from: no user present
 LOG  ğŸ‘¤ WelcomeScreen: No user present, skipping timeout
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": false, "isNewUserRegistration": false, "mode": "select"}
 LOG  ğŸ”Š Haptic: medium impact
 LOG  ğŸ†• Creating user with clean data (no apartment ID): {"display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”"}
 LOG  ğŸ“ Creating document in collection: users
 LOG  ğŸ“‹ Document data: {"display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”"}
 LOG  ğŸ†” Document ID: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ” Getting auth headers...
 LOG  â³ Waiting for authentication to be ready...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 60 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Authentication is ready
 LOG  ğŸ” Token info: {"algorithm": "RS256", "email": "del@gmail.com", "expiresAt": "2025-10-09T19:06:59.000Z", "issuedAt": "2025-10-09T18:06:59.000Z", "type": "JWT", "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  âœ… Token project verified: roomies-hub
 LOG  âœ… Auth headers prepared successfully
 LOG  ğŸŒ Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/users?documentId=otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ“¤ Request body fields: ["email", "full_name", "display_name"]
 LOG  ğŸ“Š Response status: 200 ()
 LOG  Document created successfully: {"display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ‰ Registration successful, calling onAuthSuccess immediately...
 LOG  ğŸ‰ User data being passed: {"current_apartment_id": null, "email": "del@gmail.com", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ‰ onAuthSuccess function type: function
 LOG  ğŸ‰ onAuthSuccess function: [Function handleAuthSuccess]
 LOG  ğŸ‰ WelcomeScreen: handleAuthSuccess called!
 LOG  ğŸ‰ WelcomeScreen: Auth success, setting user and checking apartment...
 LOG  ğŸ‰ WelcomeScreen: User data: {"current_apartment_id": null, "email": "del@gmail.com", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ‘¤ WelcomeScreen: New user detected (no apartment_id), skipping ALL Firestore operations
 LOG  ğŸ“­ WelcomeScreen: Directing new user to join/create apartment screen
 LOG  âœ… WelcomeScreen: Setting initializing to false for new user
 LOG  ğŸ” setInitializing(false) called from: handleAuthSuccess - new user
 LOG  âœ… WelcomeScreen: New user setup completed
 LOG  âœ… onAuthSuccess called successfully
 LOG  ğŸ” initializing state changed to: true
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": true, "isNewUserRegistration": false, "mode": "select"}
 LOG  ğŸ” External user detected, forcing navigation to join/create screen
 LOG  ğŸ” User data: {"current_apartment_id": null, "email": "del@gmail.com", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ” New user detected externally, setting up...
 LOG  ğŸ” setInitializing(false) called from: external user detection
 LOG  ğŸ‘¤ WelcomeScreen: Skipping checkUserSession useEffect for new user registration
 LOG  ğŸ‘¤ WelcomeScreen: Skipping timeout for new user registration
 LOG  ğŸš€ Initializing Firebase notifications for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸš€ Initializing Firebase Web notification service...
 LOG  ğŸ“± Mobile platform - using mock token for testing
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "select"}
 LOG  ğŸ‘¤ WelcomeScreen: Skipping checkUserSession useEffect for new user registration
 LOG  ğŸ“± Mock FCM Token (for testing): mock_fcm_token_1760033220058_spjnzkvex
 LOG  ğŸ” Getting auth headers...
 LOG  â³ Waiting for authentication to be ready...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 59 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Authentication is ready
 LOG  ğŸ” Token info: {"algorithm": "RS256", "email": "del@gmail.com", "expiresAt": "2025-10-09T19:06:59.000Z", "issuedAt": "2025-10-09T18:06:59.000Z", "type": "JWT", "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  âœ… Token project verified: roomies-hub
 LOG  âœ… Auth headers prepared successfully
 LOG  ğŸ” PATCH request details: {"body": "{
  \"fields\": {
    \"fcm_token\": {
      \"stringValue\": \"mock_fcm_token_1760033220058_spjnzkvex\"
    },
    \"device_type\": {
      \"stringValue\": \"ios\"
    },
    \"last_seen\": {
      \"stringValue\": \"2025-10-09T18:07:00.059Z\"
    }
  }
}", "updateMaskFields": ["fcm_token", "device_type", "last_seen"], "url": "https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2?updateMask.fieldPaths=fcm_token&updateMask.fieldPaths=device_type&updateMask.fieldPaths=last_seen"}
 LOG  ğŸ”„ WelcomeScreen: Force re-render after 100ms
 LOG  ğŸ” setInitializing(false) called from: handleAuthSuccess - force re-render
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 59 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”„ Additional fallback: Checking if user is set...
 LOG  âœ… Additional fallback: User found in store, navigation should work
 LOG  âœ… FCM token saved to Firestore
 LOG  ğŸ“± Mobile platform - notification listeners not available in Expo Go
 LOG  âœ… Firebase Web notification service initialized successfully
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "select"}
 LOG  ğŸ‘¤ WelcomeScreen: Skipping checkUserSession useEffect for new user registration
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "select"}
 LOG  ğŸ‘¤ WelcomeScreen: Skipping checkUserSession useEffect for new user registration
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "select"}
 LOG  ğŸ‘¤ WelcomeScreen: Skipping checkUserSession useEffect for new user registration
 LOG  ğŸ” initializing state changed to: true
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": true, "isNewUserRegistration": false, "mode": "select"}
 LOG  ğŸ” External user detected, forcing navigation to join/create screen
 LOG  ğŸ” User data: {"current_apartment_id": null, "email": "del@gmail.com", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ” New user detected externally, setting up...
 LOG  ğŸ” setInitializing(false) called from: external user detection
 LOG  ğŸ‘¤ WelcomeScreen: Skipping checkUserSession useEffect for new user registration
 LOG  ğŸ‘¤ WelcomeScreen: Skipping timeout for new user registration
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "select"}
 LOG  ğŸ‘¤ WelcomeScreen: Skipping checkUserSession useEffect for new user registration
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "select"}
 LOG  ğŸ‘¤ WelcomeScreen: Skipping checkUserSession useEffect for new user registration
 LOG  ğŸ” initializing state changed to: true
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": true, "isNewUserRegistration": false, "mode": "select"}
 LOG  ğŸ” External user detected, forcing navigation to join/create screen
 LOG  ğŸ” User data: {"current_apartment_id": null, "email": "del@gmail.com", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ” New user detected externally, setting up...
 LOG  ğŸ” setInitializing(false) called from: external user detection
 LOG  ğŸ‘¤ WelcomeScreen: Skipping checkUserSession useEffect for new user registration
 LOG  ğŸ‘¤ WelcomeScreen: Skipping timeout for new user registration
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "select"}
 LOG  ğŸ‘¤ WelcomeScreen: Skipping checkUserSession useEffect for new user registration
 LOG  ğŸ” initializing state changed to: true
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": true, "isNewUserRegistration": false, "mode": "select"}
 LOG  ğŸ” External user detected, forcing navigation to join/create screen
 LOG  ğŸ” User data: {"current_apartment_id": null, "email": "del@gmail.com", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ” New user detected externally, setting up...
 LOG  ğŸ” setInitializing(false) called from: external user detection
 LOG  ğŸ‘¤ WelcomeScreen: Skipping checkUserSession useEffect for new user registration
 LOG  ğŸ‘¤ WelcomeScreen: Skipping timeout for new user registration
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "select"}
 LOG  ğŸ‘¤ WelcomeScreen: Skipping checkUserSession useEffect for new user registration
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "select"}
 LOG  ğŸ‘¤ WelcomeScreen: Skipping checkUserSession useEffect for new user registration
 LOG  ğŸ” initializing state changed to: true
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": true, "isNewUserRegistration": false, "mode": "select"}
 LOG  ğŸ” External user detected, forcing navigation to join/create screen
 LOG  ğŸ” User data: {"current_apartment_id": null, "email": "del@gmail.com", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ” New user detected externally, setting up...
 LOG  ğŸ” setInitializing(false) called from: external user detection
 LOG  ğŸ‘¤ WelcomeScreen: Skipping checkUserSession useEffect for new user registration
 LOG  ğŸ‘¤ WelcomeScreen: Skipping timeout for new user registration
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "select"}
 LOG  ğŸ‘¤ WelcomeScreen: Skipping checkUserSession useEffect for new user registration
 LOG  ğŸ” initializing state changed to: true
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": true, "isNewUserRegistration": false, "mode": "select"}
 LOG  ğŸ” External user detected, forcing navigation to join/create screen
 LOG  ğŸ” User data: {"current_apartment_id": null, "email": "del@gmail.com", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ” New user detected externally, setting up...
 LOG  ğŸ” setInitializing(false) called from: external user detection
 LOG  ğŸ‘¤ WelcomeScreen: Skipping checkUserSession useEffect for new user registration
 LOG  ğŸ‘¤ WelcomeScreen: Skipping timeout for new user registration
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "select"}
 LOG  ğŸ‘¤ WelcomeScreen: Skipping checkUserSession useEffect for new user registration
 LOG  ğŸ” initializing state changed to: true
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": true, "isNewUserRegistration": false, "mode": "select"}
 LOG  ğŸ” External user detected, forcing navigation to join/create screen
 LOG  ğŸ” User data: {"current_apartment_id": null, "email": "del@gmail.com", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ” New user detected externally, setting up...
 LOG  ğŸ” setInitializing(false) called from: external user detection
 LOG  ğŸ‘¤ WelcomeScreen: Skipping checkUserSession useEffect for new user registration
 LOG  ğŸ‘¤ WelcomeScreen: Skipping timeout for new user registration
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "select"}
 LOG  ğŸ‘¤ WelcomeScreen: Skipping checkUserSession useEffect for new user registration
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "select"}
 LOG  ğŸ‘¤ WelcomeScreen: Skipping checkUserSession useEffect for new user registration
 LOG  ğŸ” initializing state changed to: true
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": true, "isNewUserRegistration": false, "mode": "select"}
 LOG  ğŸ” External user detected, forcing navigation to join/create screen
 LOG  ğŸ” User data: {"current_apartment_id": null, "email": "del@gmail.com", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ” New user detected externally, setting up...
 LOG  ğŸ” setInitializing(false) called from: external user detection
 LOG  ğŸ‘¤ WelcomeScreen: Skipping checkUserSession useEffect for new user registration
 LOG  ğŸ‘¤ WelcomeScreen: Skipping timeout for new user registration
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "select"}
 LOG  ğŸ‘¤ WelcomeScreen: Skipping checkUserSession useEffect for new user registration
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "select"}
 LOG  ğŸ‘¤ WelcomeScreen: Skipping checkUserSession useEffect for new user registration
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "select"}
 LOG  ğŸ‘¤ WelcomeScreen: Skipping checkUserSession useEffect for new user registration
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "select"}
 LOG  ğŸ‘¤ WelcomeScreen: Skipping checkUserSession useEffect for new user registration
 LOG  ğŸ” initializing state changed to: true
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": true, "isNewUserRegistration": false, "mode": "select"}
 LOG  ğŸ” External user detected, forcing navigation to join/create screen
 LOG  ğŸ” User data: {"current_apartment_id": null, "email": "del@gmail.com", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ” New user detected externally, setting up...
 LOG  ğŸ” setInitializing(false) called from: external user detection
 LOG  ğŸ‘¤ WelcomeScreen: Skipping checkUserSession useEffect for new user registration
 LOG  ğŸ‘¤ WelcomeScreen: Skipping timeout for new user registration
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "select"}
 LOG  ğŸ‘¤ WelcomeScreen: Skipping checkUserSession useEffect for new user registration
 ERROR  i18next::pluralResolver: Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.
 LOG  ğŸ” initializing state changed to: true
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": true, "isNewUserRegistration": false, "mode": "select"}
 LOG  ğŸ” External user detected, forcing navigation to join/create screen
 LOG  ğŸ” User data: {"current_apartment_id": null, "email": "del@gmail.com", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ” New user detected externally, setting up...
 LOG  ğŸ” setInitializing(false) called from: external user detection
 LOG  ğŸ‘¤ WelcomeScreen: Skipping checkUserSession useEffect for new user registration
 LOG  ğŸ‘¤ WelcomeScreen: Skipping timeout for new user registration
 LOG  ğŸš€ Initializing Firebase notifications for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸš€ Initializing Firebase Web notification service...
 LOG  ğŸ“± Mobile platform - using mock token for testing
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "select"}
 LOG  ğŸ‘¤ WelcomeScreen: Skipping checkUserSession useEffect for new user registration
 LOG  ğŸ“± Mock FCM Token (for testing): mock_fcm_token_1760033734402_d1esgey35
 LOG  ğŸ” Getting auth headers...
 LOG  â³ Waiting for authentication to be ready...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 51 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Authentication is ready
 LOG  ğŸ” Token info: {"algorithm": "RS256", "email": "del@gmail.com", "expiresAt": "2025-10-09T19:06:59.000Z", "issuedAt": "2025-10-09T18:06:59.000Z", "type": "JWT", "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  âœ… Token project verified: roomies-hub
 LOG  âœ… Auth headers prepared successfully
 LOG  ğŸ” PATCH request details: {"body": "{
  \"fields\": {
    \"fcm_token\": {
      \"stringValue\": \"mock_fcm_token_1760033734402_d1esgey35\"
    },
    \"device_type\": {
      \"stringValue\": \"ios\"
    },
    \"last_seen\": {
      \"stringValue\": \"2025-10-09T18:15:34.402Z\"
    }
  }
}", "updateMaskFields": ["fcm_token", "device_type", "last_seen"], "url": "https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2?updateMask.fieldPaths=fcm_token&updateMask.fieldPaths=device_type&updateMask.fieldPaths=last_seen"}
 LOG  âœ… FCM token saved to Firestore
 LOG  ğŸ“± Mobile platform - notification listeners not available in Expo Go
 LOG  âœ… Firebase Web notification service initialized successfully
 LOG  ğŸ” initializing state changed to: true
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": true, "isNewUserRegistration": false, "mode": "select"}
 LOG  ğŸ” External user detected, forcing navigation to join/create screen
 LOG  ğŸ” User data: {"current_apartment_id": null, "email": "del@gmail.com", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ” New user detected externally, setting up...
 LOG  ğŸ” setInitializing(false) called from: external user detection
 LOG  ğŸ‘¤ WelcomeScreen: Skipping checkUserSession useEffect for new user registration
 LOG  ğŸ‘¤ WelcomeScreen: Skipping timeout for new user registration
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "select"}
 LOG  ğŸ‘¤ WelcomeScreen: Skipping checkUserSession useEffect for new user registration
 LOG  ğŸ” initializing state changed to: true
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": true, "isNewUserRegistration": false, "mode": "select"}
 LOG  ğŸ” External user detected, forcing navigation to join/create screen
 LOG  ğŸ” User data: {"current_apartment_id": null, "email": "del@gmail.com", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ” New user detected externally, setting up...
 LOG  ğŸ” setInitializing(false) called from: external user detection
 LOG  ğŸ‘¤ WelcomeScreen: Skipping checkUserSession useEffect for new user registration
 LOG  ğŸ‘¤ WelcomeScreen: Skipping timeout for new user registration
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "select"}
 LOG  ğŸ‘¤ WelcomeScreen: Skipping checkUserSession useEffect for new user registration
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "select"}
 LOG  ğŸ‘¤ WelcomeScreen: Skipping checkUserSession useEffect for new user registration
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "select"}
 LOG  ğŸ‘¤ WelcomeScreen: Skipping checkUserSession useEffect for new user registration
 LOG  ğŸ” initializing state changed to: true
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": true, "isNewUserRegistration": false, "mode": "select"}
 LOG  ğŸ” External user detected, forcing navigation to join/create screen
 LOG  ğŸ” User data: {"current_apartment_id": null, "email": "del@gmail.com", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ” New user detected externally, setting up...
 LOG  ğŸ” setInitializing(false) called from: external user detection
 LOG  ğŸ‘¤ WelcomeScreen: Skipping checkUserSession useEffect for new user registration
 LOG  ğŸ‘¤ WelcomeScreen: Skipping timeout for new user registration
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "select"}
 LOG  ğŸ‘¤ WelcomeScreen: Skipping checkUserSession useEffect for new user registration
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "select"}
 LOG  ğŸ‘¤ WelcomeScreen: Skipping checkUserSession useEffect for new user registration
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "select"}
 LOG  ğŸ‘¤ WelcomeScreen: Skipping checkUserSession useEffect for new user registration
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "select"}
 LOG  ğŸ‘¤ WelcomeScreen: Skipping checkUserSession useEffect for new user registration
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "join"}
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "join"}
 LOG  ğŸ‘¤ WelcomeScreen: Skipping checkUserSession useEffect for new user registration
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "select"}
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "select"}
 LOG  ğŸ‘¤ WelcomeScreen: Skipping checkUserSession useEffect for new user registration
 LOG  ğŸ” initializing state changed to: true
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": true, "isNewUserRegistration": false, "mode": "select"}
 LOG  ğŸ” External user detected, forcing navigation to join/create screen
 LOG  ğŸ” User data: {"current_apartment_id": null, "email": "del@gmail.com", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ” New user detected externally, setting up...
 LOG  ğŸ” setInitializing(false) called from: external user detection
 LOG  ğŸ‘¤ WelcomeScreen: Skipping checkUserSession useEffect for new user registration
 LOG  ğŸ‘¤ WelcomeScreen: Skipping timeout for new user registration
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "select"}
 LOG  ğŸ‘¤ WelcomeScreen: Skipping checkUserSession useEffect for new user registration
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "select"}
 LOG  ğŸ‘¤ WelcomeScreen: Skipping checkUserSession useEffect for new user registration
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "select"}
 LOG  ğŸ‘¤ WelcomeScreen: Skipping checkUserSession useEffect for new user registration
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "select"}
 LOG  ğŸ‘¤ WelcomeScreen: Skipping checkUserSession useEffect for new user registration
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "select"}
 LOG  ğŸ‘¤ WelcomeScreen: Skipping checkUserSession useEffect for new user registration
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "select"}
 LOG  ğŸ‘¤ WelcomeScreen: Skipping checkUserSession useEffect for new user registration
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "select"}
 LOG  ğŸ‘¤ WelcomeScreen: Skipping checkUserSession useEffect for new user registration
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "join"}
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "join"}
 LOG  ğŸ‘¤ WelcomeScreen: Skipping checkUserSession useEffect for new user registration
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "join"}
 LOG  ğŸ‘¤ WelcomeScreen: Skipping checkUserSession useEffect for new user registration
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "select"}
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "create"}
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "select"}
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "join"}
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "select"}
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "create"}
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "select"}
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "join"}
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "join"}
 LOG  ğŸ‘¤ WelcomeScreen: Skipping checkUserSession useEffect for new user registration
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "select"}
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "create"}
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "select"}
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "join"}
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "select"}
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "create"}
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "create"}
 LOG  ğŸ‘¤ WelcomeScreen: Skipping checkUserSession useEffect for new user registration
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "create"}
 LOG  ğŸ‘¤ WelcomeScreen: Skipping checkUserSession useEffect for new user registration
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "create"}
 LOG  ğŸ‘¤ WelcomeScreen: Skipping checkUserSession useEffect for new user registration
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "create"}
 LOG  ğŸ‘¤ WelcomeScreen: Skipping checkUserSession useEffect for new user registration
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "create"}
 LOG  ğŸ‘¤ WelcomeScreen: Skipping checkUserSession useEffect for new user registration
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "create"}
 LOG  ğŸ‘¤ WelcomeScreen: Skipping checkUserSession useEffect for new user registration
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "create"}
 LOG  ğŸ‘¤ WelcomeScreen: Skipping checkUserSession useEffect for new user registration
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "create"}
 LOG  ğŸ‘¤ WelcomeScreen: Skipping checkUserSession useEffect for new user registration
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "select"}
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "join"}
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "select"}
 LOG  ğŸ” initializing state changed to: true
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": true, "isNewUserRegistration": false, "mode": "select"}
 LOG  ğŸ” External user detected, forcing navigation to join/create screen
 LOG  ğŸ” User data: {"current_apartment_id": null, "email": "del@gmail.com", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ” New user detected externally, setting up...
 LOG  ğŸ” setInitializing(false) called from: external user detection
 LOG  ğŸ‘¤ WelcomeScreen: Skipping checkUserSession useEffect for new user registration
 LOG  ğŸ‘¤ WelcomeScreen: Skipping timeout for new user registration
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "select"}
 LOG  ğŸ‘¤ WelcomeScreen: Skipping checkUserSession useEffect for new user registration
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "create"}
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "select"}
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "join"}
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "select"}
 LOG  ğŸ” initializing state changed to: true
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": true, "isNewUserRegistration": false, "mode": "select"}
 LOG  ğŸ” External user detected, forcing navigation to join/create screen
 LOG  ğŸ” User data: {"current_apartment_id": null, "email": "del@gmail.com", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ” New user detected externally, setting up...
 LOG  ğŸ” setInitializing(false) called from: external user detection
 LOG  ğŸ‘¤ WelcomeScreen: Skipping checkUserSession useEffect for new user registration
 LOG  ğŸ‘¤ WelcomeScreen: Skipping timeout for new user registration
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "select"}
 LOG  ğŸ‘¤ WelcomeScreen: Skipping checkUserSession useEffect for new user registration
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "create"}
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "create"}
 LOG  ğŸ‘¤ WelcomeScreen: Skipping checkUserSession useEffect for new user registration
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "select"}
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "join"}
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "select"}
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "create"}
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "select"}
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "join"}
 ERROR  i18next::pluralResolver: Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.
 LOG  ğŸ” initializing state changed to: true
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": true, "isNewUserRegistration": false, "mode": "select"}
 LOG  ğŸ” External user detected, forcing navigation to join/create screen
 LOG  ğŸ” User data: {"current_apartment_id": null, "email": "del@gmail.com", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ” New user detected externally, setting up...
 LOG  ğŸ” setInitializing(false) called from: external user detection
 LOG  ğŸ‘¤ WelcomeScreen: Skipping checkUserSession useEffect for new user registration
 LOG  ğŸ‘¤ WelcomeScreen: Skipping timeout for new user registration
 LOG  ğŸš€ Initializing Firebase notifications for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸš€ Initializing Firebase Web notification service...
 LOG  ğŸ“± Mobile platform - using mock token for testing
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "select"}
 LOG  ğŸ‘¤ WelcomeScreen: Skipping checkUserSession useEffect for new user registration
 LOG  ğŸ“± Mock FCM Token (for testing): mock_fcm_token_1760035024249_x0pad3pzk
 LOG  ğŸ” Getting auth headers...
 LOG  â³ Waiting for authentication to be ready...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 29 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Authentication is ready
 LOG  ğŸ” Token info: {"algorithm": "RS256", "email": "del@gmail.com", "expiresAt": "2025-10-09T19:06:59.000Z", "issuedAt": "2025-10-09T18:06:59.000Z", "type": "JWT", "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  âœ… Token project verified: roomies-hub
 LOG  âœ… Auth headers prepared successfully
 LOG  ğŸ” PATCH request details: {"body": "{
  \"fields\": {
    \"fcm_token\": {
      \"stringValue\": \"mock_fcm_token_1760035024249_x0pad3pzk\"
    },
    \"device_type\": {
      \"stringValue\": \"ios\"
    },
    \"last_seen\": {
      \"stringValue\": \"2025-10-09T18:37:04.250Z\"
    }
  }
}", "updateMaskFields": ["fcm_token", "device_type", "last_seen"], "url": "https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2?updateMask.fieldPaths=fcm_token&updateMask.fieldPaths=device_type&updateMask.fieldPaths=last_seen"}
 LOG  âœ… FCM token saved to Firestore
 LOG  ğŸ“± Mobile platform - notification listeners not available in Expo Go
 LOG  âœ… Firebase Web notification service initialized successfully
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "join"}
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "select"}
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "create"}
 ERROR  i18next::pluralResolver: Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.
 LOG  ğŸ” initializing state changed to: true
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": true, "isNewUserRegistration": false, "mode": "select"}
 LOG  ğŸ” External user detected, forcing navigation to join/create screen
 LOG  ğŸ” User data: {"current_apartment_id": null, "email": "del@gmail.com", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ” New user detected externally, setting up...
 LOG  ğŸ” setInitializing(false) called from: external user detection
 LOG  ğŸ‘¤ WelcomeScreen: Skipping checkUserSession useEffect for new user registration
 LOG  ğŸ‘¤ WelcomeScreen: Skipping timeout for new user registration
 LOG  ğŸš€ Initializing Firebase notifications for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸš€ Initializing Firebase Web notification service...
 LOG  ğŸ“± Mobile platform - using mock token for testing
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "select"}
 LOG  ğŸ‘¤ WelcomeScreen: Skipping checkUserSession useEffect for new user registration
 LOG  ğŸ“± Mock FCM Token (for testing): mock_fcm_token_1760035035926_mcqar74ld
 LOG  ğŸ” Getting auth headers...
 LOG  â³ Waiting for authentication to be ready...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 29 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Authentication is ready
 LOG  ğŸ” Token info: {"algorithm": "RS256", "email": "del@gmail.com", "expiresAt": "2025-10-09T19:06:59.000Z", "issuedAt": "2025-10-09T18:06:59.000Z", "type": "JWT", "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  âœ… Token project verified: roomies-hub
 LOG  âœ… Auth headers prepared successfully
 LOG  ğŸ” PATCH request details: {"body": "{
  \"fields\": {
    \"fcm_token\": {
      \"stringValue\": \"mock_fcm_token_1760035035926_mcqar74ld\"
    },
    \"device_type\": {
      \"stringValue\": \"ios\"
    },
    \"last_seen\": {
      \"stringValue\": \"2025-10-09T18:37:15.926Z\"
    }
  }
}", "updateMaskFields": ["fcm_token", "device_type", "last_seen"], "url": "https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2?updateMask.fieldPaths=fcm_token&updateMask.fieldPaths=device_type&updateMask.fieldPaths=last_seen"}
 LOG  âœ… FCM token saved to Firestore
 LOG  ğŸ“± Mobile platform - notification listeners not available in Expo Go
 LOG  âœ… Firebase Web notification service initialized successfully
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "select"}
 LOG  ğŸ‘¤ WelcomeScreen: Skipping checkUserSession useEffect for new user registration
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "select"}
 LOG  ğŸ‘¤ WelcomeScreen: Skipping checkUserSession useEffect for new user registration
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "select"}
 LOG  ğŸ‘¤ WelcomeScreen: Skipping checkUserSession useEffect for new user registration
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "create"}
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "select"}
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": true, "disableFirestoreForNewUsers": true, "initializing": false, "isNewUserRegistration": true, "mode": "join"}
 LOG  ğŸš€ Starting apartment join process...
 LOG  ğŸ§‘â€ğŸ’» Current user check: otmf6ZDcYigiDhogNKzrD4YRyfS2 (del@gmail.com)
 LOG  ğŸ‘¤ Current user details: {"email": "del@gmail.com", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": "×œ××—×™×§×”"}
 LOG  â³ Waiting for authentication to stabilize...
 LOG  ğŸ” Attempting to join apartment with code: "98EG2Q"
 LOG  ğŸ”— Joining apartment with code: 98EG2Q
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 28 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ‘¤ Current user ID: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ” Fetching invite document: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartmentInvites/98EG2Q
 LOG  ğŸ“Š Invite response: 200 ()
 LOG  ğŸ“‹ Found invite: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "apartmentName": "××©×¤×—×ª ×¨×•×ª×", "inviteCode": "98EG2Q"}
 LOG  ğŸ¤ Creating membership document:
 LOG  ğŸ“‹ URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartmentMembers?documentId=81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ†” Membership ID: 81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ‘¤ User ID: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ  Apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“ Body: {
  "fields": {
    "apartment_id": {
      "stringValue": "81KfbcHHg4DPPdodHSnm"
    },
    "user_id": {
      "stringValue": "otmf6ZDcYigiDhogNKzrD4YRyfS2"
    },
    "role": {
      "stringValue": "member"
    },
    "created_at": {
      "timestampValue": "2025-10-09T18:38:12.838Z"
    }
  }
}
 LOG  ğŸ“Š Membership creation response: 200 ()
 LOG  âœ… Membership created successfully
 LOG  ğŸ‘¤ Setting current apartment for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ“‹ URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2?updateMask.fieldPaths=current_apartment_id
 LOG  ğŸ“ Body: {
  "fields": {
    "current_apartment_id": {
      "stringValue": "81KfbcHHg4DPPdodHSnm"
    }
  }
}
 LOG  ğŸ“Š Set current apartment response: 200 ()
 LOG  âœ… Current apartment set successfully
 LOG  ğŸ“– Getting document: apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Getting auth headers...
 LOG  â³ Waiting for authentication to be ready...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 28 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Authentication is ready
 LOG  ğŸ” Token info: {"algorithm": "RS256", "email": "del@gmail.com", "expiresAt": "2025-10-09T19:06:59.000Z", "issuedAt": "2025-10-09T18:06:59.000Z", "type": "JWT", "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  âœ… Token project verified: roomies-hub
 LOG  âœ… Auth headers prepared successfully
 LOG  ğŸŒ Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  ğŸ“Š Response status: 200 ()
 LOG  âœ… Document retrieved successfully
 LOG  âœ… Successfully joined apartment: {"description": "", "id": "81KfbcHHg4DPPdodHSnm", "invite_code": "98EG2Q", "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  ğŸ  Successfully joined apartment: ××©×¤×—×ª ×¨×•×ª× (ID: 81KfbcHHg4DPPdodHSnm)
 LOG  ğŸ  Setting local apartment after join: {"id": "81KfbcHHg4DPPdodHSnm", "invite_code": "98EG2Q", "memberCount": 1, "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”„ Dashboard: Loading all data from Firestore...
 LOG  ğŸ”„ Refreshing apartment members...
 LOG  ğŸ”„ Dashboard: Refreshing data on focus...
 LOG  ğŸ”„ Getting cleaning stats...
 LOG  ğŸ  MainTabs: Loading apartment data for 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”„ Refreshing apartment members...
 LOG  ğŸ”„ loadCleaningChecklist already in progress, skipping...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 28 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ  Getting complete apartment data for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ” Getting reliable apartment ID for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 28 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 28 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 28 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 28 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 28 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ  Getting complete apartment data for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ” Getting reliable apartment ID for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 28 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 28 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 28 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 28 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 28 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Checking user profile for current_apartment_id...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 28 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Checking user profile for current_apartment_id...
 LOG  ğŸ‰ Apartment join process completed successfully!
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 28 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 28 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… Found apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”§ Ensuring current_apartment_id before getting apartment data...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… Found apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”§ Ensuring current_apartment_id before getting apartment data...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 28 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 28 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 28 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ“Š No cleaning stats found, returning default values
 LOG  ğŸ“Š Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“– Getting document: apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Getting auth headers...
 LOG  â³ Waiting for authentication to be ready...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“– Getting document: apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Getting auth headers...
 LOG  â³ Waiting for authentication to be ready...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ” Firestore task debug: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "currentUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "queue": ["uRT93ikDjjcKeSFJOGBPKlzKYzl1"], "taskId": "81KfbcHHg4DPPdodHSnm"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 28 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Authentication is ready
 LOG  ğŸ” Token info: {"algorithm": "RS256", "email": "del@gmail.com", "expiresAt": "2025-10-09T19:06:59.000Z", "issuedAt": "2025-10-09T18:06:59.000Z", "type": "JWT", "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  âœ… Token project verified: roomies-hub
 LOG  âœ… Auth headers prepared successfully
 LOG  ğŸŒ Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 28 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Authentication is ready
 LOG  ğŸ” Token info: {"algorithm": "RS256", "email": "del@gmail.com", "expiresAt": "2025-10-09T19:06:59.000Z", "issuedAt": "2025-10-09T18:06:59.000Z", "type": "JWT", "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  âœ… Token project verified: roomies-hub
 LOG  âœ… Auth headers prepared successfully
 LOG  ğŸŒ Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  ğŸ” Firestore task debug: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "currentUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "queue": ["uRT93ikDjjcKeSFJOGBPKlzKYzl1"], "taskId": "81KfbcHHg4DPPdodHSnm"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ“Š Response status: 200 ()
 LOG  ğŸ“Š Response status: 200 ()
 LOG  ğŸ” Firestore task debug: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "currentUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "queue": ["uRT93ikDjjcKeSFJOGBPKlzKYzl1"], "taskId": "81KfbcHHg4DPPdodHSnm"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  âœ… Document retrieved successfully
 LOG  ğŸ‘¥ Getting apartment members with profiles for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ‘¥ Getting apartment members for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  âœ… Document retrieved successfully
 LOG  ğŸ‘¥ Getting apartment members with profiles for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ‘¥ Getting apartment members for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 28 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 28 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”§ Ensuring current_apartment_id before query...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 28 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”§ Ensuring current_apartment_id before query...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 28 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 28 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 28 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID for query: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  ğŸ“ Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "81KfbcHHg4DPPdodHSnm"
        }
      }
    }
  }
}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID for query: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  ğŸ“ Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "81KfbcHHg4DPPdodHSnm"
        }
      }
    }
  }
}
 LOG  ğŸ“Š Members query response: 200 ()
 LOG  ğŸ“‹ Raw query results: [{"document": {"createTime": "2025-10-09T18:38:13.485205Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:38:13.485205Z"}, "readTime": "2025-10-09T18:38:19.384892Z"}, {"document": {"createTime": "2025-10-09T11:17:22.223369Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T11:17:22.223369Z"}, "readTime": "2025-10-09T18:38:19.384892Z"}]
 LOG  âœ… Found members: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ“‹ Found memberships: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¤ Unique user IDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ‘¤ Getting user profiles for UIDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 28 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  ğŸ“ Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2",
    "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1"
  ]
}
 LOG  ğŸ“Š Members query response: 200 ()
 LOG  ğŸ“Š Batch get response: 200 ()
 LOG  ğŸ“‹ Raw query results: [{"document": {"createTime": "2025-10-09T18:38:13.485205Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:38:13.485205Z"}, "readTime": "2025-10-09T18:38:20.120704Z"}, {"document": {"createTime": "2025-10-09T11:17:22.223369Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T11:17:22.223369Z"}, "readTime": "2025-10-09T18:38:20.120704Z"}]
 LOG  âœ… Found members: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ“‹ Found memberships: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¤ Unique user IDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ‘¤ Getting user profiles for UIDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ“‹ Raw batch get results: [{"found": {"createTime": "2025-10-09T18:06:59.898608Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:38:13.806868Z"}, "readTime": "2025-10-09T18:38:20.132146Z"}, {"found": {"createTime": "2025-10-09T11:15:16.695442Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T18:35:20.935744Z"}, "readTime": "2025-10-09T18:38:20.132146Z"}]
 LOG  ğŸ‘¤ User profile for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”"}
 LOG  ğŸ‘¤ User profile for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×"}
 LOG  âœ… User profiles loaded: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ“‹ User profiles loaded: {"otmf6ZDcYigiDhogNKzrD4YRyfS2": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "uRT93ikDjjcKeSFJOGBPKlzKYzl1": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}}
 LOG  âœ… Members with profiles: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "profile": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "profile": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}, "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¥ Member data for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"email": "del@gmail.com", "name": "×œ××—×™×§×”", "profileEmail": "del@gmail.com"}
 LOG  ğŸ‘¥ Member data for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"email": "yonrotem@gmail.com", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "profileEmail": "yonrotem@gmail.com"}
 LOG  âœ… Complete apartment data: {"description": "", "id": "81KfbcHHg4DPPdodHSnm", "invite_code": "98EG2Q", "members": [{"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": "×œ××—×™×§×”", "role": "member"}, {"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "role": "member"}], "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  âœ… Got complete apartment data: {"id": "81KfbcHHg4DPPdodHSnm", "memberCount": 2, "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 28 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  ğŸ“ Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2",
    "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1"
  ]
}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 28 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 28 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ§ª checklist query ctx {"aptId": "81KfbcHHg4DPPdodHSnm", "current": "81KfbcHHg4DPPdodHSnm", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ“Š Batch get response: 200 ()
 LOG  ğŸ“‹ Raw batch get results: [{"found": {"createTime": "2025-10-09T18:06:59.898608Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:38:13.806868Z"}, "readTime": "2025-10-09T18:38:21.093944Z"}, {"found": {"createTime": "2025-10-09T11:15:16.695442Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T18:35:20.935744Z"}, "readTime": "2025-10-09T18:38:21.093944Z"}]
 LOG  ğŸ‘¤ User profile for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”"}
 LOG  ğŸ‘¤ User profile for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×"}
 LOG  âœ… User profiles loaded: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ“‹ User profiles loaded: {"otmf6ZDcYigiDhogNKzrD4YRyfS2": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "uRT93ikDjjcKeSFJOGBPKlzKYzl1": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}}
 LOG  âœ… Members with profiles: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "profile": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "profile": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}, "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¥ Member data for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"email": "del@gmail.com", "name": "×œ××—×™×§×”", "profileEmail": "del@gmail.com"}
 LOG  ğŸ‘¥ Member data for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"email": "yonrotem@gmail.com", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "profileEmail": "yonrotem@gmail.com"}
 LOG  âœ… Complete apartment data: {"description": "", "id": "81KfbcHHg4DPPdodHSnm", "invite_code": "98EG2Q", "members": [{"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": "×œ××—×™×§×”", "role": "member"}, {"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "role": "member"}], "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  âœ… Got complete apartment data: {"id": "81KfbcHHg4DPPdodHSnm", "memberCount": 2, "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  âœ… MainTabs: Apartment data loaded successfully
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Turn check debug: {"currentTurnUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "currentUserExists": true, "currentUserId": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "isMyTurn": true, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  âœ… Dashboard: Additional data loaded successfully
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”„ Settings: Refreshing apartment members on mount
 LOG  ğŸ”„ Refreshing apartment members...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 28 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ  Getting complete apartment data for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ” Getting reliable apartment ID for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 28 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 28 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Checking user profile for current_apartment_id...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”„ Backfilling cleaning stats from existing data...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 28 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 28 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… Found apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”§ Ensuring current_apartment_id before getting apartment data...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 28 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 28 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 28 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ” Firestore task debug: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "currentUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "queue": ["uRT93ikDjjcKeSFJOGBPKlzKYzl1"], "taskId": "81KfbcHHg4DPPdodHSnm"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 28 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“– Getting document: apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Getting auth headers...
 LOG  â³ Waiting for authentication to be ready...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 28 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Authentication is ready
 LOG  ğŸ” Token info: {"algorithm": "RS256", "email": "del@gmail.com", "expiresAt": "2025-10-09T19:06:59.000Z", "issuedAt": "2025-10-09T18:06:59.000Z", "type": "JWT", "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  âœ… Token project verified: roomies-hub
 LOG  âœ… Auth headers prepared successfully
 LOG  ğŸŒ Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 28 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ“Š Response status: 200 ()
 LOG  âœ… Document retrieved successfully
 LOG  ğŸ‘¥ Getting apartment members with profiles for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ‘¥ Getting apartment members for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ” Firestore task debug: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "currentUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "queue": ["uRT93ikDjjcKeSFJOGBPKlzKYzl1"], "taskId": "81KfbcHHg4DPPdodHSnm"}
 LOG  ğŸ”„ Getting cleaning stats...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 28 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”§ Ensuring current_apartment_id before query...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 28 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 28 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ§ª checklist query ctx {"aptId": "81KfbcHHg4DPPdodHSnm", "current": "81KfbcHHg4DPPdodHSnm", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID for query: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  ğŸ“ Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "81KfbcHHg4DPPdodHSnm"
        }
      }
    }
  }
}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”Š Haptic: selection
 LOG  ğŸ” Turn check debug: {"currentTurnUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "currentUserExists": true, "currentUserId": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "isMyTurn": false, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ“Š No cleaning stats found, returning default values
 LOG  ğŸ“Š No existing cleaning data found, initializing with 0
 LOG  âš ï¸ Skipping stats creation - no user data available
 LOG  ğŸ”„ Getting cleaning stats...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ“Š Members query response: 200 ()
 LOG  ğŸ“‹ Raw query results: [{"document": {"createTime": "2025-10-09T18:38:13.485205Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:38:13.485205Z"}, "readTime": "2025-10-09T18:38:27.395735Z"}, {"document": {"createTime": "2025-10-09T11:17:22.223369Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T11:17:22.223369Z"}, "readTime": "2025-10-09T18:38:27.395735Z"}]
 LOG  âœ… Found members: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ“‹ Found memberships: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¤ Unique user IDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ‘¤ Getting user profiles for UIDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 28 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 28 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  ğŸ“ Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2",
    "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1"
  ]
}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“Š No cleaning stats found, returning default values
 LOG  ğŸ“Š Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  âœ… Dashboard: Essential data loaded successfully
 LOG  ğŸ“Š Batch get response: 200 ()
 LOG  ğŸ“‹ Raw batch get results: [{"found": {"createTime": "2025-10-09T18:06:59.898608Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:38:13.806868Z"}, "readTime": "2025-10-09T18:38:28.435646Z"}, {"found": {"createTime": "2025-10-09T11:15:16.695442Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T18:35:20.935744Z"}, "readTime": "2025-10-09T18:38:28.435646Z"}]
 LOG  ğŸ‘¤ User profile for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”"}
 LOG  ğŸ‘¤ User profile for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×"}
 LOG  âœ… User profiles loaded: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ“‹ User profiles loaded: {"otmf6ZDcYigiDhogNKzrD4YRyfS2": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "uRT93ikDjjcKeSFJOGBPKlzKYzl1": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}}
 LOG  âœ… Members with profiles: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "profile": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "profile": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}, "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¥ Member data for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"email": "del@gmail.com", "name": "×œ××—×™×§×”", "profileEmail": "del@gmail.com"}
 LOG  ğŸ‘¥ Member data for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"email": "yonrotem@gmail.com", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "profileEmail": "yonrotem@gmail.com"}
 LOG  âœ… Complete apartment data: {"description": "", "id": "81KfbcHHg4DPPdodHSnm", "invite_code": "98EG2Q", "members": [{"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": "×œ××—×™×§×”", "role": "member"}, {"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "role": "member"}], "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  âœ… Got complete apartment data: {"id": "81KfbcHHg4DPPdodHSnm", "memberCount": 2, "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”Š Haptic: selection
 LOG  ğŸ”Š Haptic: selection
 LOG  ğŸ”Š Haptic: selection
 LOG  ğŸ”Š Haptic: selection
 LOG  ğŸ”Š Haptic: success
iOS ./index.ts â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  0.0% (0/1)
iOS Bundled 86ms index.ts (1 module)
 LOG  ğŸ”§ Firestore debug logging enabled
 ERROR  i18next::pluralResolver: Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.
 LOG  [index] Project ID is:  6d6cd6da-7505-42d7-91fd-2928c6600b00
 LOG  ğŸš€ Initializing Firebase notifications for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸš€ Initializing Firebase Web notification service...
 LOG  ğŸ“± Mobile platform - using mock token for testing
 LOG  ğŸ“± Mock FCM Token (for testing): mock_fcm_token_1760035294918_7klll8u7y
 LOG  ğŸ” Getting auth headers...
 LOG  â³ Waiting for authentication to be ready...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 25 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Authentication is ready
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 25 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ” Token info: {"algorithm": "RS256", "email": "del@gmail.com", "expiresAt": "2025-10-09T19:06:59.000Z", "issuedAt": "2025-10-09T18:06:59.000Z", "type": "JWT", "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  âœ… Token project verified: roomies-hub
 LOG  âœ… Auth headers prepared successfully
 LOG  ğŸ” PATCH request details: {"body": "{
  \"fields\": {
    \"fcm_token\": {
      \"stringValue\": \"mock_fcm_token_1760035294918_7klll8u7y\"
    },
    \"device_type\": {
      \"stringValue\": \"ios\"
    },
    \"last_seen\": {
      \"stringValue\": \"2025-10-09T18:41:34.918Z\"
    }
  }
}", "updateMaskFields": ["fcm_token", "device_type", "last_seen"], "url": "https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2?updateMask.fieldPaths=fcm_token&updateMask.fieldPaths=device_type&updateMask.fieldPaths=last_seen"}
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”„ Dashboard: Loading all data from Firestore...
 LOG  ğŸ”„ Refreshing apartment members...
 LOG  ğŸ”„ Dashboard: Refreshing data on focus...
 LOG  ğŸ”„ Getting cleaning stats...
 LOG  ğŸ  MainTabs: Loading apartment data for 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”„ Refreshing apartment members...
 LOG  ğŸ”„ loadCleaningChecklist already in progress, skipping...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 25 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”„ No current session, attempting to restore...
 LOG  Attempting to restore user session...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 25 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”„ No current session, attempting to restore...
 LOG  Attempting to restore user session...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 25 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”„ No current session, attempting to restore...
 LOG  Attempting to restore user session...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 25 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”„ No current session, attempting to restore...
 LOG  Attempting to restore user session...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 25 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”„ No current session, attempting to restore...
 LOG  Attempting to restore user session...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 25 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”„ No current session, attempting to restore...
 LOG  Attempting to restore user session...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 25 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”„ No current session, attempting to restore...
 LOG  Attempting to restore user session...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 25 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”„ No current session, attempting to restore...
 LOG  Attempting to restore user session...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 25 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”„ No current session, attempting to restore...
 LOG  Attempting to restore user session...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 25 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”„ No current session, attempting to restore...
 LOG  Attempting to restore user session...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 25 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 25 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 25 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 25 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 25 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 25 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 25 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 25 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 25 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 25 minutes
 LOG  âœ… ID token is valid
 LOG  Session restoration check: {"hasIdToken": true, "hasUserEmail": true, "hasUserId": true}
 LOG  Session restoration check: {"hasIdToken": true, "hasUserEmail": true, "hasUserId": true}
 LOG  Session restoration check: {"hasIdToken": true, "hasUserEmail": true, "hasUserId": true}
 LOG  Session restoration check: {"hasIdToken": true, "hasUserEmail": true, "hasUserId": true}
 LOG  Session restoration check: {"hasIdToken": true, "hasUserEmail": true, "hasUserId": true}
 LOG  Session restoration check: {"hasIdToken": true, "hasUserEmail": true, "hasUserId": true}
 LOG  Session restoration check: {"hasIdToken": true, "hasUserEmail": true, "hasUserId": true}
 LOG  Session restoration check: {"hasIdToken": true, "hasUserEmail": true, "hasUserId": true}
 LOG  Session restoration check: {"hasIdToken": true, "hasUserEmail": true, "hasUserId": true}
 LOG  Session restoration check: {"hasIdToken": true, "hasUserEmail": true, "hasUserId": true}
 LOG  User session restored successfully
 LOG  ğŸ”‘ Getting current ID token...
 LOG  User session restored successfully
 LOG  ğŸ”‘ Getting current ID token...
 LOG  User session restored successfully
 LOG  ğŸ”‘ Getting current ID token...
 LOG  User session restored successfully
 LOG  ğŸ”‘ Getting current ID token...
 LOG  User session restored successfully
 LOG  ğŸ”‘ Getting current ID token...
 LOG  User session restored successfully
 LOG  ğŸ”‘ Getting current ID token...
 LOG  User session restored successfully
 LOG  ğŸ”‘ Getting current ID token...
 LOG  User session restored successfully
 LOG  ğŸ”‘ Getting current ID token...
 LOG  User session restored successfully
 LOG  ğŸ”‘ Getting current ID token...
 LOG  User session restored successfully
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 25 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session restored: {"tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ  Getting complete apartment data for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ” Getting reliable apartment ID for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 25 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session restored: {"tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 25 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session restored: {"tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 25 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session restored: {"tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 25 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session restored: {"tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 25 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session restored: {"tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ  Getting complete apartment data for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ” Getting reliable apartment ID for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 25 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session restored: {"tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 25 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session restored: {"tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 25 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session restored: {"tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 25 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session restored: {"tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 25 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Checking user profile for current_apartment_id...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 25 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Checking user profile for current_apartment_id...
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 25 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 25 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 25 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  âœ… FCM token saved to Firestore
 LOG  ğŸ“± Mobile platform - notification listeners not available in Expo Go
 LOG  âœ… Firebase Web notification service initialized successfully
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… Found apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”§ Ensuring current_apartment_id before getting apartment data...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… Found apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”§ Ensuring current_apartment_id before getting apartment data...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 25 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 25 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”„ Settings: Refreshing apartment members on mount
 LOG  ğŸ”„ Refreshing apartment members...
 LOG  ğŸ”„ loadCleaningChecklist already in progress, skipping...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 25 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ  Getting complete apartment data for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ” Getting reliable apartment ID for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 25 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Checking user profile for current_apartment_id...
 LOG  ğŸ“Š No cleaning stats found, returning default values
 LOG  ğŸ“Š Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“– Getting document: apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Getting auth headers...
 LOG  â³ Waiting for authentication to be ready...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… Found apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”§ Ensuring current_apartment_id before getting apartment data...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“– Getting document: apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Getting auth headers...
 LOG  â³ Waiting for authentication to be ready...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 25 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Authentication is ready
 LOG  ğŸ” Token info: {"algorithm": "RS256", "email": "del@gmail.com", "expiresAt": "2025-10-09T19:06:59.000Z", "issuedAt": "2025-10-09T18:06:59.000Z", "type": "JWT", "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  âœ… Token project verified: roomies-hub
 LOG  âœ… Auth headers prepared successfully
 LOG  ğŸŒ Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 25 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 25 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Authentication is ready
 LOG  ğŸ” Token info: {"algorithm": "RS256", "email": "del@gmail.com", "expiresAt": "2025-10-09T19:06:59.000Z", "issuedAt": "2025-10-09T18:06:59.000Z", "type": "JWT", "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  âœ… Token project verified: roomies-hub
 LOG  âœ… Auth headers prepared successfully
 LOG  ğŸŒ Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  ğŸ” Firestore task debug: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "currentUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "queue": ["uRT93ikDjjcKeSFJOGBPKlzKYzl1"], "taskId": "81KfbcHHg4DPPdodHSnm"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 25 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ” Firestore task debug: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "currentUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "queue": ["uRT93ikDjjcKeSFJOGBPKlzKYzl1"], "taskId": "81KfbcHHg4DPPdodHSnm"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“– Getting document: apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Getting auth headers...
 LOG  â³ Waiting for authentication to be ready...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ“Š Response status: 200 ()
 LOG  ğŸ” Firestore task debug: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "currentUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "queue": ["uRT93ikDjjcKeSFJOGBPKlzKYzl1"], "taskId": "81KfbcHHg4DPPdodHSnm"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  âœ… Document retrieved successfully
 LOG  ğŸ‘¥ Getting apartment members with profiles for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ‘¥ Getting apartment members for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 25 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Authentication is ready
 LOG  ğŸ” Token info: {"algorithm": "RS256", "email": "del@gmail.com", "expiresAt": "2025-10-09T19:06:59.000Z", "issuedAt": "2025-10-09T18:06:59.000Z", "type": "JWT", "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  âœ… Token project verified: roomies-hub
 LOG  âœ… Auth headers prepared successfully
 LOG  ğŸŒ Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  ğŸ“Š Response status: 200 ()
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 25 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”§ Ensuring current_apartment_id before query...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  âœ… Document retrieved successfully
 LOG  ğŸ‘¥ Getting apartment members with profiles for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ‘¥ Getting apartment members for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 25 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 25 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”§ Ensuring current_apartment_id before query...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 25 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 25 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ“Š Response status: 200 ()
 LOG  âœ… Document retrieved successfully
 LOG  ğŸ‘¥ Getting apartment members with profiles for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ‘¥ Getting apartment members for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 25 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”§ Ensuring current_apartment_id before query...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 25 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID for query: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  ğŸ“ Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "81KfbcHHg4DPPdodHSnm"
        }
      }
    }
  }
}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID for query: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  ğŸ“ Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "81KfbcHHg4DPPdodHSnm"
        }
      }
    }
  }
}
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID for query: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  ğŸ“ Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "81KfbcHHg4DPPdodHSnm"
        }
      }
    }
  }
}
 LOG  ğŸ“Š Members query response: 200 ()
 LOG  ğŸ“‹ Raw query results: [{"document": {"createTime": "2025-10-09T18:38:13.485205Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:38:13.485205Z"}, "readTime": "2025-10-09T18:41:39.438073Z"}, {"document": {"createTime": "2025-10-09T11:17:22.223369Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T11:17:22.223369Z"}, "readTime": "2025-10-09T18:41:39.438073Z"}]
 LOG  âœ… Found members: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ“‹ Found memberships: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¤ Unique user IDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ‘¤ Getting user profiles for UIDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 25 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  ğŸ“ Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2",
    "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1"
  ]
}
 LOG  ğŸ“Š Members query response: 200 ()
 LOG  ğŸ“Š Members query response: 200 ()
 LOG  ğŸ“Š Batch get response: 200 ()
 LOG  ğŸ“‹ Raw query results: [{"document": {"createTime": "2025-10-09T18:38:13.485205Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:38:13.485205Z"}, "readTime": "2025-10-09T18:41:40.037354Z"}, {"document": {"createTime": "2025-10-09T11:17:22.223369Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T11:17:22.223369Z"}, "readTime": "2025-10-09T18:41:40.037354Z"}]
 LOG  âœ… Found members: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ“‹ Found memberships: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¤ Unique user IDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ‘¤ Getting user profiles for UIDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ“‹ Raw query results: [{"document": {"createTime": "2025-10-09T18:38:13.485205Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:38:13.485205Z"}, "readTime": "2025-10-09T18:41:40.043222Z"}, {"document": {"createTime": "2025-10-09T11:17:22.223369Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T11:17:22.223369Z"}, "readTime": "2025-10-09T18:41:40.043222Z"}]
 LOG  âœ… Found members: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ“‹ Found memberships: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¤ Unique user IDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ‘¤ Getting user profiles for UIDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ“‹ Raw batch get results: [{"found": {"createTime": "2025-10-09T18:06:59.898608Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:41:35.938247Z"}, "readTime": "2025-10-09T18:41:40.053361Z"}, {"found": {"createTime": "2025-10-09T11:15:16.695442Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T18:35:20.935744Z"}, "readTime": "2025-10-09T18:41:40.053361Z"}]
 LOG  ğŸ‘¤ User profile for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”"}
 LOG  ğŸ‘¤ User profile for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×"}
 LOG  âœ… User profiles loaded: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ“‹ User profiles loaded: {"otmf6ZDcYigiDhogNKzrD4YRyfS2": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "uRT93ikDjjcKeSFJOGBPKlzKYzl1": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}}
 LOG  âœ… Members with profiles: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "profile": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "profile": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}, "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¥ Member data for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"email": "del@gmail.com", "name": "×œ××—×™×§×”", "profileEmail": "del@gmail.com"}
 LOG  ğŸ‘¥ Member data for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"email": "yonrotem@gmail.com", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "profileEmail": "yonrotem@gmail.com"}
 LOG  âœ… Complete apartment data: {"description": "", "id": "81KfbcHHg4DPPdodHSnm", "invite_code": "98EG2Q", "members": [{"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": "×œ××—×™×§×”", "role": "member"}, {"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "role": "member"}], "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  âœ… Got complete apartment data: {"id": "81KfbcHHg4DPPdodHSnm", "memberCount": 2, "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 25 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  ğŸ“ Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2",
    "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1"
  ]
}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 25 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  ğŸ“ Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2",
    "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1"
  ]
}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ§ª checklist query ctx {"aptId": "81KfbcHHg4DPPdodHSnm", "current": "81KfbcHHg4DPPdodHSnm", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ”Š Haptic: selection
 LOG  ğŸ“Š Batch get response: 200 ()
 LOG  ğŸ“‹ Raw batch get results: [{"found": {"createTime": "2025-10-09T18:06:59.898608Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:41:35.938247Z"}, "readTime": "2025-10-09T18:41:41.004398Z"}, {"found": {"createTime": "2025-10-09T11:15:16.695442Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T18:35:20.935744Z"}, "readTime": "2025-10-09T18:41:41.004398Z"}]
 LOG  ğŸ‘¤ User profile for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”"}
 LOG  ğŸ‘¤ User profile for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×"}
 LOG  âœ… User profiles loaded: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ“‹ User profiles loaded: {"otmf6ZDcYigiDhogNKzrD4YRyfS2": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "uRT93ikDjjcKeSFJOGBPKlzKYzl1": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}}
 LOG  âœ… Members with profiles: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "profile": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "profile": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}, "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¥ Member data for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"email": "del@gmail.com", "name": "×œ××—×™×§×”", "profileEmail": "del@gmail.com"}
 LOG  ğŸ‘¥ Member data for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"email": "yonrotem@gmail.com", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "profileEmail": "yonrotem@gmail.com"}
 LOG  âœ… Complete apartment data: {"description": "", "id": "81KfbcHHg4DPPdodHSnm", "invite_code": "98EG2Q", "members": [{"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": "×œ××—×™×§×”", "role": "member"}, {"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "role": "member"}], "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  âœ… Got complete apartment data: {"id": "81KfbcHHg4DPPdodHSnm", "memberCount": 2, "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  âœ… MainTabs: Apartment data loaded successfully
 LOG  ğŸ“Š Batch get response: 200 ()
 LOG  ğŸ“‹ Raw batch get results: [{"found": {"createTime": "2025-10-09T18:06:59.898608Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:41:35.938247Z"}, "readTime": "2025-10-09T18:41:41.097882Z"}, {"found": {"createTime": "2025-10-09T11:15:16.695442Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T18:35:20.935744Z"}, "readTime": "2025-10-09T18:41:41.097882Z"}]
 LOG  ğŸ‘¤ User profile for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”"}
 LOG  ğŸ‘¤ User profile for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×"}
 LOG  âœ… User profiles loaded: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ“‹ User profiles loaded: {"otmf6ZDcYigiDhogNKzrD4YRyfS2": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "uRT93ikDjjcKeSFJOGBPKlzKYzl1": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}}
 LOG  âœ… Members with profiles: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "profile": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "profile": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}, "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¥ Member data for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"email": "del@gmail.com", "name": "×œ××—×™×§×”", "profileEmail": "del@gmail.com"}
 LOG  ğŸ‘¥ Member data for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"email": "yonrotem@gmail.com", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "profileEmail": "yonrotem@gmail.com"}
 LOG  âœ… Complete apartment data: {"description": "", "id": "81KfbcHHg4DPPdodHSnm", "invite_code": "98EG2Q", "members": [{"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": "×œ××—×™×§×”", "role": "member"}, {"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "role": "member"}], "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  âœ… Got complete apartment data: {"id": "81KfbcHHg4DPPdodHSnm", "memberCount": 2, "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 25 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 25 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Turn check debug: {"currentTurnUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "currentUserExists": true, "currentUserId": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "isMyTurn": false, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  âœ… Dashboard: Additional data loaded successfully
iOS Bundled 87ms index.ts (1 module)
 LOG  ğŸ”§ Firestore debug logging enabled
 ERROR  i18next::pluralResolver: Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.
 LOG  [index] Project ID is:  6d6cd6da-7505-42d7-91fd-2928c6600b00
 LOG  ğŸš€ Initializing Firebase notifications for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸš€ Initializing Firebase Web notification service...
 LOG  ğŸ“± Mobile platform - using mock token for testing
 LOG  ğŸ“± Mock FCM Token (for testing): mock_fcm_token_1760035322337_uqthyxrtb
 LOG  ğŸ” Getting auth headers...
 LOG  â³ Waiting for authentication to be ready...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Authentication is ready
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”„ Dashboard: Loading all data from Firestore...
 LOG  ğŸ”„ Refreshing apartment members...
 LOG  ğŸ”„ Dashboard: Refreshing data on focus...
 LOG  ğŸ”„ Getting cleaning stats...
 LOG  ğŸ  MainTabs: Loading apartment data for 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”„ Refreshing apartment members...
 LOG  ğŸ”„ loadCleaningChecklist already in progress, skipping...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ” Token info: {"algorithm": "RS256", "email": "del@gmail.com", "expiresAt": "2025-10-09T19:06:59.000Z", "issuedAt": "2025-10-09T18:06:59.000Z", "type": "JWT", "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  âœ… Token project verified: roomies-hub
 LOG  âœ… Auth headers prepared successfully
 LOG  ğŸ” PATCH request details: {"body": "{
  \"fields\": {
    \"fcm_token\": {
      \"stringValue\": \"mock_fcm_token_1760035322337_uqthyxrtb\"
    },
    \"device_type\": {
      \"stringValue\": \"ios\"
    },
    \"last_seen\": {
      \"stringValue\": \"2025-10-09T18:42:02.337Z\"
    }
  }
}", "updateMaskFields": ["fcm_token", "device_type", "last_seen"], "url": "https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2?updateMask.fieldPaths=fcm_token&updateMask.fieldPaths=device_type&updateMask.fieldPaths=last_seen"}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”„ No current session, attempting to restore...
 LOG  Attempting to restore user session...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”„ No current session, attempting to restore...
 LOG  Attempting to restore user session...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”„ No current session, attempting to restore...
 LOG  Attempting to restore user session...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”„ No current session, attempting to restore...
 LOG  Attempting to restore user session...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”„ No current session, attempting to restore...
 LOG  Attempting to restore user session...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”„ No current session, attempting to restore...
 LOG  Attempting to restore user session...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”„ No current session, attempting to restore...
 LOG  Attempting to restore user session...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”„ No current session, attempting to restore...
 LOG  Attempting to restore user session...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”„ No current session, attempting to restore...
 LOG  Attempting to restore user session...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”„ No current session, attempting to restore...
 LOG  Attempting to restore user session...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  Session restoration check: {"hasIdToken": true, "hasUserEmail": true, "hasUserId": true}
 LOG  Session restoration check: {"hasIdToken": true, "hasUserEmail": true, "hasUserId": true}
 LOG  Session restoration check: {"hasIdToken": true, "hasUserEmail": true, "hasUserId": true}
 LOG  Session restoration check: {"hasIdToken": true, "hasUserEmail": true, "hasUserId": true}
 LOG  Session restoration check: {"hasIdToken": true, "hasUserEmail": true, "hasUserId": true}
 LOG  Session restoration check: {"hasIdToken": true, "hasUserEmail": true, "hasUserId": true}
 LOG  Session restoration check: {"hasIdToken": true, "hasUserEmail": true, "hasUserId": true}
 LOG  Session restoration check: {"hasIdToken": true, "hasUserEmail": true, "hasUserId": true}
 LOG  Session restoration check: {"hasIdToken": true, "hasUserEmail": true, "hasUserId": true}
 LOG  Session restoration check: {"hasIdToken": true, "hasUserEmail": true, "hasUserId": true}
 LOG  User session restored successfully
 LOG  ğŸ”‘ Getting current ID token...
 LOG  User session restored successfully
 LOG  ğŸ”‘ Getting current ID token...
 LOG  User session restored successfully
 LOG  ğŸ”‘ Getting current ID token...
 LOG  User session restored successfully
 LOG  ğŸ”‘ Getting current ID token...
 LOG  User session restored successfully
 LOG  ğŸ”‘ Getting current ID token...
 LOG  User session restored successfully
 LOG  ğŸ”‘ Getting current ID token...
 LOG  User session restored successfully
 LOG  ğŸ”‘ Getting current ID token...
 LOG  User session restored successfully
 LOG  ğŸ”‘ Getting current ID token...
 LOG  User session restored successfully
 LOG  ğŸ”‘ Getting current ID token...
 LOG  User session restored successfully
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session restored: {"tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ  Getting complete apartment data for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ” Getting reliable apartment ID for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session restored: {"tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session restored: {"tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session restored: {"tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session restored: {"tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session restored: {"tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ  Getting complete apartment data for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ” Getting reliable apartment ID for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session restored: {"tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session restored: {"tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session restored: {"tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session restored: {"tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Checking user profile for current_apartment_id...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Checking user profile for current_apartment_id...
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… Found apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”§ Ensuring current_apartment_id before getting apartment data...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… FCM token saved to Firestore
 LOG  ğŸ“± Mobile platform - notification listeners not available in Expo Go
 LOG  âœ… Firebase Web notification service initialized successfully
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… Found apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”§ Ensuring current_apartment_id before getting apartment data...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“– Getting document: apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Getting auth headers...
 LOG  â³ Waiting for authentication to be ready...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“– Getting document: apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Getting auth headers...
 LOG  â³ Waiting for authentication to be ready...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ“Š No cleaning stats found, returning default values
 LOG  ğŸ“Š Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Authentication is ready
 LOG  ğŸ” Token info: {"algorithm": "RS256", "email": "del@gmail.com", "expiresAt": "2025-10-09T19:06:59.000Z", "issuedAt": "2025-10-09T18:06:59.000Z", "type": "JWT", "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  âœ… Token project verified: roomies-hub
 LOG  âœ… Auth headers prepared successfully
 LOG  ğŸŒ Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Authentication is ready
 LOG  ğŸ” Token info: {"algorithm": "RS256", "email": "del@gmail.com", "expiresAt": "2025-10-09T19:06:59.000Z", "issuedAt": "2025-10-09T18:06:59.000Z", "type": "JWT", "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  âœ… Token project verified: roomies-hub
 LOG  âœ… Auth headers prepared successfully
 LOG  ğŸŒ Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  ğŸ” Firestore task debug: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "currentUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "queue": ["uRT93ikDjjcKeSFJOGBPKlzKYzl1"], "taskId": "81KfbcHHg4DPPdodHSnm"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ“Š Response status: 200 ()
 LOG  ğŸ” Firestore task debug: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "currentUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "queue": ["uRT93ikDjjcKeSFJOGBPKlzKYzl1"], "taskId": "81KfbcHHg4DPPdodHSnm"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  âœ… Document retrieved successfully
 LOG  ğŸ‘¥ Getting apartment members with profiles for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ‘¥ Getting apartment members for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ“Š Response status: 200 ()
 LOG  ğŸ” Firestore task debug: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "currentUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "queue": ["uRT93ikDjjcKeSFJOGBPKlzKYzl1"], "taskId": "81KfbcHHg4DPPdodHSnm"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  âœ… Document retrieved successfully
 LOG  ğŸ‘¥ Getting apartment members with profiles for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ‘¥ Getting apartment members for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”§ Ensuring current_apartment_id before query...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”§ Ensuring current_apartment_id before query...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”„ Settings: Refreshing apartment members on mount
 LOG  ğŸ”„ Refreshing apartment members...
 LOG  ğŸ”„ loadCleaningChecklist already in progress, skipping...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ  Getting complete apartment data for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ” Getting reliable apartment ID for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Checking user profile for current_apartment_id...
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID for query: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  ğŸ“ Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "81KfbcHHg4DPPdodHSnm"
        }
      }
    }
  }
}
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID for query: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  ğŸ“ Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "81KfbcHHg4DPPdodHSnm"
        }
      }
    }
  }
}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… Found apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”§ Ensuring current_apartment_id before getting apartment data...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ“Š Members query response: 200 ()
 LOG  ğŸ“‹ Raw query results: [{"document": {"createTime": "2025-10-09T18:38:13.485205Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:38:13.485205Z"}, "readTime": "2025-10-09T18:42:06.966164Z"}, {"document": {"createTime": "2025-10-09T11:17:22.223369Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T11:17:22.223369Z"}, "readTime": "2025-10-09T18:42:06.966164Z"}]
 LOG  âœ… Found members: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ“‹ Found memberships: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¤ Unique user IDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ‘¤ Getting user profiles for UIDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  ğŸ“ Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2",
    "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1"
  ]
}
 LOG  ğŸ“Š Members query response: 200 ()
 LOG  ğŸ“‹ Raw query results: [{"document": {"createTime": "2025-10-09T18:38:13.485205Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:38:13.485205Z"}, "readTime": "2025-10-09T18:42:07.467325Z"}, {"document": {"createTime": "2025-10-09T11:17:22.223369Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T11:17:22.223369Z"}, "readTime": "2025-10-09T18:42:07.467325Z"}]
 LOG  âœ… Found members: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ“‹ Found memberships: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¤ Unique user IDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ‘¤ Getting user profiles for UIDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  ğŸ“ Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2",
    "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1"
  ]
}
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“– Getting document: apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Getting auth headers...
 LOG  â³ Waiting for authentication to be ready...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Authentication is ready
 LOG  ğŸ” Token info: {"algorithm": "RS256", "email": "del@gmail.com", "expiresAt": "2025-10-09T19:06:59.000Z", "issuedAt": "2025-10-09T18:06:59.000Z", "type": "JWT", "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  âœ… Token project verified: roomies-hub
 LOG  âœ… Auth headers prepared successfully
 LOG  ğŸŒ Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  ğŸ“Š Batch get response: 200 ()
 LOG  ğŸ“‹ Raw batch get results: [{"found": {"createTime": "2025-10-09T18:06:59.898608Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:42:03.452359Z"}, "readTime": "2025-10-09T18:42:07.743613Z"}, {"found": {"createTime": "2025-10-09T11:15:16.695442Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T18:35:20.935744Z"}, "readTime": "2025-10-09T18:42:07.743613Z"}]
 LOG  ğŸ‘¤ User profile for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”"}
 LOG  ğŸ‘¤ User profile for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×"}
 LOG  âœ… User profiles loaded: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ“‹ User profiles loaded: {"otmf6ZDcYigiDhogNKzrD4YRyfS2": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "uRT93ikDjjcKeSFJOGBPKlzKYzl1": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}}
 LOG  âœ… Members with profiles: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "profile": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "profile": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}, "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¥ Member data for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"email": "del@gmail.com", "name": "×œ××—×™×§×”", "profileEmail": "del@gmail.com"}
 LOG  ğŸ‘¥ Member data for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"email": "yonrotem@gmail.com", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "profileEmail": "yonrotem@gmail.com"}
 LOG  âœ… Complete apartment data: {"description": "", "id": "81KfbcHHg4DPPdodHSnm", "invite_code": "98EG2Q", "members": [{"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": "×œ××—×™×§×”", "role": "member"}, {"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "role": "member"}], "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  âœ… Got complete apartment data: {"id": "81KfbcHHg4DPPdodHSnm", "memberCount": 2, "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  âœ… MainTabs: Apartment data loaded successfully
 LOG  ğŸ“Š Batch get response: 200 ()
 LOG  ğŸ“‹ Raw batch get results: [{"found": {"createTime": "2025-10-09T18:06:59.898608Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:42:03.452359Z"}, "readTime": "2025-10-09T18:42:07.964833Z"}, {"found": {"createTime": "2025-10-09T11:15:16.695442Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T18:35:20.935744Z"}, "readTime": "2025-10-09T18:42:07.964833Z"}]
 LOG  ğŸ‘¤ User profile for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”"}
 LOG  ğŸ‘¤ User profile for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×"}
 LOG  âœ… User profiles loaded: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ“‹ User profiles loaded: {"otmf6ZDcYigiDhogNKzrD4YRyfS2": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "uRT93ikDjjcKeSFJOGBPKlzKYzl1": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}}
 LOG  âœ… Members with profiles: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "profile": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "profile": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}, "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¥ Member data for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"email": "del@gmail.com", "name": "×œ××—×™×§×”", "profileEmail": "del@gmail.com"}
 LOG  ğŸ‘¥ Member data for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"email": "yonrotem@gmail.com", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "profileEmail": "yonrotem@gmail.com"}
 LOG  âœ… Complete apartment data: {"description": "", "id": "81KfbcHHg4DPPdodHSnm", "invite_code": "98EG2Q", "members": [{"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": "×œ××—×™×§×”", "role": "member"}, {"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "role": "member"}], "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  âœ… Got complete apartment data: {"id": "81KfbcHHg4DPPdodHSnm", "memberCount": 2, "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”Š Haptic: selection
 LOG  ğŸ“Š Response status: 200 ()
 LOG  âœ… Document retrieved successfully
 LOG  ğŸ‘¥ Getting apartment members with profiles for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ‘¥ Getting apartment members for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”§ Ensuring current_apartment_id before query...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ§ª checklist query ctx {"aptId": "81KfbcHHg4DPPdodHSnm", "current": "81KfbcHHg4DPPdodHSnm", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID for query: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  ğŸ“ Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "81KfbcHHg4DPPdodHSnm"
        }
      }
    }
  }
}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“Š Members query response: 200 ()
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ“‹ Raw query results: [{"document": {"createTime": "2025-10-09T18:38:13.485205Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:38:13.485205Z"}, "readTime": "2025-10-09T18:42:09.500594Z"}, {"document": {"createTime": "2025-10-09T11:17:22.223369Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T11:17:22.223369Z"}, "readTime": "2025-10-09T18:42:09.500594Z"}]
 LOG  âœ… Found members: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ“‹ Found memberships: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¤ Unique user IDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ‘¤ Getting user profiles for UIDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ” Turn check debug: {"currentTurnUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "currentUserExists": true, "currentUserId": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "isMyTurn": false, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  âœ… Dashboard: Additional data loaded successfully
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  ğŸ“ Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2",
    "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1"
  ]
}
 LOG  ğŸ”Š Haptic: selection
 LOG  ğŸ“Š Batch get response: 200 ()
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”„ Backfilling cleaning stats from existing data...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ“‹ Raw batch get results: [{"found": {"createTime": "2025-10-09T18:06:59.898608Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:42:03.452359Z"}, "readTime": "2025-10-09T18:42:09.957459Z"}, {"found": {"createTime": "2025-10-09T11:15:16.695442Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T18:35:20.935744Z"}, "readTime": "2025-10-09T18:42:09.957459Z"}]
 LOG  ğŸ‘¤ User profile for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”"}
 LOG  ğŸ‘¤ User profile for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×"}
 LOG  âœ… User profiles loaded: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ“‹ User profiles loaded: {"otmf6ZDcYigiDhogNKzrD4YRyfS2": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "uRT93ikDjjcKeSFJOGBPKlzKYzl1": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}}
 LOG  âœ… Members with profiles: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "profile": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "profile": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}, "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¥ Member data for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"email": "del@gmail.com", "name": "×œ××—×™×§×”", "profileEmail": "del@gmail.com"}
 LOG  ğŸ‘¥ Member data for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"email": "yonrotem@gmail.com", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "profileEmail": "yonrotem@gmail.com"}
 LOG  âœ… Complete apartment data: {"description": "", "id": "81KfbcHHg4DPPdodHSnm", "invite_code": "98EG2Q", "members": [{"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": "×œ××—×™×§×”", "role": "member"}, {"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "role": "member"}], "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  âœ… Got complete apartment data: {"id": "81KfbcHHg4DPPdodHSnm", "memberCount": 2, "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Firestore task debug: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "currentUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "queue": ["uRT93ikDjjcKeSFJOGBPKlzKYzl1"], "taskId": "81KfbcHHg4DPPdodHSnm"}
 LOG  ğŸ”„ Getting cleaning stats...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”„ Settings: Refreshing apartment members on mount
 LOG  ğŸ”„ Refreshing apartment members...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ  Getting complete apartment data for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ” Getting reliable apartment ID for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Checking user profile for current_apartment_id...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… Found apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”§ Ensuring current_apartment_id before getting apartment data...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ“Š No cleaning stats found, returning default values
 LOG  ğŸ“Š No existing cleaning data found, initializing with 0
 LOG  âš ï¸ Skipping stats creation - no user data available
 LOG  ğŸ”„ Getting cleaning stats...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“– Getting document: apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Getting auth headers...
 LOG  â³ Waiting for authentication to be ready...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Authentication is ready
 LOG  ğŸ” Token info: {"algorithm": "RS256", "email": "del@gmail.com", "expiresAt": "2025-10-09T19:06:59.000Z", "issuedAt": "2025-10-09T18:06:59.000Z", "type": "JWT", "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  âœ… Token project verified: roomies-hub
 LOG  âœ… Auth headers prepared successfully
 LOG  ğŸŒ Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Firestore task debug: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "currentUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "queue": ["uRT93ikDjjcKeSFJOGBPKlzKYzl1"], "taskId": "81KfbcHHg4DPPdodHSnm"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ“Š Response status: 200 ()
 LOG  âœ… Document retrieved successfully
 LOG  ğŸ‘¥ Getting apartment members with profiles for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ‘¥ Getting apartment members for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”§ Ensuring current_apartment_id before query...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ“Š No cleaning stats found, returning default values
 LOG  ğŸ“Š Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  âœ… Dashboard: Essential data loaded successfully
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID for query: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  ğŸ“ Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "81KfbcHHg4DPPdodHSnm"
        }
      }
    }
  }
}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“Š Members query response: 200 ()
 LOG  ğŸ“‹ Raw query results: [{"document": {"createTime": "2025-10-09T18:38:13.485205Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:38:13.485205Z"}, "readTime": "2025-10-09T18:42:16.246587Z"}, {"document": {"createTime": "2025-10-09T11:17:22.223369Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T11:17:22.223369Z"}, "readTime": "2025-10-09T18:42:16.246587Z"}]
 LOG  âœ… Found members: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ“‹ Found memberships: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¤ Unique user IDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ‘¤ Getting user profiles for UIDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  ğŸ“ Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2",
    "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1"
  ]
}
 LOG  ğŸ“Š Batch get response: 200 ()
 LOG  ğŸ“‹ Raw batch get results: [{"found": {"createTime": "2025-10-09T18:06:59.898608Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:42:03.452359Z"}, "readTime": "2025-10-09T18:42:16.631430Z"}, {"found": {"createTime": "2025-10-09T11:15:16.695442Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T18:35:20.935744Z"}, "readTime": "2025-10-09T18:42:16.631430Z"}]
 LOG  ğŸ‘¤ User profile for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”"}
 LOG  ğŸ‘¤ User profile for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×"}
 LOG  âœ… User profiles loaded: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ“‹ User profiles loaded: {"otmf6ZDcYigiDhogNKzrD4YRyfS2": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "uRT93ikDjjcKeSFJOGBPKlzKYzl1": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}}
 LOG  âœ… Members with profiles: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "profile": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "profile": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}, "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¥ Member data for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"email": "del@gmail.com", "name": "×œ××—×™×§×”", "profileEmail": "del@gmail.com"}
 LOG  ğŸ‘¥ Member data for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"email": "yonrotem@gmail.com", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "profileEmail": "yonrotem@gmail.com"}
 LOG  âœ… Complete apartment data: {"description": "", "id": "81KfbcHHg4DPPdodHSnm", "invite_code": "98EG2Q", "members": [{"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": "×œ××—×™×§×”", "role": "member"}, {"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "role": "member"}], "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  âœ… Got complete apartment data: {"id": "81KfbcHHg4DPPdodHSnm", "memberCount": 2, "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ§ª checklist query ctx {"aptId": "81KfbcHHg4DPPdodHSnm", "current": "81KfbcHHg4DPPdodHSnm", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ” Turn check debug: {"currentTurnUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "currentUserExists": true, "currentUserId": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "isMyTurn": false, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”Š Haptic: selection
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”„ Dashboard: Loading all data from Firestore...
 LOG  ğŸ”„ Refreshing apartment members...
 LOG  ğŸ”„ Dashboard: Refreshing data on focus...
 LOG  ğŸ”„ Getting cleaning stats...
 LOG  ğŸ  MainTabs: Loading apartment data for 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”„ Refreshing apartment members...
 LOG  ğŸ”„ loadCleaningChecklist already in progress, skipping...
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  ğŸ”„ Settings: Refreshing apartment members on mount
 LOG  ğŸ”„ Refreshing apartment members...
 LOG  ğŸ”„ loadCleaningChecklist already in progress, skipping...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ  Getting complete apartment data for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ” Getting reliable apartment ID for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ  Getting complete apartment data for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ” Getting reliable apartment ID for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ  Getting complete apartment data for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ” Getting reliable apartment ID for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Checking user profile for current_apartment_id...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Checking user profile for current_apartment_id...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Checking user profile for current_apartment_id...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… Found apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”§ Ensuring current_apartment_id before getting apartment data...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… Found apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”§ Ensuring current_apartment_id before getting apartment data...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… Found apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”§ Ensuring current_apartment_id before getting apartment data...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  ğŸ“Š No cleaning stats found, returning default values
 LOG  ğŸ“Š Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“– Getting document: apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Getting auth headers...
 LOG  â³ Waiting for authentication to be ready...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“– Getting document: apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Getting auth headers...
 LOG  â³ Waiting for authentication to be ready...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“– Getting document: apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Getting auth headers...
 LOG  â³ Waiting for authentication to be ready...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Authentication is ready
 LOG  ğŸ” Token info: {"algorithm": "RS256", "email": "del@gmail.com", "expiresAt": "2025-10-09T19:06:59.000Z", "issuedAt": "2025-10-09T18:06:59.000Z", "type": "JWT", "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  âœ… Token project verified: roomies-hub
 LOG  âœ… Auth headers prepared successfully
 LOG  ğŸŒ Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Authentication is ready
 LOG  ğŸ” Token info: {"algorithm": "RS256", "email": "del@gmail.com", "expiresAt": "2025-10-09T19:06:59.000Z", "issuedAt": "2025-10-09T18:06:59.000Z", "type": "JWT", "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  âœ… Token project verified: roomies-hub
 LOG  âœ… Auth headers prepared successfully
 LOG  ğŸŒ Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Authentication is ready
 LOG  ğŸ” Token info: {"algorithm": "RS256", "email": "del@gmail.com", "expiresAt": "2025-10-09T19:06:59.000Z", "issuedAt": "2025-10-09T18:06:59.000Z", "type": "JWT", "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  âœ… Token project verified: roomies-hub
 LOG  âœ… Auth headers prepared successfully
 LOG  ğŸŒ Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Firestore task debug: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "currentUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "queue": ["uRT93ikDjjcKeSFJOGBPKlzKYzl1"], "taskId": "81KfbcHHg4DPPdodHSnm"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ” Firestore task debug: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "currentUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "queue": ["uRT93ikDjjcKeSFJOGBPKlzKYzl1"], "taskId": "81KfbcHHg4DPPdodHSnm"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  ğŸ“Š Response status: 200 ()
 LOG  ğŸ“Š Response status: 200 ()
 LOG  ğŸ“Š Response status: 200 ()
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ” Firestore task debug: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "currentUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "queue": ["uRT93ikDjjcKeSFJOGBPKlzKYzl1"], "taskId": "81KfbcHHg4DPPdodHSnm"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  âœ… Document retrieved successfully
 LOG  ğŸ‘¥ Getting apartment members with profiles for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ‘¥ Getting apartment members for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  âœ… Document retrieved successfully
 LOG  ğŸ‘¥ Getting apartment members with profiles for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ‘¥ Getting apartment members for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  âœ… Document retrieved successfully
 LOG  ğŸ‘¥ Getting apartment members with profiles for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ‘¥ Getting apartment members for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”§ Ensuring current_apartment_id before query...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”§ Ensuring current_apartment_id before query...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”§ Ensuring current_apartment_id before query...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID for query: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  ğŸ“ Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "81KfbcHHg4DPPdodHSnm"
        }
      }
    }
  }
}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID for query: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  ğŸ“ Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "81KfbcHHg4DPPdodHSnm"
        }
      }
    }
  }
}
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID for query: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  ğŸ“ Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "81KfbcHHg4DPPdodHSnm"
        }
      }
    }
  }
}
 LOG  ğŸ“Š Members query response: 200 ()
 LOG  ğŸ“‹ Raw query results: [{"document": {"createTime": "2025-10-09T18:38:13.485205Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:38:13.485205Z"}, "readTime": "2025-10-09T18:42:30.507740Z"}, {"document": {"createTime": "2025-10-09T11:17:22.223369Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T11:17:22.223369Z"}, "readTime": "2025-10-09T18:42:30.507740Z"}]
 LOG  âœ… Found members: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ“‹ Found memberships: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¤ Unique user IDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ‘¤ Getting user profiles for UIDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  ğŸ“ Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2",
    "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1"
  ]
}
 LOG  ğŸ“Š Members query response: 200 ()
 LOG  ğŸ“‹ Raw query results: [{"document": {"createTime": "2025-10-09T18:38:13.485205Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:38:13.485205Z"}, "readTime": "2025-10-09T18:42:30.537610Z"}, {"document": {"createTime": "2025-10-09T11:17:22.223369Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T11:17:22.223369Z"}, "readTime": "2025-10-09T18:42:30.537610Z"}]
 LOG  âœ… Found members: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ“‹ Found memberships: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¤ Unique user IDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ‘¤ Getting user profiles for UIDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  ğŸ“ Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2",
    "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1"
  ]
}
 LOG  ğŸ“Š Members query response: 200 ()
 LOG  ğŸ“‹ Raw query results: [{"document": {"createTime": "2025-10-09T18:38:13.485205Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:38:13.485205Z"}, "readTime": "2025-10-09T18:42:30.558420Z"}, {"document": {"createTime": "2025-10-09T11:17:22.223369Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T11:17:22.223369Z"}, "readTime": "2025-10-09T18:42:30.558420Z"}]
 LOG  âœ… Found members: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ“‹ Found memberships: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¤ Unique user IDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ‘¤ Getting user profiles for UIDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  ğŸ“ Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2",
    "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1"
  ]
}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ§ª checklist query ctx {"aptId": "81KfbcHHg4DPPdodHSnm", "current": "81KfbcHHg4DPPdodHSnm", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ“Š Batch get response: 200 ()
 LOG  ğŸ“‹ Raw batch get results: [{"found": {"createTime": "2025-10-09T18:06:59.898608Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:42:03.452359Z"}, "readTime": "2025-10-09T18:42:30.759887Z"}, {"found": {"createTime": "2025-10-09T11:15:16.695442Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T18:35:20.935744Z"}, "readTime": "2025-10-09T18:42:30.759887Z"}]
 LOG  ğŸ‘¤ User profile for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”"}
 LOG  ğŸ‘¤ User profile for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×"}
 LOG  âœ… User profiles loaded: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ“‹ User profiles loaded: {"otmf6ZDcYigiDhogNKzrD4YRyfS2": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "uRT93ikDjjcKeSFJOGBPKlzKYzl1": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}}
 LOG  âœ… Members with profiles: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "profile": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "profile": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}, "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¥ Member data for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"email": "del@gmail.com", "name": "×œ××—×™×§×”", "profileEmail": "del@gmail.com"}
 LOG  ğŸ‘¥ Member data for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"email": "yonrotem@gmail.com", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "profileEmail": "yonrotem@gmail.com"}
 LOG  âœ… Complete apartment data: {"description": "", "id": "81KfbcHHg4DPPdodHSnm", "invite_code": "98EG2Q", "members": [{"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": "×œ××—×™×§×”", "role": "member"}, {"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "role": "member"}], "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  âœ… Got complete apartment data: {"id": "81KfbcHHg4DPPdodHSnm", "memberCount": 2, "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ“Š Batch get response: 200 ()
 LOG  ğŸ“‹ Raw batch get results: [{"found": {"createTime": "2025-10-09T18:06:59.898608Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:42:03.452359Z"}, "readTime": "2025-10-09T18:42:30.798532Z"}, {"found": {"createTime": "2025-10-09T11:15:16.695442Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T18:35:20.935744Z"}, "readTime": "2025-10-09T18:42:30.798532Z"}]
 LOG  ğŸ‘¤ User profile for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”"}
 LOG  ğŸ‘¤ User profile for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×"}
 LOG  âœ… User profiles loaded: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ“‹ User profiles loaded: {"otmf6ZDcYigiDhogNKzrD4YRyfS2": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "uRT93ikDjjcKeSFJOGBPKlzKYzl1": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}}
 LOG  âœ… Members with profiles: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "profile": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "profile": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}, "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¥ Member data for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"email": "del@gmail.com", "name": "×œ××—×™×§×”", "profileEmail": "del@gmail.com"}
 LOG  ğŸ‘¥ Member data for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"email": "yonrotem@gmail.com", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "profileEmail": "yonrotem@gmail.com"}
 LOG  âœ… Complete apartment data: {"description": "", "id": "81KfbcHHg4DPPdodHSnm", "invite_code": "98EG2Q", "members": [{"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": "×œ××—×™×§×”", "role": "member"}, {"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "role": "member"}], "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  âœ… Got complete apartment data: {"id": "81KfbcHHg4DPPdodHSnm", "memberCount": 2, "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  âœ… MainTabs: Apartment data loaded successfully
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ“Š Batch get response: 200 ()
 LOG  ğŸ“‹ Raw batch get results: [{"found": {"createTime": "2025-10-09T18:06:59.898608Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:42:03.452359Z"}, "readTime": "2025-10-09T18:42:30.859900Z"}, {"found": {"createTime": "2025-10-09T11:15:16.695442Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T18:35:20.935744Z"}, "readTime": "2025-10-09T18:42:30.859900Z"}]
 LOG  ğŸ‘¤ User profile for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”"}
 LOG  ğŸ‘¤ User profile for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×"}
 LOG  âœ… User profiles loaded: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ“‹ User profiles loaded: {"otmf6ZDcYigiDhogNKzrD4YRyfS2": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "uRT93ikDjjcKeSFJOGBPKlzKYzl1": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}}
 LOG  âœ… Members with profiles: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "profile": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "profile": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}, "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¥ Member data for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"email": "del@gmail.com", "name": "×œ××—×™×§×”", "profileEmail": "del@gmail.com"}
 LOG  ğŸ‘¥ Member data for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"email": "yonrotem@gmail.com", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "profileEmail": "yonrotem@gmail.com"}
 LOG  âœ… Complete apartment data: {"description": "", "id": "81KfbcHHg4DPPdodHSnm", "invite_code": "98EG2Q", "members": [{"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": "×œ××—×™×§×”", "role": "member"}, {"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "role": "member"}], "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  âœ… Got complete apartment data: {"id": "81KfbcHHg4DPPdodHSnm", "memberCount": 2, "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  ğŸ” Turn check debug: {"currentTurnUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "currentUserExists": true, "currentUserId": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "isMyTurn": false, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  âœ… Dashboard: Additional data loaded successfully
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  ğŸ”„ Backfilling cleaning stats from existing data...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Firestore task debug: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "currentUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "queue": ["uRT93ikDjjcKeSFJOGBPKlzKYzl1"], "taskId": "81KfbcHHg4DPPdodHSnm"}
 LOG  ğŸ”„ Getting cleaning stats...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“Š No cleaning stats found, returning default values
 LOG  ğŸ“Š No existing cleaning data found, initializing with 0
 LOG  âš ï¸ Skipping stats creation - no user data available
 LOG  ğŸ”„ Getting cleaning stats...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“Š No cleaning stats found, returning default values
 LOG  ğŸ“Š Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  âœ… Dashboard: Essential data loaded successfully
 LOG  ğŸ”Š Haptic: selection
 LOG  ğŸ”Š Haptic: selection
 LOG  ğŸ”Š Haptic: selection
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  ğŸ”„ Dashboard: Loading all data from Firestore...
 LOG  ğŸ”„ Refreshing apartment members...
 LOG  ğŸ”„ Dashboard: Refreshing data on focus...
 LOG  ğŸ”„ Getting cleaning stats...
 LOG  ğŸ  MainTabs: Loading apartment data for 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”„ Refreshing apartment members...
 LOG  ğŸ”„ loadCleaningChecklist already in progress, skipping...
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”„ Settings: Refreshing apartment members on mount
 LOG  ğŸ”„ Refreshing apartment members...
 LOG  ğŸ”„ loadCleaningChecklist already in progress, skipping...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ  Getting complete apartment data for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ” Getting reliable apartment ID for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ  Getting complete apartment data for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ” Getting reliable apartment ID for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ  Getting complete apartment data for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ” Getting reliable apartment ID for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Checking user profile for current_apartment_id...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Checking user profile for current_apartment_id...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Checking user profile for current_apartment_id...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… Found apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”§ Ensuring current_apartment_id before getting apartment data...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… Found apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”§ Ensuring current_apartment_id before getting apartment data...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… Found apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”§ Ensuring current_apartment_id before getting apartment data...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ“Š No cleaning stats found, returning default values
 LOG  ğŸ“Š Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“– Getting document: apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Getting auth headers...
 LOG  â³ Waiting for authentication to be ready...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“– Getting document: apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Getting auth headers...
 LOG  â³ Waiting for authentication to be ready...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“– Getting document: apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Getting auth headers...
 LOG  â³ Waiting for authentication to be ready...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Authentication is ready
 LOG  ğŸ” Token info: {"algorithm": "RS256", "email": "del@gmail.com", "expiresAt": "2025-10-09T19:06:59.000Z", "issuedAt": "2025-10-09T18:06:59.000Z", "type": "JWT", "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  âœ… Token project verified: roomies-hub
 LOG  âœ… Auth headers prepared successfully
 LOG  ğŸŒ Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Authentication is ready
 LOG  ğŸ” Token info: {"algorithm": "RS256", "email": "del@gmail.com", "expiresAt": "2025-10-09T19:06:59.000Z", "issuedAt": "2025-10-09T18:06:59.000Z", "type": "JWT", "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  âœ… Token project verified: roomies-hub
 LOG  âœ… Auth headers prepared successfully
 LOG  ğŸŒ Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Authentication is ready
 LOG  ğŸ” Token info: {"algorithm": "RS256", "email": "del@gmail.com", "expiresAt": "2025-10-09T19:06:59.000Z", "issuedAt": "2025-10-09T18:06:59.000Z", "type": "JWT", "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  âœ… Token project verified: roomies-hub
 LOG  âœ… Auth headers prepared successfully
 LOG  ğŸŒ Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ” Firestore task debug: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "currentUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "queue": ["uRT93ikDjjcKeSFJOGBPKlzKYzl1"], "taskId": "81KfbcHHg4DPPdodHSnm"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ” Firestore task debug: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "currentUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "queue": ["uRT93ikDjjcKeSFJOGBPKlzKYzl1"], "taskId": "81KfbcHHg4DPPdodHSnm"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ“Š Response status: 200 ()
 LOG  ğŸ“Š Response status: 200 ()
 LOG  ğŸ“Š Response status: 200 ()
 LOG  âœ… Document retrieved successfully
 LOG  ğŸ‘¥ Getting apartment members with profiles for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ‘¥ Getting apartment members for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  âœ… Document retrieved successfully
 LOG  ğŸ‘¥ Getting apartment members with profiles for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ‘¥ Getting apartment members for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ” Firestore task debug: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "currentUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "queue": ["uRT93ikDjjcKeSFJOGBPKlzKYzl1"], "taskId": "81KfbcHHg4DPPdodHSnm"}
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  âœ… Document retrieved successfully
 LOG  ğŸ‘¥ Getting apartment members with profiles for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ‘¥ Getting apartment members for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”§ Ensuring current_apartment_id before query...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”§ Ensuring current_apartment_id before query...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”§ Ensuring current_apartment_id before query...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID for query: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  ğŸ“ Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "81KfbcHHg4DPPdodHSnm"
        }
      }
    }
  }
}
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID for query: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  ğŸ“ Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "81KfbcHHg4DPPdodHSnm"
        }
      }
    }
  }
}
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID for query: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  ğŸ“ Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "81KfbcHHg4DPPdodHSnm"
        }
      }
    }
  }
}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“Š Members query response: 200 ()
 LOG  ğŸ“Š Members query response: 200 ()
 LOG  ğŸ“‹ Raw query results: [{"document": {"createTime": "2025-10-09T18:38:13.485205Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:38:13.485205Z"}, "readTime": "2025-10-09T18:42:47.993044Z"}, {"document": {"createTime": "2025-10-09T11:17:22.223369Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T11:17:22.223369Z"}, "readTime": "2025-10-09T18:42:47.993044Z"}]
 LOG  âœ… Found members: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ“‹ Found memberships: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¤ Unique user IDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ‘¤ Getting user profiles for UIDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ“‹ Raw query results: [{"document": {"createTime": "2025-10-09T18:38:13.485205Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:38:13.485205Z"}, "readTime": "2025-10-09T18:42:48.000806Z"}, {"document": {"createTime": "2025-10-09T11:17:22.223369Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T11:17:22.223369Z"}, "readTime": "2025-10-09T18:42:48.000806Z"}]
 LOG  âœ… Found members: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ“‹ Found memberships: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¤ Unique user IDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ‘¤ Getting user profiles for UIDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  ğŸ“ Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2",
    "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1"
  ]
}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  ğŸ“ Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2",
    "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1"
  ]
}
 LOG  ğŸ“Š Members query response: 200 ()
 LOG  ğŸ“‹ Raw query results: [{"document": {"createTime": "2025-10-09T18:38:13.485205Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:38:13.485205Z"}, "readTime": "2025-10-09T18:42:48.012717Z"}, {"document": {"createTime": "2025-10-09T11:17:22.223369Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T11:17:22.223369Z"}, "readTime": "2025-10-09T18:42:48.012717Z"}]
 LOG  âœ… Found members: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ“‹ Found memberships: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¤ Unique user IDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ‘¤ Getting user profiles for UIDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  ğŸ“ Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2",
    "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1"
  ]
}
 LOG  ğŸ“Š Batch get response: 200 ()
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ§ª checklist query ctx {"aptId": "81KfbcHHg4DPPdodHSnm", "current": "81KfbcHHg4DPPdodHSnm", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ“‹ Raw batch get results: [{"found": {"createTime": "2025-10-09T18:06:59.898608Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:42:03.452359Z"}, "readTime": "2025-10-09T18:42:48.250473Z"}, {"found": {"createTime": "2025-10-09T11:15:16.695442Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T18:35:20.935744Z"}, "readTime": "2025-10-09T18:42:48.250473Z"}]
 LOG  ğŸ‘¤ User profile for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”"}
 LOG  ğŸ‘¤ User profile for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×"}
 LOG  âœ… User profiles loaded: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ“‹ User profiles loaded: {"otmf6ZDcYigiDhogNKzrD4YRyfS2": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "uRT93ikDjjcKeSFJOGBPKlzKYzl1": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}}
 LOG  âœ… Members with profiles: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "profile": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "profile": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}, "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¥ Member data for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"email": "del@gmail.com", "name": "×œ××—×™×§×”", "profileEmail": "del@gmail.com"}
 LOG  ğŸ‘¥ Member data for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"email": "yonrotem@gmail.com", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "profileEmail": "yonrotem@gmail.com"}
 LOG  âœ… Complete apartment data: {"description": "", "id": "81KfbcHHg4DPPdodHSnm", "invite_code": "98EG2Q", "members": [{"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": "×œ××—×™×§×”", "role": "member"}, {"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "role": "member"}], "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  âœ… Got complete apartment data: {"id": "81KfbcHHg4DPPdodHSnm", "memberCount": 2, "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  âœ… MainTabs: Apartment data loaded successfully
 LOG  ğŸ“Š Batch get response: 200 ()
 LOG  ğŸ“Š Batch get response: 200 ()
 LOG  ğŸ“‹ Raw batch get results: [{"found": {"createTime": "2025-10-09T18:06:59.898608Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:42:03.452359Z"}, "readTime": "2025-10-09T18:42:48.264596Z"}, {"found": {"createTime": "2025-10-09T11:15:16.695442Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T18:35:20.935744Z"}, "readTime": "2025-10-09T18:42:48.264596Z"}]
 LOG  ğŸ‘¤ User profile for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”"}
 LOG  ğŸ‘¤ User profile for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×"}
 LOG  âœ… User profiles loaded: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ“‹ User profiles loaded: {"otmf6ZDcYigiDhogNKzrD4YRyfS2": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "uRT93ikDjjcKeSFJOGBPKlzKYzl1": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}}
 LOG  âœ… Members with profiles: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "profile": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "profile": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}, "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¥ Member data for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"email": "del@gmail.com", "name": "×œ××—×™×§×”", "profileEmail": "del@gmail.com"}
 LOG  ğŸ‘¥ Member data for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"email": "yonrotem@gmail.com", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "profileEmail": "yonrotem@gmail.com"}
 LOG  âœ… Complete apartment data: {"description": "", "id": "81KfbcHHg4DPPdodHSnm", "invite_code": "98EG2Q", "members": [{"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": "×œ××—×™×§×”", "role": "member"}, {"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "role": "member"}], "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  âœ… Got complete apartment data: {"id": "81KfbcHHg4DPPdodHSnm", "memberCount": 2, "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ“‹ Raw batch get results: [{"found": {"createTime": "2025-10-09T18:06:59.898608Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:42:03.452359Z"}, "readTime": "2025-10-09T18:42:48.268694Z"}, {"found": {"createTime": "2025-10-09T11:15:16.695442Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T18:35:20.935744Z"}, "readTime": "2025-10-09T18:42:48.268694Z"}]
 LOG  ğŸ‘¤ User profile for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”"}
 LOG  ğŸ‘¤ User profile for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×"}
 LOG  âœ… User profiles loaded: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ“‹ User profiles loaded: {"otmf6ZDcYigiDhogNKzrD4YRyfS2": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "uRT93ikDjjcKeSFJOGBPKlzKYzl1": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}}
 LOG  âœ… Members with profiles: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "profile": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "profile": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}, "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¥ Member data for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"email": "del@gmail.com", "name": "×œ××—×™×§×”", "profileEmail": "del@gmail.com"}
 LOG  ğŸ‘¥ Member data for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"email": "yonrotem@gmail.com", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "profileEmail": "yonrotem@gmail.com"}
 LOG  âœ… Complete apartment data: {"description": "", "id": "81KfbcHHg4DPPdodHSnm", "invite_code": "98EG2Q", "members": [{"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": "×œ××—×™×§×”", "role": "member"}, {"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "role": "member"}], "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  âœ… Got complete apartment data: {"id": "81KfbcHHg4DPPdodHSnm", "memberCount": 2, "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ” Turn check debug: {"currentTurnUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "currentUserExists": true, "currentUserId": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "isMyTurn": false, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  âœ… Dashboard: Additional data loaded successfully
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”„ Backfilling cleaning stats from existing data...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Firestore task debug: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "currentUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "queue": ["uRT93ikDjjcKeSFJOGBPKlzKYzl1"], "taskId": "81KfbcHHg4DPPdodHSnm"}
 LOG  ğŸ”„ Getting cleaning stats...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”Š Haptic: selection
 LOG  ğŸ“Š No cleaning stats found, returning default values
 LOG  ğŸ“Š No existing cleaning data found, initializing with 0
 LOG  âš ï¸ Skipping stats creation - no user data available
 LOG  ğŸ”„ Getting cleaning stats...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 24 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“Š No cleaning stats found, returning default values
 LOG  ğŸ“Š Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  âœ… Dashboard: Essential data loaded successfully
 LOG  ğŸ”Š Haptic: selection
iOS ./index.ts â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  0.0% (0/1)
iOS Bundled 91ms index.ts (1 module)
 LOG  ğŸ”§ Firestore debug logging enabled
 ERROR  i18next::pluralResolver: Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.
 LOG  [index] Project ID is:  6d6cd6da-7505-42d7-91fd-2928c6600b00
 LOG  ğŸš€ Initializing Firebase notifications for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸš€ Initializing Firebase Web notification service...
 LOG  ğŸ“± Mobile platform - using mock token for testing
 LOG  ğŸ“± Mock FCM Token (for testing): mock_fcm_token_1760035428224_v3m35g0rr
 LOG  ğŸ” Getting auth headers...
 LOG  â³ Waiting for authentication to be ready...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”„ Dashboard: Loading all data from Firestore...
 LOG  ğŸ”„ Refreshing apartment members...
 LOG  ğŸ”„ Dashboard: Refreshing data on focus...
 LOG  ğŸ”„ Getting cleaning stats...
 LOG  ğŸ  MainTabs: Loading apartment data for 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”„ Refreshing apartment members...
 LOG  ğŸ”„ loadCleaningChecklist already in progress, skipping...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 23 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Authentication is ready
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 23 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”„ No current session, attempting to restore...
 LOG  Attempting to restore user session...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 23 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”„ No current session, attempting to restore...
 LOG  Attempting to restore user session...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 23 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”„ No current session, attempting to restore...
 LOG  Attempting to restore user session...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 23 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”„ No current session, attempting to restore...
 LOG  Attempting to restore user session...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 23 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”„ No current session, attempting to restore...
 LOG  Attempting to restore user session...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 23 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”„ No current session, attempting to restore...
 LOG  Attempting to restore user session...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 23 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”„ No current session, attempting to restore...
 LOG  Attempting to restore user session...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 23 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”„ No current session, attempting to restore...
 LOG  Attempting to restore user session...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 23 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”„ No current session, attempting to restore...
 LOG  Attempting to restore user session...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 23 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”„ No current session, attempting to restore...
 LOG  Attempting to restore user session...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 23 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ” Token info: {"algorithm": "RS256", "email": "del@gmail.com", "expiresAt": "2025-10-09T19:06:59.000Z", "issuedAt": "2025-10-09T18:06:59.000Z", "type": "JWT", "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  âœ… Token project verified: roomies-hub
 LOG  âœ… Auth headers prepared successfully
 LOG  ğŸ” PATCH request details: {"body": "{
  \"fields\": {
    \"fcm_token\": {
      \"stringValue\": \"mock_fcm_token_1760035428224_v3m35g0rr\"
    },
    \"device_type\": {
      \"stringValue\": \"ios\"
    },
    \"last_seen\": {
      \"stringValue\": \"2025-10-09T18:43:48.226Z\"
    }
  }
}", "updateMaskFields": ["fcm_token", "device_type", "last_seen"], "url": "https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2?updateMask.fieldPaths=fcm_token&updateMask.fieldPaths=device_type&updateMask.fieldPaths=last_seen"}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 23 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 23 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 23 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 23 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 23 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 23 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 23 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 23 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 23 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 23 minutes
 LOG  âœ… ID token is valid
 LOG  Session restoration check: {"hasIdToken": true, "hasUserEmail": true, "hasUserId": true}
 LOG  Session restoration check: {"hasIdToken": true, "hasUserEmail": true, "hasUserId": true}
 LOG  Session restoration check: {"hasIdToken": true, "hasUserEmail": true, "hasUserId": true}
 LOG  Session restoration check: {"hasIdToken": true, "hasUserEmail": true, "hasUserId": true}
 LOG  Session restoration check: {"hasIdToken": true, "hasUserEmail": true, "hasUserId": true}
 LOG  Session restoration check: {"hasIdToken": true, "hasUserEmail": true, "hasUserId": true}
 LOG  Session restoration check: {"hasIdToken": true, "hasUserEmail": true, "hasUserId": true}
 LOG  Session restoration check: {"hasIdToken": true, "hasUserEmail": true, "hasUserId": true}
 LOG  Session restoration check: {"hasIdToken": true, "hasUserEmail": true, "hasUserId": true}
 LOG  Session restoration check: {"hasIdToken": true, "hasUserEmail": true, "hasUserId": true}
 LOG  User session restored successfully
 LOG  ğŸ”‘ Getting current ID token...
 LOG  User session restored successfully
 LOG  ğŸ”‘ Getting current ID token...
 LOG  User session restored successfully
 LOG  ğŸ”‘ Getting current ID token...
 LOG  User session restored successfully
 LOG  ğŸ”‘ Getting current ID token...
 LOG  User session restored successfully
 LOG  ğŸ”‘ Getting current ID token...
 LOG  User session restored successfully
 LOG  ğŸ”‘ Getting current ID token...
 LOG  User session restored successfully
 LOG  ğŸ”‘ Getting current ID token...
 LOG  User session restored successfully
 LOG  ğŸ”‘ Getting current ID token...
 LOG  User session restored successfully
 LOG  ğŸ”‘ Getting current ID token...
 LOG  User session restored successfully
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 23 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session restored: {"tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ  Getting complete apartment data for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ” Getting reliable apartment ID for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 23 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session restored: {"tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 23 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session restored: {"tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 23 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session restored: {"tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 23 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session restored: {"tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 23 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session restored: {"tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ  Getting complete apartment data for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ” Getting reliable apartment ID for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 23 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session restored: {"tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 23 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session restored: {"tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 23 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session restored: {"tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 23 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session restored: {"tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 23 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Checking user profile for current_apartment_id...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 23 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Checking user profile for current_apartment_id...
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… Found apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”§ Ensuring current_apartment_id before getting apartment data...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… Found apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”§ Ensuring current_apartment_id before getting apartment data...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 23 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 23 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 23 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 23 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 23 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  âœ… FCM token saved to Firestore
 LOG  ğŸ“± Mobile platform - notification listeners not available in Expo Go
 LOG  âœ… Firebase Web notification service initialized successfully
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ“Š No cleaning stats found, returning default values
 LOG  ğŸ“Š Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“– Getting document: apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Getting auth headers...
 LOG  â³ Waiting for authentication to be ready...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“– Getting document: apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Getting auth headers...
 LOG  â³ Waiting for authentication to be ready...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 23 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Authentication is ready
 LOG  ğŸ” Token info: {"algorithm": "RS256", "email": "del@gmail.com", "expiresAt": "2025-10-09T19:06:59.000Z", "issuedAt": "2025-10-09T18:06:59.000Z", "type": "JWT", "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  âœ… Token project verified: roomies-hub
 LOG  âœ… Auth headers prepared successfully
 LOG  ğŸŒ Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 23 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Authentication is ready
 LOG  ğŸ” Token info: {"algorithm": "RS256", "email": "del@gmail.com", "expiresAt": "2025-10-09T19:06:59.000Z", "issuedAt": "2025-10-09T18:06:59.000Z", "type": "JWT", "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  âœ… Token project verified: roomies-hub
 LOG  âœ… Auth headers prepared successfully
 LOG  ğŸŒ Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  ğŸ” Firestore task debug: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "currentUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "queue": ["uRT93ikDjjcKeSFJOGBPKlzKYzl1"], "taskId": "81KfbcHHg4DPPdodHSnm"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 ERROR  GET_CLEANING_TASK_ERROR [TypeError: Network request failed]
 ERROR  GET_CLEANING_TASK_ERROR [TypeError: Network request failed]
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 23 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ“Š Response status: 200 ()
 LOG  âœ… Document retrieved successfully
 LOG  ğŸ‘¥ Getting apartment members with profiles for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ‘¥ Getting apartment members for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 23 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”§ Ensuring current_apartment_id before query...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 23 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 23 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ“Š Response status: 200 ()
 LOG  âœ… Document retrieved successfully
 LOG  ğŸ‘¥ Getting apartment members with profiles for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ‘¥ Getting apartment members for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 23 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”§ Ensuring current_apartment_id before query...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 23 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID for query: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  ğŸ“ Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "81KfbcHHg4DPPdodHSnm"
        }
      }
    }
  }
}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID for query: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  ğŸ“ Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "81KfbcHHg4DPPdodHSnm"
        }
      }
    }
  }
}
 LOG  ğŸ“Š Members query response: 200 ()
 LOG  ğŸ“‹ Raw query results: [{"document": {"createTime": "2025-10-09T18:38:13.485205Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:38:13.485205Z"}, "readTime": "2025-10-09T18:43:52.873819Z"}, {"document": {"createTime": "2025-10-09T11:17:22.223369Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T11:17:22.223369Z"}, "readTime": "2025-10-09T18:43:52.873819Z"}]
 LOG  âœ… Found members: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ“‹ Found memberships: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¤ Unique user IDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ‘¤ Getting user profiles for UIDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 23 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  ğŸ“ Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2",
    "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1"
  ]
}
 LOG  ğŸ“Š Members query response: 200 ()
 LOG  ğŸ“‹ Raw query results: [{"document": {"createTime": "2025-10-09T18:38:13.485205Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:38:13.485205Z"}, "readTime": "2025-10-09T18:43:53.073069Z"}, {"document": {"createTime": "2025-10-09T11:17:22.223369Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T11:17:22.223369Z"}, "readTime": "2025-10-09T18:43:53.073069Z"}]
 LOG  âœ… Found members: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ“‹ Found memberships: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¤ Unique user IDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ‘¤ Getting user profiles for UIDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 23 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  ğŸ“ Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2",
    "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1"
  ]
}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ§ª checklist query ctx {"aptId": "81KfbcHHg4DPPdodHSnm", "current": "81KfbcHHg4DPPdodHSnm", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ“Š Batch get response: 200 ()
 LOG  ğŸ“‹ Raw batch get results: [{"found": {"createTime": "2025-10-09T18:06:59.898608Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:43:50.256103Z"}, "readTime": "2025-10-09T18:43:53.303140Z"}, {"found": {"createTime": "2025-10-09T11:15:16.695442Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T18:35:20.935744Z"}, "readTime": "2025-10-09T18:43:53.303140Z"}]
 LOG  ğŸ‘¤ User profile for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”"}
 LOG  ğŸ‘¤ User profile for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×"}
 LOG  âœ… User profiles loaded: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ“‹ User profiles loaded: {"otmf6ZDcYigiDhogNKzrD4YRyfS2": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "uRT93ikDjjcKeSFJOGBPKlzKYzl1": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}}
 LOG  âœ… Members with profiles: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "profile": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "profile": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}, "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¥ Member data for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"email": "del@gmail.com", "name": "×œ××—×™×§×”", "profileEmail": "del@gmail.com"}
 LOG  ğŸ‘¥ Member data for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"email": "yonrotem@gmail.com", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "profileEmail": "yonrotem@gmail.com"}
 LOG  âœ… Complete apartment data: {"description": "", "id": "81KfbcHHg4DPPdodHSnm", "invite_code": "98EG2Q", "members": [{"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": "×œ××—×™×§×”", "role": "member"}, {"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "role": "member"}], "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  âœ… Got complete apartment data: {"id": "81KfbcHHg4DPPdodHSnm", "memberCount": 2, "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 23 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ“Š Batch get response: 200 ()
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 23 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ“‹ Raw batch get results: [{"found": {"createTime": "2025-10-09T18:06:59.898608Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:43:50.256103Z"}, "readTime": "2025-10-09T18:43:53.314353Z"}, {"found": {"createTime": "2025-10-09T11:15:16.695442Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T18:35:20.935744Z"}, "readTime": "2025-10-09T18:43:53.314353Z"}]
 LOG  ğŸ‘¤ User profile for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”"}
 LOG  ğŸ‘¤ User profile for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×"}
 LOG  âœ… User profiles loaded: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ“‹ User profiles loaded: {"otmf6ZDcYigiDhogNKzrD4YRyfS2": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "uRT93ikDjjcKeSFJOGBPKlzKYzl1": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}}
 LOG  âœ… Members with profiles: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "profile": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "profile": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}, "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¥ Member data for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"email": "del@gmail.com", "name": "×œ××—×™×§×”", "profileEmail": "del@gmail.com"}
 LOG  ğŸ‘¥ Member data for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"email": "yonrotem@gmail.com", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "profileEmail": "yonrotem@gmail.com"}
 LOG  âœ… Complete apartment data: {"description": "", "id": "81KfbcHHg4DPPdodHSnm", "invite_code": "98EG2Q", "members": [{"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": "×œ××—×™×§×”", "role": "member"}, {"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "role": "member"}], "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  âœ… Got complete apartment data: {"id": "81KfbcHHg4DPPdodHSnm", "memberCount": 2, "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  âœ… MainTabs: Apartment data loaded successfully
 LOG  ğŸ” Turn check debug: {"currentTurnUserId": null, "currentUserExists": true, "currentUserId": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "isMyTurn": false, "taskCurrentTurn": undefined, "taskExists": false, "taskUserField": undefined}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  âœ… Dashboard: Additional data loaded successfully
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”„ Settings: Refreshing apartment members on mount
 LOG  ğŸ”„ Refreshing apartment members...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 23 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ  Getting complete apartment data for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ” Getting reliable apartment ID for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 23 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 23 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Checking user profile for current_apartment_id...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”„ Backfilling cleaning stats from existing data...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 23 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… Found apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”§ Ensuring current_apartment_id before getting apartment data...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 23 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 23 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 23 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“– Getting document: apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Getting auth headers...
 LOG  â³ Waiting for authentication to be ready...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 23 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Authentication is ready
 LOG  ğŸ” Token info: {"algorithm": "RS256", "email": "del@gmail.com", "expiresAt": "2025-10-09T19:06:59.000Z", "issuedAt": "2025-10-09T18:06:59.000Z", "type": "JWT", "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  âœ… Token project verified: roomies-hub
 LOG  âœ… Auth headers prepared successfully
 LOG  ğŸŒ Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 23 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ“Š Response status: 200 ()
 LOG  âœ… Document retrieved successfully
 LOG  ğŸ‘¥ Getting apartment members with profiles for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ‘¥ Getting apartment members for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ” Firestore task debug: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "currentUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "queue": ["uRT93ikDjjcKeSFJOGBPKlzKYzl1"], "taskId": "81KfbcHHg4DPPdodHSnm"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 23 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”§ Ensuring current_apartment_id before query...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 23 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 23 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 23 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID for query: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  ğŸ“ Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "81KfbcHHg4DPPdodHSnm"
        }
      }
    }
  }
}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Firestore task debug: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "currentUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "queue": ["uRT93ikDjjcKeSFJOGBPKlzKYzl1"], "taskId": "81KfbcHHg4DPPdodHSnm"}
 LOG  ğŸ”„ Getting cleaning stats...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 23 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ“Š Members query response: 200 ()
 LOG  ğŸ“‹ Raw query results: [{"document": {"createTime": "2025-10-09T18:38:13.485205Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:38:13.485205Z"}, "readTime": "2025-10-09T18:43:55.110317Z"}, {"document": {"createTime": "2025-10-09T11:17:22.223369Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T11:17:22.223369Z"}, "readTime": "2025-10-09T18:43:55.110317Z"}]
 LOG  âœ… Found members: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ“‹ Found memberships: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¤ Unique user IDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ‘¤ Getting user profiles for UIDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 23 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  ğŸ“ Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2",
    "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1"
  ]
}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“Š Batch get response: 200 ()
 LOG  ğŸ“‹ Raw batch get results: [{"found": {"createTime": "2025-10-09T18:06:59.898608Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:43:50.256103Z"}, "readTime": "2025-10-09T18:43:55.360495Z"}, {"found": {"createTime": "2025-10-09T11:15:16.695442Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T18:35:20.935744Z"}, "readTime": "2025-10-09T18:43:55.360495Z"}]
 LOG  ğŸ‘¤ User profile for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”"}
 LOG  ğŸ‘¤ User profile for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×"}
 LOG  âœ… User profiles loaded: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ“‹ User profiles loaded: {"otmf6ZDcYigiDhogNKzrD4YRyfS2": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "uRT93ikDjjcKeSFJOGBPKlzKYzl1": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}}
 LOG  âœ… Members with profiles: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "profile": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "profile": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}, "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¥ Member data for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"email": "del@gmail.com", "name": "×œ××—×™×§×”", "profileEmail": "del@gmail.com"}
 LOG  ğŸ‘¥ Member data for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"email": "yonrotem@gmail.com", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "profileEmail": "yonrotem@gmail.com"}
 LOG  âœ… Complete apartment data: {"description": "", "id": "81KfbcHHg4DPPdodHSnm", "invite_code": "98EG2Q", "members": [{"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": "×œ××—×™×§×”", "role": "member"}, {"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "role": "member"}], "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  âœ… Got complete apartment data: {"id": "81KfbcHHg4DPPdodHSnm", "memberCount": 2, "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ§ª checklist query ctx {"aptId": "81KfbcHHg4DPPdodHSnm", "current": "81KfbcHHg4DPPdodHSnm", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ“Š No cleaning stats found, returning default values
 LOG  ğŸ“Š No existing cleaning data found, initializing with 0
 LOG  âš ï¸ Skipping stats creation - no user data available
 LOG  ğŸ”„ Getting cleaning stats...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 23 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ” Turn check debug: {"currentTurnUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "currentUserExists": true, "currentUserId": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "isMyTurn": false, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”Š Haptic: selection
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“Š No cleaning stats found, returning default values
 LOG  ğŸ“Š Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  âœ… Dashboard: Essential data loaded successfully
 LOG  ğŸ”„ Settings: Refreshing apartment members on mount
 LOG  ğŸ”„ Refreshing apartment members...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 22 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ  Getting complete apartment data for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ” Getting reliable apartment ID for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 22 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 22 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Checking user profile for current_apartment_id...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 22 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… Found apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”§ Ensuring current_apartment_id before getting apartment data...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 22 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“– Getting document: apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Getting auth headers...
 LOG  â³ Waiting for authentication to be ready...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 22 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Authentication is ready
 LOG  ğŸ” Token info: {"algorithm": "RS256", "email": "del@gmail.com", "expiresAt": "2025-10-09T19:06:59.000Z", "issuedAt": "2025-10-09T18:06:59.000Z", "type": "JWT", "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  âœ… Token project verified: roomies-hub
 LOG  âœ… Auth headers prepared successfully
 LOG  ğŸŒ Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“Š Response status: 200 ()
 LOG  âœ… Document retrieved successfully
 LOG  ğŸ‘¥ Getting apartment members with profiles for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ‘¥ Getting apartment members for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ” Firestore task debug: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "currentUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "queue": ["uRT93ikDjjcKeSFJOGBPKlzKYzl1"], "taskId": "81KfbcHHg4DPPdodHSnm"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 22 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”§ Ensuring current_apartment_id before query...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 22 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 22 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID for query: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  ğŸ“ Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "81KfbcHHg4DPPdodHSnm"
        }
      }
    }
  }
}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 22 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“Š Members query response: 200 ()
 LOG  ğŸ“‹ Raw query results: [{"document": {"createTime": "2025-10-09T18:38:13.485205Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:38:13.485205Z"}, "readTime": "2025-10-09T18:44:20.983645Z"}, {"document": {"createTime": "2025-10-09T11:17:22.223369Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T11:17:22.223369Z"}, "readTime": "2025-10-09T18:44:20.983645Z"}]
 LOG  âœ… Found members: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ“‹ Found memberships: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¤ Unique user IDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ‘¤ Getting user profiles for UIDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 22 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  ğŸ“ Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2",
    "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1"
  ]
}
 LOG  ğŸ“Š Batch get response: 200 ()
 LOG  ğŸ“‹ Raw batch get results: [{"found": {"createTime": "2025-10-09T18:06:59.898608Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:43:50.256103Z"}, "readTime": "2025-10-09T18:44:21.249141Z"}, {"found": {"createTime": "2025-10-09T11:15:16.695442Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T18:35:20.935744Z"}, "readTime": "2025-10-09T18:44:21.249141Z"}]
 LOG  ğŸ‘¤ User profile for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”"}
 LOG  ğŸ‘¤ User profile for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×"}
 LOG  âœ… User profiles loaded: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ“‹ User profiles loaded: {"otmf6ZDcYigiDhogNKzrD4YRyfS2": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "uRT93ikDjjcKeSFJOGBPKlzKYzl1": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}}
 LOG  âœ… Members with profiles: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "profile": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "profile": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}, "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¥ Member data for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"email": "del@gmail.com", "name": "×œ××—×™×§×”", "profileEmail": "del@gmail.com"}
 LOG  ğŸ‘¥ Member data for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"email": "yonrotem@gmail.com", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "profileEmail": "yonrotem@gmail.com"}
 LOG  âœ… Complete apartment data: {"description": "", "id": "81KfbcHHg4DPPdodHSnm", "invite_code": "98EG2Q", "members": [{"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": "×œ××—×™×§×”", "role": "member"}, {"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "role": "member"}], "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  âœ… Got complete apartment data: {"id": "81KfbcHHg4DPPdodHSnm", "memberCount": 2, "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ§ª checklist query ctx {"aptId": "81KfbcHHg4DPPdodHSnm", "current": "81KfbcHHg4DPPdodHSnm", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ” Turn check debug: {"currentTurnUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "currentUserExists": true, "currentUserId": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "isMyTurn": false, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”„ Settings: Refreshing apartment members on mount
 LOG  ğŸ”„ Refreshing apartment members...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 22 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ  Getting complete apartment data for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ” Getting reliable apartment ID for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 22 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 22 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Checking user profile for current_apartment_id...
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… Found apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”§ Ensuring current_apartment_id before getting apartment data...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 22 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 22 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“– Getting document: apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Getting auth headers...
 LOG  â³ Waiting for authentication to be ready...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 22 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Authentication is ready
 LOG  ğŸ” Token info: {"algorithm": "RS256", "email": "del@gmail.com", "expiresAt": "2025-10-09T19:06:59.000Z", "issuedAt": "2025-10-09T18:06:59.000Z", "type": "JWT", "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  âœ… Token project verified: roomies-hub
 LOG  âœ… Auth headers prepared successfully
 LOG  ğŸŒ Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“Š Response status: 200 ()
 LOG  âœ… Document retrieved successfully
 LOG  ğŸ‘¥ Getting apartment members with profiles for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ‘¥ Getting apartment members for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 22 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”§ Ensuring current_apartment_id before query...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 22 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ” Firestore task debug: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "currentUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "queue": ["uRT93ikDjjcKeSFJOGBPKlzKYzl1"], "taskId": "81KfbcHHg4DPPdodHSnm"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 22 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID for query: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  ğŸ“ Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "81KfbcHHg4DPPdodHSnm"
        }
      }
    }
  }
}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 22 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ“Š Members query response: 200 ()
 LOG  ğŸ“‹ Raw query results: [{"document": {"createTime": "2025-10-09T18:38:13.485205Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:38:13.485205Z"}, "readTime": "2025-10-09T18:44:40.134342Z"}, {"document": {"createTime": "2025-10-09T11:17:22.223369Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T11:17:22.223369Z"}, "readTime": "2025-10-09T18:44:40.134342Z"}]
 LOG  âœ… Found members: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ“‹ Found memberships: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¤ Unique user IDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ‘¤ Getting user profiles for UIDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 22 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  ğŸ“ Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2",
    "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1"
  ]
}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“Š Batch get response: 200 ()
 LOG  ğŸ“‹ Raw batch get results: [{"found": {"createTime": "2025-10-09T18:06:59.898608Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:43:50.256103Z"}, "readTime": "2025-10-09T18:44:40.436397Z"}, {"found": {"createTime": "2025-10-09T11:15:16.695442Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T18:35:20.935744Z"}, "readTime": "2025-10-09T18:44:40.436397Z"}]
 LOG  ğŸ‘¤ User profile for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”"}
 LOG  ğŸ‘¤ User profile for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×"}
 LOG  âœ… User profiles loaded: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ“‹ User profiles loaded: {"otmf6ZDcYigiDhogNKzrD4YRyfS2": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "uRT93ikDjjcKeSFJOGBPKlzKYzl1": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}}
 LOG  âœ… Members with profiles: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "profile": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "profile": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}, "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¥ Member data for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"email": "del@gmail.com", "name": "×œ××—×™×§×”", "profileEmail": "del@gmail.com"}
 LOG  ğŸ‘¥ Member data for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"email": "yonrotem@gmail.com", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "profileEmail": "yonrotem@gmail.com"}
 LOG  âœ… Complete apartment data: {"description": "", "id": "81KfbcHHg4DPPdodHSnm", "invite_code": "98EG2Q", "members": [{"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": "×œ××—×™×§×”", "role": "member"}, {"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "role": "member"}], "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  âœ… Got complete apartment data: {"id": "81KfbcHHg4DPPdodHSnm", "memberCount": 2, "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ§ª checklist query ctx {"aptId": "81KfbcHHg4DPPdodHSnm", "current": "81KfbcHHg4DPPdodHSnm", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ” Turn check debug: {"currentTurnUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "currentUserExists": true, "currentUserId": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "isMyTurn": false, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”„ Settings: Refreshing apartment members on mount
 LOG  ğŸ”„ Refreshing apartment members...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 21 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ  Getting complete apartment data for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ” Getting reliable apartment ID for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 21 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 21 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Checking user profile for current_apartment_id...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… Found apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”§ Ensuring current_apartment_id before getting apartment data...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 21 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 21 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“– Getting document: apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Getting auth headers...
 LOG  â³ Waiting for authentication to be ready...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 21 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Authentication is ready
 LOG  ğŸ” Token info: {"algorithm": "RS256", "email": "del@gmail.com", "expiresAt": "2025-10-09T19:06:59.000Z", "issuedAt": "2025-10-09T18:06:59.000Z", "type": "JWT", "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  âœ… Token project verified: roomies-hub
 LOG  âœ… Auth headers prepared successfully
 LOG  ğŸŒ Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  ğŸ“Š Response status: 200 ()
 LOG  âœ… Document retrieved successfully
 LOG  ğŸ‘¥ Getting apartment members with profiles for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ‘¥ Getting apartment members for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 21 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”§ Ensuring current_apartment_id before query...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 21 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ” Firestore task debug: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "currentUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "queue": ["uRT93ikDjjcKeSFJOGBPKlzKYzl1"], "taskId": "81KfbcHHg4DPPdodHSnm"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 21 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 21 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID for query: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  ğŸ“ Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "81KfbcHHg4DPPdodHSnm"
        }
      }
    }
  }
}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“Š Members query response: 200 ()
 LOG  ğŸ“‹ Raw query results: [{"document": {"createTime": "2025-10-09T18:38:13.485205Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:38:13.485205Z"}, "readTime": "2025-10-09T18:45:04.012412Z"}, {"document": {"createTime": "2025-10-09T11:17:22.223369Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T11:17:22.223369Z"}, "readTime": "2025-10-09T18:45:04.012412Z"}]
 LOG  âœ… Found members: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ“‹ Found memberships: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¤ Unique user IDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ‘¤ Getting user profiles for UIDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 21 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  ğŸ“ Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2",
    "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1"
  ]
}
 LOG  ğŸ“Š Batch get response: 200 ()
 LOG  ğŸ“‹ Raw batch get results: [{"found": {"createTime": "2025-10-09T18:06:59.898608Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:43:50.256103Z"}, "readTime": "2025-10-09T18:45:04.258235Z"}, {"found": {"createTime": "2025-10-09T11:15:16.695442Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T18:35:20.935744Z"}, "readTime": "2025-10-09T18:45:04.258235Z"}]
 LOG  ğŸ‘¤ User profile for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”"}
 LOG  ğŸ‘¤ User profile for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×"}
 LOG  âœ… User profiles loaded: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ“‹ User profiles loaded: {"otmf6ZDcYigiDhogNKzrD4YRyfS2": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "uRT93ikDjjcKeSFJOGBPKlzKYzl1": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}}
 LOG  âœ… Members with profiles: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "profile": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "profile": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}, "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¥ Member data for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"email": "del@gmail.com", "name": "×œ××—×™×§×”", "profileEmail": "del@gmail.com"}
 LOG  ğŸ‘¥ Member data for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"email": "yonrotem@gmail.com", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "profileEmail": "yonrotem@gmail.com"}
 LOG  âœ… Complete apartment data: {"description": "", "id": "81KfbcHHg4DPPdodHSnm", "invite_code": "98EG2Q", "members": [{"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": "×œ××—×™×§×”", "role": "member"}, {"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "role": "member"}], "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  âœ… Got complete apartment data: {"id": "81KfbcHHg4DPPdodHSnm", "memberCount": 2, "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ§ª checklist query ctx {"aptId": "81KfbcHHg4DPPdodHSnm", "current": "81KfbcHHg4DPPdodHSnm", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ” Turn check debug: {"currentTurnUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "currentUserExists": true, "currentUserId": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "isMyTurn": false, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”Š Haptic: selection
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”„ Dashboard: Loading all data from Firestore...
 LOG  ğŸ”„ Refreshing apartment members...
 LOG  ğŸ”„ Dashboard: Refreshing data on focus...
 LOG  ğŸ”„ Getting cleaning stats...
 LOG  ğŸ  MainTabs: Loading apartment data for 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”„ Refreshing apartment members...
 LOG  ğŸ”„ loadCleaningChecklist already in progress, skipping...
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  ğŸ”„ Settings: Refreshing apartment members on mount
 LOG  ğŸ”„ Refreshing apartment members...
 LOG  ğŸ”„ loadCleaningChecklist already in progress, skipping...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 21 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ  Getting complete apartment data for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ” Getting reliable apartment ID for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 21 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 21 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 21 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 21 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 21 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ  Getting complete apartment data for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ” Getting reliable apartment ID for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 21 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 21 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 21 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 21 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 21 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ  Getting complete apartment data for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ” Getting reliable apartment ID for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 21 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Checking user profile for current_apartment_id...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 21 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Checking user profile for current_apartment_id...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 21 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Checking user profile for current_apartment_id...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… Found apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”§ Ensuring current_apartment_id before getting apartment data...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 21 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 21 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 21 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… Found apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”§ Ensuring current_apartment_id before getting apartment data...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 21 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 21 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… Found apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”§ Ensuring current_apartment_id before getting apartment data...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 21 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ“Š No cleaning stats found, returning default values
 LOG  ğŸ“Š Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“– Getting document: apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Getting auth headers...
 LOG  â³ Waiting for authentication to be ready...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 21 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Authentication is ready
 LOG  ğŸ” Token info: {"algorithm": "RS256", "email": "del@gmail.com", "expiresAt": "2025-10-09T19:06:59.000Z", "issuedAt": "2025-10-09T18:06:59.000Z", "type": "JWT", "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  âœ… Token project verified: roomies-hub
 LOG  âœ… Auth headers prepared successfully
 LOG  ğŸŒ Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“– Getting document: apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Getting auth headers...
 LOG  â³ Waiting for authentication to be ready...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 21 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Authentication is ready
 LOG  ğŸ” Token info: {"algorithm": "RS256", "email": "del@gmail.com", "expiresAt": "2025-10-09T19:06:59.000Z", "issuedAt": "2025-10-09T18:06:59.000Z", "type": "JWT", "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  âœ… Token project verified: roomies-hub
 LOG  âœ… Auth headers prepared successfully
 LOG  ğŸŒ Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“– Getting document: apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Getting auth headers...
 LOG  â³ Waiting for authentication to be ready...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 21 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Authentication is ready
 LOG  ğŸ” Token info: {"algorithm": "RS256", "email": "del@gmail.com", "expiresAt": "2025-10-09T19:06:59.000Z", "issuedAt": "2025-10-09T18:06:59.000Z", "type": "JWT", "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  âœ… Token project verified: roomies-hub
 LOG  âœ… Auth headers prepared successfully
 LOG  ğŸŒ Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  ğŸ“Š Response status: 200 ()
 LOG  âœ… Document retrieved successfully
 LOG  ğŸ‘¥ Getting apartment members with profiles for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ‘¥ Getting apartment members for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 21 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”§ Ensuring current_apartment_id before query...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 21 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ” Firestore task debug: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "currentUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "queue": ["uRT93ikDjjcKeSFJOGBPKlzKYzl1"], "taskId": "81KfbcHHg4DPPdodHSnm"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  ğŸ“Š Response status: 200 ()
 LOG  ğŸ“Š Response status: 200 ()
 LOG  ğŸ” Firestore task debug: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "currentUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "queue": ["uRT93ikDjjcKeSFJOGBPKlzKYzl1"], "taskId": "81KfbcHHg4DPPdodHSnm"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ” Firestore task debug: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "currentUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "queue": ["uRT93ikDjjcKeSFJOGBPKlzKYzl1"], "taskId": "81KfbcHHg4DPPdodHSnm"}
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  âœ… Document retrieved successfully
 LOG  ğŸ‘¥ Getting apartment members with profiles for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ‘¥ Getting apartment members for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  âœ… Document retrieved successfully
 LOG  ğŸ‘¥ Getting apartment members with profiles for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ‘¥ Getting apartment members for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 21 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 21 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”§ Ensuring current_apartment_id before query...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID for query: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  ğŸ“ Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "81KfbcHHg4DPPdodHSnm"
        }
      }
    }
  }
}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 21 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”§ Ensuring current_apartment_id before query...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 21 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 21 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID for query: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  ğŸ“ Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "81KfbcHHg4DPPdodHSnm"
        }
      }
    }
  }
}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 21 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID for query: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  ğŸ“ Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "81KfbcHHg4DPPdodHSnm"
        }
      }
    }
  }
}
 LOG  ğŸ“Š Members query response: 200 ()
 LOG  ğŸ“‹ Raw query results: [{"document": {"createTime": "2025-10-09T18:38:13.485205Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:38:13.485205Z"}, "readTime": "2025-10-09T18:45:55.721698Z"}, {"document": {"createTime": "2025-10-09T11:17:22.223369Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T11:17:22.223369Z"}, "readTime": "2025-10-09T18:45:55.721698Z"}]
 LOG  âœ… Found members: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ“‹ Found memberships: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¤ Unique user IDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ‘¤ Getting user profiles for UIDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 21 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  ğŸ“ Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2",
    "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1"
  ]
}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“Š Batch get response: 200 ()
 LOG  ğŸ“Š Members query response: 200 ()
 LOG  ğŸ“‹ Raw batch get results: [{"found": {"createTime": "2025-10-09T18:06:59.898608Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:43:50.256103Z"}, "readTime": "2025-10-09T18:45:55.960320Z"}, {"found": {"createTime": "2025-10-09T11:15:16.695442Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T18:35:20.935744Z"}, "readTime": "2025-10-09T18:45:55.960320Z"}]
 LOG  ğŸ‘¤ User profile for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”"}
 LOG  ğŸ‘¤ User profile for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×"}
 LOG  âœ… User profiles loaded: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ“‹ User profiles loaded: {"otmf6ZDcYigiDhogNKzrD4YRyfS2": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "uRT93ikDjjcKeSFJOGBPKlzKYzl1": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}}
 LOG  âœ… Members with profiles: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "profile": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "profile": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}, "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¥ Member data for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"email": "del@gmail.com", "name": "×œ××—×™×§×”", "profileEmail": "del@gmail.com"}
 LOG  ğŸ‘¥ Member data for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"email": "yonrotem@gmail.com", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "profileEmail": "yonrotem@gmail.com"}
 LOG  âœ… Complete apartment data: {"description": "", "id": "81KfbcHHg4DPPdodHSnm", "invite_code": "98EG2Q", "members": [{"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": "×œ××—×™×§×”", "role": "member"}, {"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "role": "member"}], "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  âœ… Got complete apartment data: {"id": "81KfbcHHg4DPPdodHSnm", "memberCount": 2, "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  âœ… MainTabs: Apartment data loaded successfully
 LOG  ğŸ“‹ Raw query results: [{"document": {"createTime": "2025-10-09T18:38:13.485205Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:38:13.485205Z"}, "readTime": "2025-10-09T18:45:55.960221Z"}, {"document": {"createTime": "2025-10-09T11:17:22.223369Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T11:17:22.223369Z"}, "readTime": "2025-10-09T18:45:55.960221Z"}]
 LOG  âœ… Found members: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ“‹ Found memberships: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¤ Unique user IDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ‘¤ Getting user profiles for UIDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ“Š Members query response: 200 ()
 LOG  ğŸ“‹ Raw query results: [{"document": {"createTime": "2025-10-09T18:38:13.485205Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:38:13.485205Z"}, "readTime": "2025-10-09T18:45:56.023190Z"}, {"document": {"createTime": "2025-10-09T11:17:22.223369Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T11:17:22.223369Z"}, "readTime": "2025-10-09T18:45:56.023190Z"}]
 LOG  âœ… Found members: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ“‹ Found memberships: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¤ Unique user IDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ‘¤ Getting user profiles for UIDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 21 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  ğŸ“ Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2",
    "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1"
  ]
}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 21 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  ğŸ“ Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2",
    "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1"
  ]
}
 LOG  ğŸ“Š Batch get response: 200 ()
 LOG  ğŸ“Š Batch get response: 200 ()
 LOG  ğŸ“‹ Raw batch get results: [{"found": {"createTime": "2025-10-09T18:06:59.898608Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:43:50.256103Z"}, "readTime": "2025-10-09T18:45:56.279899Z"}, {"found": {"createTime": "2025-10-09T11:15:16.695442Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T18:35:20.935744Z"}, "readTime": "2025-10-09T18:45:56.279899Z"}]
 LOG  ğŸ‘¤ User profile for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”"}
 LOG  ğŸ‘¤ User profile for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×"}
 LOG  âœ… User profiles loaded: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ“‹ User profiles loaded: {"otmf6ZDcYigiDhogNKzrD4YRyfS2": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "uRT93ikDjjcKeSFJOGBPKlzKYzl1": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}}
 LOG  âœ… Members with profiles: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "profile": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "profile": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}, "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¥ Member data for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"email": "del@gmail.com", "name": "×œ××—×™×§×”", "profileEmail": "del@gmail.com"}
 LOG  ğŸ‘¥ Member data for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"email": "yonrotem@gmail.com", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "profileEmail": "yonrotem@gmail.com"}
 LOG  âœ… Complete apartment data: {"description": "", "id": "81KfbcHHg4DPPdodHSnm", "invite_code": "98EG2Q", "members": [{"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": "×œ××—×™×§×”", "role": "member"}, {"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "role": "member"}], "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  âœ… Got complete apartment data: {"id": "81KfbcHHg4DPPdodHSnm", "memberCount": 2, "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ“‹ Raw batch get results: [{"found": {"createTime": "2025-10-09T18:06:59.898608Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:43:50.256103Z"}, "readTime": "2025-10-09T18:45:56.284440Z"}, {"found": {"createTime": "2025-10-09T11:15:16.695442Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T18:35:20.935744Z"}, "readTime": "2025-10-09T18:45:56.284440Z"}]
 LOG  ğŸ‘¤ User profile for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”"}
 LOG  ğŸ‘¤ User profile for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×"}
 LOG  âœ… User profiles loaded: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ“‹ User profiles loaded: {"otmf6ZDcYigiDhogNKzrD4YRyfS2": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "uRT93ikDjjcKeSFJOGBPKlzKYzl1": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}}
 LOG  âœ… Members with profiles: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "profile": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "profile": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}, "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¥ Member data for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"email": "del@gmail.com", "name": "×œ××—×™×§×”", "profileEmail": "del@gmail.com"}
 LOG  ğŸ‘¥ Member data for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"email": "yonrotem@gmail.com", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "profileEmail": "yonrotem@gmail.com"}
 LOG  âœ… Complete apartment data: {"description": "", "id": "81KfbcHHg4DPPdodHSnm", "invite_code": "98EG2Q", "members": [{"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": "×œ××—×™×§×”", "role": "member"}, {"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "role": "member"}], "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  âœ… Got complete apartment data: {"id": "81KfbcHHg4DPPdodHSnm", "memberCount": 2, "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 21 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 21 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ§ª checklist query ctx {"aptId": "81KfbcHHg4DPPdodHSnm", "current": "81KfbcHHg4DPPdodHSnm", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Turn check debug: {"currentTurnUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "currentUserExists": true, "currentUserId": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "isMyTurn": false, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  âœ… Dashboard: Additional data loaded successfully
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  ğŸ”„ Backfilling cleaning stats from existing data...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 21 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 21 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 21 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”Š Haptic: selection
 LOG  ğŸ” Firestore task debug: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "currentUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "queue": ["uRT93ikDjjcKeSFJOGBPKlzKYzl1"], "taskId": "81KfbcHHg4DPPdodHSnm"}
 LOG  ğŸ”„ Getting cleaning stats...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 21 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”Š Haptic: selection
 LOG  ğŸ“Š No cleaning stats found, returning default values
 LOG  ğŸ“Š No existing cleaning data found, initializing with 0
 LOG  âš ï¸ Skipping stats creation - no user data available
 LOG  ğŸ”„ Getting cleaning stats...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 21 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“Š No cleaning stats found, returning default values
 LOG  ğŸ“Š Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  âœ… Dashboard: Essential data loaded successfully
 LOG  ğŸ”Š Haptic: selection
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": false, "language": "en"}
 LOG  ğŸ”„ Dashboard: Loading all data from Firestore...
 LOG  ğŸ”„ Refreshing apartment members...
 LOG  ğŸ”„ Dashboard: Refreshing data on focus...
 LOG  ğŸ”„ Getting cleaning stats...
 LOG  ğŸ  MainTabs: Loading apartment data for 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”„ Refreshing apartment members...
 LOG  ğŸ”„ loadCleaningChecklist already in progress, skipping...
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”„ Settings: Refreshing apartment members on mount
 LOG  ğŸ”„ Refreshing apartment members...
 LOG  ğŸ”„ loadCleaningChecklist already in progress, skipping...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 20 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ  Getting complete apartment data for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ” Getting reliable apartment ID for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 20 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 20 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 20 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 20 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 20 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ  Getting complete apartment data for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ” Getting reliable apartment ID for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 20 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 20 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 20 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 20 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 20 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ  Getting complete apartment data for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ” Getting reliable apartment ID for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 20 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Checking user profile for current_apartment_id...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 20 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Checking user profile for current_apartment_id...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 20 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Checking user profile for current_apartment_id...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… Found apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”§ Ensuring current_apartment_id before getting apartment data...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 20 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 20 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 20 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… Found apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”§ Ensuring current_apartment_id before getting apartment data...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… Found apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”§ Ensuring current_apartment_id before getting apartment data...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 20 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 20 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 20 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“Š No cleaning stats found, returning default values
 LOG  ğŸ“Š Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“– Getting document: apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Getting auth headers...
 LOG  â³ Waiting for authentication to be ready...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“– Getting document: apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Getting auth headers...
 LOG  â³ Waiting for authentication to be ready...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 20 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Authentication is ready
 LOG  ğŸ” Token info: {"algorithm": "RS256", "email": "del@gmail.com", "expiresAt": "2025-10-09T19:06:59.000Z", "issuedAt": "2025-10-09T18:06:59.000Z", "type": "JWT", "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  âœ… Token project verified: roomies-hub
 LOG  âœ… Auth headers prepared successfully
 LOG  ğŸŒ Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 20 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Authentication is ready
 LOG  ğŸ” Token info: {"algorithm": "RS256", "email": "del@gmail.com", "expiresAt": "2025-10-09T19:06:59.000Z", "issuedAt": "2025-10-09T18:06:59.000Z", "type": "JWT", "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  âœ… Token project verified: roomies-hub
 LOG  âœ… Auth headers prepared successfully
 LOG  ğŸŒ Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“– Getting document: apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Getting auth headers...
 LOG  â³ Waiting for authentication to be ready...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 20 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Authentication is ready
 LOG  ğŸ” Token info: {"algorithm": "RS256", "email": "del@gmail.com", "expiresAt": "2025-10-09T19:06:59.000Z", "issuedAt": "2025-10-09T18:06:59.000Z", "type": "JWT", "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  âœ… Token project verified: roomies-hub
 LOG  âœ… Auth headers prepared successfully
 LOG  ğŸŒ Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ“Š Response status: 200 ()
 LOG  ğŸ“Š Response status: 200 ()
 LOG  ğŸ” Firestore task debug: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "currentUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "queue": ["uRT93ikDjjcKeSFJOGBPKlzKYzl1"], "taskId": "81KfbcHHg4DPPdodHSnm"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  âœ… Document retrieved successfully
 LOG  ğŸ‘¥ Getting apartment members with profiles for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ‘¥ Getting apartment members for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  âœ… Document retrieved successfully
 LOG  ğŸ‘¥ Getting apartment members with profiles for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ‘¥ Getting apartment members for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 20 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”§ Ensuring current_apartment_id before query...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 20 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”§ Ensuring current_apartment_id before query...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 20 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 20 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ” Firestore task debug: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "currentUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "queue": ["uRT93ikDjjcKeSFJOGBPKlzKYzl1"], "taskId": "81KfbcHHg4DPPdodHSnm"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ“Š Response status: 200 ()
 LOG  âœ… Document retrieved successfully
 LOG  ğŸ‘¥ Getting apartment members with profiles for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ‘¥ Getting apartment members for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ” Firestore task debug: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "currentUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "queue": ["uRT93ikDjjcKeSFJOGBPKlzKYzl1"], "taskId": "81KfbcHHg4DPPdodHSnm"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 20 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”§ Ensuring current_apartment_id before query...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 20 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 20 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID for query: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  ğŸ“ Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "81KfbcHHg4DPPdodHSnm"
        }
      }
    }
  }
}
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID for query: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  ğŸ“ Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "81KfbcHHg4DPPdodHSnm"
        }
      }
    }
  }
}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID for query: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  ğŸ“ Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "81KfbcHHg4DPPdodHSnm"
        }
      }
    }
  }
}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 20 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ“Š Members query response: 200 ()
 LOG  ğŸ“Š Members query response: 200 ()
 LOG  ğŸ“‹ Raw query results: [{"document": {"createTime": "2025-10-09T18:38:13.485205Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:38:13.485205Z"}, "readTime": "2025-10-09T18:46:41.418327Z"}, {"document": {"createTime": "2025-10-09T11:17:22.223369Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T11:17:22.223369Z"}, "readTime": "2025-10-09T18:46:41.418327Z"}]
 LOG  âœ… Found members: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ“‹ Found memberships: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¤ Unique user IDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ‘¤ Getting user profiles for UIDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ“‹ Raw query results: [{"document": {"createTime": "2025-10-09T18:38:13.485205Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:38:13.485205Z"}, "readTime": "2025-10-09T18:46:41.427471Z"}, {"document": {"createTime": "2025-10-09T11:17:22.223369Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T11:17:22.223369Z"}, "readTime": "2025-10-09T18:46:41.427471Z"}]
 LOG  âœ… Found members: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ“‹ Found memberships: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¤ Unique user IDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ‘¤ Getting user profiles for UIDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 20 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  ğŸ“ Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2",
    "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1"
  ]
}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 20 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  ğŸ“ Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2",
    "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1"
  ]
}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“Š Members query response: 200 ()
 LOG  ğŸ“‹ Raw query results: [{"document": {"createTime": "2025-10-09T18:38:13.485205Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:38:13.485205Z"}, "readTime": "2025-10-09T18:46:41.606334Z"}, {"document": {"createTime": "2025-10-09T11:17:22.223369Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T11:17:22.223369Z"}, "readTime": "2025-10-09T18:46:41.606334Z"}]
 LOG  âœ… Found members: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ“‹ Found memberships: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¤ Unique user IDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ‘¤ Getting user profiles for UIDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 20 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  ğŸ“ Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2",
    "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1"
  ]
}
 LOG  ğŸ“Š Batch get response: 200 ()
 LOG  ğŸ“Š Batch get response: 200 ()
 LOG  ğŸ“‹ Raw batch get results: [{"found": {"createTime": "2025-10-09T18:06:59.898608Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:43:50.256103Z"}, "readTime": "2025-10-09T18:46:41.685625Z"}, {"found": {"createTime": "2025-10-09T11:15:16.695442Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T18:35:20.935744Z"}, "readTime": "2025-10-09T18:46:41.685625Z"}]
 LOG  ğŸ‘¤ User profile for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”"}
 LOG  ğŸ‘¤ User profile for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×"}
 LOG  âœ… User profiles loaded: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ“‹ User profiles loaded: {"otmf6ZDcYigiDhogNKzrD4YRyfS2": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "uRT93ikDjjcKeSFJOGBPKlzKYzl1": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}}
 LOG  âœ… Members with profiles: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "profile": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "profile": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}, "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¥ Member data for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"email": "del@gmail.com", "name": "×œ××—×™×§×”", "profileEmail": "del@gmail.com"}
 LOG  ğŸ‘¥ Member data for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"email": "yonrotem@gmail.com", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "profileEmail": "yonrotem@gmail.com"}
 LOG  âœ… Complete apartment data: {"description": "", "id": "81KfbcHHg4DPPdodHSnm", "invite_code": "98EG2Q", "members": [{"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": "×œ××—×™×§×”", "role": "member"}, {"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "role": "member"}], "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  âœ… Got complete apartment data: {"id": "81KfbcHHg4DPPdodHSnm", "memberCount": 2, "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ“‹ Raw batch get results: [{"found": {"createTime": "2025-10-09T18:06:59.898608Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:43:50.256103Z"}, "readTime": "2025-10-09T18:46:41.705624Z"}, {"found": {"createTime": "2025-10-09T11:15:16.695442Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T18:35:20.935744Z"}, "readTime": "2025-10-09T18:46:41.705624Z"}]
 LOG  ğŸ‘¤ User profile for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”"}
 LOG  ğŸ‘¤ User profile for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×"}
 LOG  âœ… User profiles loaded: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ“‹ User profiles loaded: {"otmf6ZDcYigiDhogNKzrD4YRyfS2": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "uRT93ikDjjcKeSFJOGBPKlzKYzl1": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}}
 LOG  âœ… Members with profiles: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "profile": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "profile": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}, "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¥ Member data for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"email": "del@gmail.com", "name": "×œ××—×™×§×”", "profileEmail": "del@gmail.com"}
 LOG  ğŸ‘¥ Member data for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"email": "yonrotem@gmail.com", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "profileEmail": "yonrotem@gmail.com"}
 LOG  âœ… Complete apartment data: {"description": "", "id": "81KfbcHHg4DPPdodHSnm", "invite_code": "98EG2Q", "members": [{"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": "×œ××—×™×§×”", "role": "member"}, {"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "role": "member"}], "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  âœ… Got complete apartment data: {"id": "81KfbcHHg4DPPdodHSnm", "memberCount": 2, "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 20 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 20 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ“Š Batch get response: 200 ()
 LOG  ğŸ“‹ Raw batch get results: [{"found": {"createTime": "2025-10-09T18:06:59.898608Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:43:50.256103Z"}, "readTime": "2025-10-09T18:46:41.912324Z"}, {"found": {"createTime": "2025-10-09T11:15:16.695442Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T18:35:20.935744Z"}, "readTime": "2025-10-09T18:46:41.912324Z"}]
 LOG  ğŸ‘¤ User profile for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”"}
 LOG  ğŸ‘¤ User profile for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×"}
 LOG  âœ… User profiles loaded: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ“‹ User profiles loaded: {"otmf6ZDcYigiDhogNKzrD4YRyfS2": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "uRT93ikDjjcKeSFJOGBPKlzKYzl1": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}}
 LOG  âœ… Members with profiles: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "profile": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "profile": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}, "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¥ Member data for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"email": "del@gmail.com", "name": "×œ××—×™×§×”", "profileEmail": "del@gmail.com"}
 LOG  ğŸ‘¥ Member data for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"email": "yonrotem@gmail.com", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "profileEmail": "yonrotem@gmail.com"}
 LOG  âœ… Complete apartment data: {"description": "", "id": "81KfbcHHg4DPPdodHSnm", "invite_code": "98EG2Q", "members": [{"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": "×œ××—×™×§×”", "role": "member"}, {"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "role": "member"}], "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  âœ… Got complete apartment data: {"id": "81KfbcHHg4DPPdodHSnm", "memberCount": 2, "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  âœ… MainTabs: Apartment data loaded successfully
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ§ª checklist query ctx {"aptId": "81KfbcHHg4DPPdodHSnm", "current": "81KfbcHHg4DPPdodHSnm", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ” Turn check debug: {"currentTurnUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "currentUserExists": true, "currentUserId": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "isMyTurn": false, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  âœ… Dashboard: Additional data loaded successfully
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”„ Backfilling cleaning stats from existing data...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 20 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 20 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 20 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Firestore task debug: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "currentUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "queue": ["uRT93ikDjjcKeSFJOGBPKlzKYzl1"], "taskId": "81KfbcHHg4DPPdodHSnm"}
 LOG  ğŸ”„ Getting cleaning stats...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 20 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“Š No cleaning stats found, returning default values
 LOG  ğŸ“Š No existing cleaning data found, initializing with 0
 LOG  âš ï¸ Skipping stats creation - no user data available
 LOG  ğŸ”„ Getting cleaning stats...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 20 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“Š No cleaning stats found, returning default values
 LOG  ğŸ“Š Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  âœ… Dashboard: Essential data loaded successfully
 LOG  ğŸ”„ Settings: Refreshing apartment members on mount
 LOG  ğŸ”„ Refreshing apartment members...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 20 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ  Getting complete apartment data for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ” Getting reliable apartment ID for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 20 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 20 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Checking user profile for current_apartment_id...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 20 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… Found apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”§ Ensuring current_apartment_id before getting apartment data...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 20 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“– Getting document: apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Getting auth headers...
 LOG  â³ Waiting for authentication to be ready...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 20 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Authentication is ready
 LOG  ğŸ” Token info: {"algorithm": "RS256", "email": "del@gmail.com", "expiresAt": "2025-10-09T19:06:59.000Z", "issuedAt": "2025-10-09T18:06:59.000Z", "type": "JWT", "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  âœ… Token project verified: roomies-hub
 LOG  âœ… Auth headers prepared successfully
 LOG  ğŸŒ Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  ğŸ“Š Response status: 200 ()
 LOG  âœ… Document retrieved successfully
 LOG  ğŸ‘¥ Getting apartment members with profiles for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ‘¥ Getting apartment members for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ” Firestore task debug: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "currentUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "queue": ["uRT93ikDjjcKeSFJOGBPKlzKYzl1"], "taskId": "81KfbcHHg4DPPdodHSnm"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 20 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”§ Ensuring current_apartment_id before query...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 20 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 20 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 20 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID for query: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  ğŸ“ Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "81KfbcHHg4DPPdodHSnm"
        }
      }
    }
  }
}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“Š Members query response: 200 ()
 LOG  ğŸ“‹ Raw query results: [{"document": {"createTime": "2025-10-09T18:38:13.485205Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:38:13.485205Z"}, "readTime": "2025-10-09T18:46:50.915356Z"}, {"document": {"createTime": "2025-10-09T11:17:22.223369Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T11:17:22.223369Z"}, "readTime": "2025-10-09T18:46:50.915356Z"}]
 LOG  âœ… Found members: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ“‹ Found memberships: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¤ Unique user IDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ‘¤ Getting user profiles for UIDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 20 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  ğŸ“ Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2",
    "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1"
  ]
}
 LOG  ğŸ“Š Batch get response: 200 ()
 LOG  ğŸ“‹ Raw batch get results: [{"found": {"createTime": "2025-10-09T18:06:59.898608Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:43:50.256103Z"}, "readTime": "2025-10-09T18:46:51.165480Z"}, {"found": {"createTime": "2025-10-09T11:15:16.695442Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T18:35:20.935744Z"}, "readTime": "2025-10-09T18:46:51.165480Z"}]
 LOG  ğŸ‘¤ User profile for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”"}
 LOG  ğŸ‘¤ User profile for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×"}
 LOG  âœ… User profiles loaded: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ“‹ User profiles loaded: {"otmf6ZDcYigiDhogNKzrD4YRyfS2": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "uRT93ikDjjcKeSFJOGBPKlzKYzl1": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}}
 LOG  âœ… Members with profiles: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "profile": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "profile": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}, "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¥ Member data for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"email": "del@gmail.com", "name": "×œ××—×™×§×”", "profileEmail": "del@gmail.com"}
 LOG  ğŸ‘¥ Member data for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"email": "yonrotem@gmail.com", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "profileEmail": "yonrotem@gmail.com"}
 LOG  âœ… Complete apartment data: {"description": "", "id": "81KfbcHHg4DPPdodHSnm", "invite_code": "98EG2Q", "members": [{"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": "×œ××—×™×§×”", "role": "member"}, {"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "role": "member"}], "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  âœ… Got complete apartment data: {"id": "81KfbcHHg4DPPdodHSnm", "memberCount": 2, "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ§ª checklist query ctx {"aptId": "81KfbcHHg4DPPdodHSnm", "current": "81KfbcHHg4DPPdodHSnm", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ” Turn check debug: {"currentTurnUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "currentUserExists": true, "currentUserId": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "isMyTurn": false, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”Š Haptic: selection
 LOG  ğŸ”Š Haptic: selection
 LOG  ğŸ”„ Settings: Refreshing apartment members on mount
 LOG  ğŸ”„ Refreshing apartment members...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 15 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ  Getting complete apartment data for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ” Getting reliable apartment ID for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 15 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 15 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Checking user profile for current_apartment_id...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 15 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… Found apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”§ Ensuring current_apartment_id before getting apartment data...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 15 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“– Getting document: apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Getting auth headers...
 LOG  â³ Waiting for authentication to be ready...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 15 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Authentication is ready
 LOG  ğŸ” Token info: {"algorithm": "RS256", "email": "del@gmail.com", "expiresAt": "2025-10-09T19:06:59.000Z", "issuedAt": "2025-10-09T18:06:59.000Z", "type": "JWT", "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  âœ… Token project verified: roomies-hub
 LOG  âœ… Auth headers prepared successfully
 LOG  ğŸŒ Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  ğŸ”Š Haptic: selection
 LOG  ğŸ” Firestore task debug: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "currentUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "queue": ["uRT93ikDjjcKeSFJOGBPKlzKYzl1"], "taskId": "81KfbcHHg4DPPdodHSnm"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 15 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ“Š Response status: 200 ()
 LOG  âœ… Document retrieved successfully
 LOG  ğŸ‘¥ Getting apartment members with profiles for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ‘¥ Getting apartment members for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 15 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”§ Ensuring current_apartment_id before query...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 15 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 15 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID for query: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  ğŸ“ Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "81KfbcHHg4DPPdodHSnm"
        }
      }
    }
  }
}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“Š Members query response: 200 ()
 LOG  ğŸ“‹ Raw query results: [{"document": {"createTime": "2025-10-09T18:38:13.485205Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:38:13.485205Z"}, "readTime": "2025-10-09T18:51:58.540145Z"}, {"document": {"createTime": "2025-10-09T11:17:22.223369Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T11:17:22.223369Z"}, "readTime": "2025-10-09T18:51:58.540145Z"}]
 LOG  âœ… Found members: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ“‹ Found memberships: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¤ Unique user IDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ‘¤ Getting user profiles for UIDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 15 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  ğŸ“ Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2",
    "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1"
  ]
}
 LOG  ğŸ“Š Batch get response: 200 ()
 LOG  ğŸ“‹ Raw batch get results: [{"found": {"createTime": "2025-10-09T18:06:59.898608Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:43:50.256103Z"}, "readTime": "2025-10-09T18:51:59.442672Z"}, {"found": {"createTime": "2025-10-09T11:15:16.695442Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T18:35:20.935744Z"}, "readTime": "2025-10-09T18:51:59.442672Z"}]
 LOG  ğŸ‘¤ User profile for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”"}
 LOG  ğŸ‘¤ User profile for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×"}
 LOG  âœ… User profiles loaded: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ“‹ User profiles loaded: {"otmf6ZDcYigiDhogNKzrD4YRyfS2": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "uRT93ikDjjcKeSFJOGBPKlzKYzl1": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}}
 LOG  âœ… Members with profiles: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "profile": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "profile": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}, "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¥ Member data for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"email": "del@gmail.com", "name": "×œ××—×™×§×”", "profileEmail": "del@gmail.com"}
 LOG  ğŸ‘¥ Member data for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"email": "yonrotem@gmail.com", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "profileEmail": "yonrotem@gmail.com"}
 LOG  âœ… Complete apartment data: {"description": "", "id": "81KfbcHHg4DPPdodHSnm", "invite_code": "98EG2Q", "members": [{"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": "×œ××—×™×§×”", "role": "member"}, {"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "role": "member"}], "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  âœ… Got complete apartment data: {"id": "81KfbcHHg4DPPdodHSnm", "memberCount": 2, "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ§ª checklist query ctx {"aptId": "81KfbcHHg4DPPdodHSnm", "current": "81KfbcHHg4DPPdodHSnm", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ” Turn check debug: {"currentTurnUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "currentUserExists": true, "currentUserId": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "isMyTurn": false, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”Š Haptic: selection
 LOG  ğŸ”Š Haptic: selection
 LOG  ğŸ”Š Haptic: selection
 LOG  ğŸ”„ Settings: Refreshing apartment members on mount
 LOG  ğŸ”„ Refreshing apartment members...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 14 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ  Getting complete apartment data for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ” Getting reliable apartment ID for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 14 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 14 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Checking user profile for current_apartment_id...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 14 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… Found apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”§ Ensuring current_apartment_id before getting apartment data...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 14 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ” Firestore task debug: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "currentUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "queue": ["uRT93ikDjjcKeSFJOGBPKlzKYzl1"], "taskId": "81KfbcHHg4DPPdodHSnm"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 14 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“– Getting document: apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Getting auth headers...
 LOG  â³ Waiting for authentication to be ready...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 14 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Authentication is ready
 LOG  ğŸ” Token info: {"algorithm": "RS256", "email": "del@gmail.com", "expiresAt": "2025-10-09T19:06:59.000Z", "issuedAt": "2025-10-09T18:06:59.000Z", "type": "JWT", "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  âœ… Token project verified: roomies-hub
 LOG  âœ… Auth headers prepared successfully
 LOG  ğŸŒ Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 14 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“Š Response status: 200 ()
 LOG  âœ… Document retrieved successfully
 LOG  ğŸ‘¥ Getting apartment members with profiles for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ‘¥ Getting apartment members for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 14 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”§ Ensuring current_apartment_id before query...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 14 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ§ª checklist query ctx {"aptId": "81KfbcHHg4DPPdodHSnm", "current": "81KfbcHHg4DPPdodHSnm", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID for query: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  ğŸ“ Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "81KfbcHHg4DPPdodHSnm"
        }
      }
    }
  }
}
 LOG  ğŸ” Turn check debug: {"currentTurnUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "currentUserExists": true, "currentUserId": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "isMyTurn": false, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ“Š Members query response: 200 ()
 LOG  ğŸ“‹ Raw query results: [{"document": {"createTime": "2025-10-09T18:38:13.485205Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:38:13.485205Z"}, "readTime": "2025-10-09T18:52:18.558197Z"}, {"document": {"createTime": "2025-10-09T11:17:22.223369Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T11:17:22.223369Z"}, "readTime": "2025-10-09T18:52:18.558197Z"}]
 LOG  âœ… Found members: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ“‹ Found memberships: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¤ Unique user IDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ‘¤ Getting user profiles for UIDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 14 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  ğŸ“ Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2",
    "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1"
  ]
}
 LOG  ğŸ“Š Batch get response: 200 ()
 LOG  ğŸ“‹ Raw batch get results: [{"found": {"createTime": "2025-10-09T18:06:59.898608Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:43:50.256103Z"}, "readTime": "2025-10-09T18:52:19.315163Z"}, {"found": {"createTime": "2025-10-09T11:15:16.695442Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T18:35:20.935744Z"}, "readTime": "2025-10-09T18:52:19.315163Z"}]
 LOG  ğŸ‘¤ User profile for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”"}
 LOG  ğŸ‘¤ User profile for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×"}
 LOG  âœ… User profiles loaded: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ“‹ User profiles loaded: {"otmf6ZDcYigiDhogNKzrD4YRyfS2": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "uRT93ikDjjcKeSFJOGBPKlzKYzl1": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}}
 LOG  âœ… Members with profiles: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "profile": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "profile": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}, "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¥ Member data for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"email": "del@gmail.com", "name": "×œ××—×™×§×”", "profileEmail": "del@gmail.com"}
 LOG  ğŸ‘¥ Member data for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"email": "yonrotem@gmail.com", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "profileEmail": "yonrotem@gmail.com"}
 LOG  âœ… Complete apartment data: {"description": "", "id": "81KfbcHHg4DPPdodHSnm", "invite_code": "98EG2Q", "members": [{"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": "×œ××—×™×§×”", "role": "member"}, {"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "role": "member"}], "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  âœ… Got complete apartment data: {"id": "81KfbcHHg4DPPdodHSnm", "memberCount": 2, "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”„ Settings: Refreshing apartment members on mount
 LOG  ğŸ”„ Refreshing apartment members...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 13 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ  Getting complete apartment data for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ” Getting reliable apartment ID for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 13 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 13 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Checking user profile for current_apartment_id...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 13 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… Found apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”§ Ensuring current_apartment_id before getting apartment data...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 13 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“– Getting document: apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Getting auth headers...
 LOG  â³ Waiting for authentication to be ready...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 13 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Authentication is ready
 LOG  ğŸ” Token info: {"algorithm": "RS256", "email": "del@gmail.com", "expiresAt": "2025-10-09T19:06:59.000Z", "issuedAt": "2025-10-09T18:06:59.000Z", "type": "JWT", "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  âœ… Token project verified: roomies-hub
 LOG  âœ… Auth headers prepared successfully
 LOG  ğŸŒ Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  ğŸ” Firestore task debug: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "currentUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "queue": ["uRT93ikDjjcKeSFJOGBPKlzKYzl1"], "taskId": "81KfbcHHg4DPPdodHSnm"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 13 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ“Š Response status: 200 ()
 LOG  âœ… Document retrieved successfully
 LOG  ğŸ‘¥ Getting apartment members with profiles for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ‘¥ Getting apartment members for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 13 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”§ Ensuring current_apartment_id before query...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 13 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 13 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID for query: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  ğŸ“ Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "81KfbcHHg4DPPdodHSnm"
        }
      }
    }
  }
}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“Š Members query response: 200 ()
 LOG  ğŸ“‹ Raw query results: [{"document": {"createTime": "2025-10-09T18:38:13.485205Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:38:13.485205Z"}, "readTime": "2025-10-09T18:53:12.109142Z"}, {"document": {"createTime": "2025-10-09T11:17:22.223369Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T11:17:22.223369Z"}, "readTime": "2025-10-09T18:53:12.109142Z"}]
 LOG  âœ… Found members: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ“‹ Found memberships: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¤ Unique user IDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ‘¤ Getting user profiles for UIDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 13 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  ğŸ“ Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2",
    "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1"
  ]
}
 LOG  ğŸ“Š Batch get response: 200 ()
 LOG  ğŸ“‹ Raw batch get results: [{"found": {"createTime": "2025-10-09T18:06:59.898608Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:43:50.256103Z"}, "readTime": "2025-10-09T18:53:12.827851Z"}, {"found": {"createTime": "2025-10-09T11:15:16.695442Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T18:35:20.935744Z"}, "readTime": "2025-10-09T18:53:12.827851Z"}]
 LOG  ğŸ‘¤ User profile for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”"}
 LOG  ğŸ‘¤ User profile for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×"}
 LOG  âœ… User profiles loaded: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ“‹ User profiles loaded: {"otmf6ZDcYigiDhogNKzrD4YRyfS2": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "uRT93ikDjjcKeSFJOGBPKlzKYzl1": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}}
 LOG  âœ… Members with profiles: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "profile": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "profile": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}, "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¥ Member data for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"email": "del@gmail.com", "name": "×œ××—×™×§×”", "profileEmail": "del@gmail.com"}
 LOG  ğŸ‘¥ Member data for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"email": "yonrotem@gmail.com", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "profileEmail": "yonrotem@gmail.com"}
 LOG  âœ… Complete apartment data: {"description": "", "id": "81KfbcHHg4DPPdodHSnm", "invite_code": "98EG2Q", "members": [{"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": "×œ××—×™×§×”", "role": "member"}, {"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "role": "member"}], "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  âœ… Got complete apartment data: {"id": "81KfbcHHg4DPPdodHSnm", "memberCount": 2, "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ§ª checklist query ctx {"aptId": "81KfbcHHg4DPPdodHSnm", "current": "81KfbcHHg4DPPdodHSnm", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ” Turn check debug: {"currentTurnUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "currentUserExists": true, "currentUserId": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "isMyTurn": false, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”„ Settings: Refreshing apartment members on mount
 LOG  ğŸ”„ Refreshing apartment members...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 13 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ  Getting complete apartment data for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ” Getting reliable apartment ID for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 13 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 13 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Checking user profile for current_apartment_id...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 13 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… Found apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”§ Ensuring current_apartment_id before getting apartment data...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 13 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ” Firestore task debug: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "currentUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "queue": ["uRT93ikDjjcKeSFJOGBPKlzKYzl1"], "taskId": "81KfbcHHg4DPPdodHSnm"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 13 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“– Getting document: apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Getting auth headers...
 LOG  â³ Waiting for authentication to be ready...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 13 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Authentication is ready
 LOG  ğŸ” Token info: {"algorithm": "RS256", "email": "del@gmail.com", "expiresAt": "2025-10-09T19:06:59.000Z", "issuedAt": "2025-10-09T18:06:59.000Z", "type": "JWT", "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  âœ… Token project verified: roomies-hub
 LOG  âœ… Auth headers prepared successfully
 LOG  ğŸŒ Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 13 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ“Š Response status: 200 ()
 LOG  âœ… Document retrieved successfully
 LOG  ğŸ‘¥ Getting apartment members with profiles for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ‘¥ Getting apartment members for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 13 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”§ Ensuring current_apartment_id before query...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 13 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID for query: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  ğŸ“ Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "81KfbcHHg4DPPdodHSnm"
        }
      }
    }
  }
}
 LOG  ğŸ“Š Members query response: 200 ()
 LOG  ğŸ“‹ Raw query results: [{"document": {"createTime": "2025-10-09T18:38:13.485205Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:38:13.485205Z"}, "readTime": "2025-10-09T18:53:33.713160Z"}, {"document": {"createTime": "2025-10-09T11:17:22.223369Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T11:17:22.223369Z"}, "readTime": "2025-10-09T18:53:33.713160Z"}]
 LOG  âœ… Found members: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ“‹ Found memberships: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¤ Unique user IDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ‘¤ Getting user profiles for UIDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 13 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  ğŸ“ Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2",
    "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1"
  ]
}
 LOG  ğŸ“Š Batch get response: 200 ()
 LOG  ğŸ“‹ Raw batch get results: [{"found": {"createTime": "2025-10-09T18:06:59.898608Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:43:50.256103Z"}, "readTime": "2025-10-09T18:53:34.365681Z"}, {"found": {"createTime": "2025-10-09T11:15:16.695442Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T18:35:20.935744Z"}, "readTime": "2025-10-09T18:53:34.365681Z"}]
 LOG  ğŸ‘¤ User profile for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”"}
 LOG  ğŸ‘¤ User profile for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×"}
 LOG  âœ… User profiles loaded: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ“‹ User profiles loaded: {"otmf6ZDcYigiDhogNKzrD4YRyfS2": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "uRT93ikDjjcKeSFJOGBPKlzKYzl1": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}}
 LOG  âœ… Members with profiles: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "profile": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "profile": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}, "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¥ Member data for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"email": "del@gmail.com", "name": "×œ××—×™×§×”", "profileEmail": "del@gmail.com"}
 LOG  ğŸ‘¥ Member data for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"email": "yonrotem@gmail.com", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "profileEmail": "yonrotem@gmail.com"}
 LOG  âœ… Complete apartment data: {"description": "", "id": "81KfbcHHg4DPPdodHSnm", "invite_code": "98EG2Q", "members": [{"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": "×œ××—×™×§×”", "role": "member"}, {"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "role": "member"}], "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  âœ… Got complete apartment data: {"id": "81KfbcHHg4DPPdodHSnm", "memberCount": 2, "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ§ª checklist query ctx {"aptId": "81KfbcHHg4DPPdodHSnm", "current": "81KfbcHHg4DPPdodHSnm", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ” Turn check debug: {"currentTurnUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "currentUserExists": true, "currentUserId": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "isMyTurn": false, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”„ Settings: Refreshing apartment members on mount
 LOG  ğŸ”„ Refreshing apartment members...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 13 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ  Getting complete apartment data for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ” Getting reliable apartment ID for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 13 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 13 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Checking user profile for current_apartment_id...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 13 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… Found apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”§ Ensuring current_apartment_id before getting apartment data...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 13 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“– Getting document: apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Getting auth headers...
 LOG  â³ Waiting for authentication to be ready...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 13 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Authentication is ready
 LOG  ğŸ” Token info: {"algorithm": "RS256", "email": "del@gmail.com", "expiresAt": "2025-10-09T19:06:59.000Z", "issuedAt": "2025-10-09T18:06:59.000Z", "type": "JWT", "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  âœ… Token project verified: roomies-hub
 LOG  âœ… Auth headers prepared successfully
 LOG  ğŸŒ Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  ğŸ“Š Response status: 200 ()
 LOG  âœ… Document retrieved successfully
 LOG  ğŸ‘¥ Getting apartment members with profiles for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ‘¥ Getting apartment members for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ” Firestore task debug: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "currentUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "queue": ["uRT93ikDjjcKeSFJOGBPKlzKYzl1"], "taskId": "81KfbcHHg4DPPdodHSnm"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 13 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”§ Ensuring current_apartment_id before query...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 13 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 13 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 13 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID for query: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  ğŸ“ Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "81KfbcHHg4DPPdodHSnm"
        }
      }
    }
  }
}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“Š Members query response: 200 ()
 LOG  ğŸ“‹ Raw query results: [{"document": {"createTime": "2025-10-09T18:38:13.485205Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:38:13.485205Z"}, "readTime": "2025-10-09T18:53:39.602230Z"}, {"document": {"createTime": "2025-10-09T11:17:22.223369Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T11:17:22.223369Z"}, "readTime": "2025-10-09T18:53:39.602230Z"}]
 LOG  âœ… Found members: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ“‹ Found memberships: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¤ Unique user IDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ‘¤ Getting user profiles for UIDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 13 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  ğŸ“ Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2",
    "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1"
  ]
}
 LOG  ğŸ“Š Batch get response: 200 ()
 LOG  ğŸ“‹ Raw batch get results: [{"found": {"createTime": "2025-10-09T18:06:59.898608Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:43:50.256103Z"}, "readTime": "2025-10-09T18:53:40.367539Z"}, {"found": {"createTime": "2025-10-09T11:15:16.695442Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T18:35:20.935744Z"}, "readTime": "2025-10-09T18:53:40.367539Z"}]
 LOG  ğŸ‘¤ User profile for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”"}
 LOG  ğŸ‘¤ User profile for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×"}
 LOG  âœ… User profiles loaded: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ“‹ User profiles loaded: {"otmf6ZDcYigiDhogNKzrD4YRyfS2": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "uRT93ikDjjcKeSFJOGBPKlzKYzl1": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}}
 LOG  âœ… Members with profiles: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "profile": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "profile": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}, "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¥ Member data for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"email": "del@gmail.com", "name": "×œ××—×™×§×”", "profileEmail": "del@gmail.com"}
 LOG  ğŸ‘¥ Member data for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"email": "yonrotem@gmail.com", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "profileEmail": "yonrotem@gmail.com"}
 LOG  âœ… Complete apartment data: {"description": "", "id": "81KfbcHHg4DPPdodHSnm", "invite_code": "98EG2Q", "members": [{"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": "×œ××—×™×§×”", "role": "member"}, {"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "role": "member"}], "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  âœ… Got complete apartment data: {"id": "81KfbcHHg4DPPdodHSnm", "memberCount": 2, "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ§ª checklist query ctx {"aptId": "81KfbcHHg4DPPdodHSnm", "current": "81KfbcHHg4DPPdodHSnm", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ” Turn check debug: {"currentTurnUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "currentUserExists": true, "currentUserId": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "isMyTurn": false, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”„ Settings: Refreshing apartment members on mount
 LOG  ğŸ”„ Refreshing apartment members...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 12 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ  Getting complete apartment data for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ” Getting reliable apartment ID for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 12 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 12 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Checking user profile for current_apartment_id...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 12 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… Found apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”§ Ensuring current_apartment_id before getting apartment data...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 12 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ” Firestore task debug: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "currentUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "queue": ["uRT93ikDjjcKeSFJOGBPKlzKYzl1"], "taskId": "81KfbcHHg4DPPdodHSnm"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 12 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“– Getting document: apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Getting auth headers...
 LOG  â³ Waiting for authentication to be ready...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 12 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 12 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Authentication is ready
 LOG  ğŸ” Token info: {"algorithm": "RS256", "email": "del@gmail.com", "expiresAt": "2025-10-09T19:06:59.000Z", "issuedAt": "2025-10-09T18:06:59.000Z", "type": "JWT", "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  âœ… Token project verified: roomies-hub
 LOG  âœ… Auth headers prepared successfully
 LOG  ğŸŒ Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“Š Response status: 200 ()
 LOG  âœ… Document retrieved successfully
 LOG  ğŸ‘¥ Getting apartment members with profiles for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ‘¥ Getting apartment members for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 12 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”§ Ensuring current_apartment_id before query...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 12 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ§ª checklist query ctx {"aptId": "81KfbcHHg4DPPdodHSnm", "current": "81KfbcHHg4DPPdodHSnm", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ” Turn check debug: {"currentTurnUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "currentUserExists": true, "currentUserId": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "isMyTurn": false, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID for query: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  ğŸ“ Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "81KfbcHHg4DPPdodHSnm"
        }
      }
    }
  }
}
 LOG  ğŸ“Š Members query response: 200 ()
 LOG  ğŸ“‹ Raw query results: [{"document": {"createTime": "2025-10-09T18:38:13.485205Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:38:13.485205Z"}, "readTime": "2025-10-09T18:54:51.820258Z"}, {"document": {"createTime": "2025-10-09T11:17:22.223369Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T11:17:22.223369Z"}, "readTime": "2025-10-09T18:54:51.820258Z"}]
 LOG  âœ… Found members: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ“‹ Found memberships: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¤ Unique user IDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ‘¤ Getting user profiles for UIDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 12 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  ğŸ“ Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2",
    "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1"
  ]
}
 LOG  ğŸ“Š Batch get response: 200 ()
 LOG  ğŸ“‹ Raw batch get results: [{"found": {"createTime": "2025-10-09T18:06:59.898608Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:43:50.256103Z"}, "readTime": "2025-10-09T18:54:52.562154Z"}, {"found": {"createTime": "2025-10-09T11:15:16.695442Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T18:35:20.935744Z"}, "readTime": "2025-10-09T18:54:52.562154Z"}]
 LOG  ğŸ‘¤ User profile for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”"}
 LOG  ğŸ‘¤ User profile for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×"}
 LOG  âœ… User profiles loaded: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ“‹ User profiles loaded: {"otmf6ZDcYigiDhogNKzrD4YRyfS2": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "uRT93ikDjjcKeSFJOGBPKlzKYzl1": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}}
 LOG  âœ… Members with profiles: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "profile": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "profile": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}, "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¥ Member data for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"email": "del@gmail.com", "name": "×œ××—×™×§×”", "profileEmail": "del@gmail.com"}
 LOG  ğŸ‘¥ Member data for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"email": "yonrotem@gmail.com", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "profileEmail": "yonrotem@gmail.com"}
 LOG  âœ… Complete apartment data: {"description": "", "id": "81KfbcHHg4DPPdodHSnm", "invite_code": "98EG2Q", "members": [{"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": "×œ××—×™×§×”", "role": "member"}, {"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "role": "member"}], "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  âœ… Got complete apartment data: {"id": "81KfbcHHg4DPPdodHSnm", "memberCount": 2, "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”„ Settings: Refreshing apartment members on mount
 LOG  ğŸ”„ Refreshing apartment members...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 11 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ  Getting complete apartment data for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ” Getting reliable apartment ID for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 11 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 11 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Checking user profile for current_apartment_id...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 11 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… Found apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”§ Ensuring current_apartment_id before getting apartment data...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 11 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ” Firestore task debug: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "currentUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "queue": ["uRT93ikDjjcKeSFJOGBPKlzKYzl1"], "taskId": "81KfbcHHg4DPPdodHSnm"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 11 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 11 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“– Getting document: apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Getting auth headers...
 LOG  â³ Waiting for authentication to be ready...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 11 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Authentication is ready
 LOG  ğŸ” Token info: {"algorithm": "RS256", "email": "del@gmail.com", "expiresAt": "2025-10-09T19:06:59.000Z", "issuedAt": "2025-10-09T18:06:59.000Z", "type": "JWT", "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  âœ… Token project verified: roomies-hub
 LOG  âœ… Auth headers prepared successfully
 LOG  ğŸŒ Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“Š Response status: 200 ()
 LOG  âœ… Document retrieved successfully
 LOG  ğŸ‘¥ Getting apartment members with profiles for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ‘¥ Getting apartment members for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 11 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”§ Ensuring current_apartment_id before query...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 11 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ§ª checklist query ctx {"aptId": "81KfbcHHg4DPPdodHSnm", "current": "81KfbcHHg4DPPdodHSnm", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID for query: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  ğŸ“ Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "81KfbcHHg4DPPdodHSnm"
        }
      }
    }
  }
}
 LOG  ğŸ” Turn check debug: {"currentTurnUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "currentUserExists": true, "currentUserId": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "isMyTurn": false, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ“Š Members query response: 200 ()
 LOG  ğŸ“‹ Raw query results: [{"document": {"createTime": "2025-10-09T18:38:13.485205Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:38:13.485205Z"}, "readTime": "2025-10-09T18:55:36.597508Z"}, {"document": {"createTime": "2025-10-09T11:17:22.223369Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T11:17:22.223369Z"}, "readTime": "2025-10-09T18:55:36.597508Z"}]
 LOG  âœ… Found members: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ“‹ Found memberships: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¤ Unique user IDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ‘¤ Getting user profiles for UIDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 11 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  ğŸ“ Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2",
    "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1"
  ]
}
 LOG  ğŸ“Š Batch get response: 200 ()
 LOG  ğŸ“‹ Raw batch get results: [{"found": {"createTime": "2025-10-09T18:06:59.898608Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:43:50.256103Z"}, "readTime": "2025-10-09T18:55:37.352326Z"}, {"found": {"createTime": "2025-10-09T11:15:16.695442Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T18:35:20.935744Z"}, "readTime": "2025-10-09T18:55:37.352326Z"}]
 LOG  ğŸ‘¤ User profile for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”"}
 LOG  ğŸ‘¤ User profile for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×"}
 LOG  âœ… User profiles loaded: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ“‹ User profiles loaded: {"otmf6ZDcYigiDhogNKzrD4YRyfS2": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "uRT93ikDjjcKeSFJOGBPKlzKYzl1": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}}
 LOG  âœ… Members with profiles: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "profile": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "profile": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}, "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¥ Member data for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"email": "del@gmail.com", "name": "×œ××—×™×§×”", "profileEmail": "del@gmail.com"}
 LOG  ğŸ‘¥ Member data for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"email": "yonrotem@gmail.com", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "profileEmail": "yonrotem@gmail.com"}
 LOG  âœ… Complete apartment data: {"description": "", "id": "81KfbcHHg4DPPdodHSnm", "invite_code": "98EG2Q", "members": [{"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": "×œ××—×™×§×”", "role": "member"}, {"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "role": "member"}], "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  âœ… Got complete apartment data: {"id": "81KfbcHHg4DPPdodHSnm", "memberCount": 2, "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
iOS ./index.ts â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  0.0% (0/1)
iOS Bundled 90ms index.ts (1 module)
 LOG  ğŸ”§ Firestore debug logging enabled
 ERROR  i18next::pluralResolver: Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.
 LOG  [index] Project ID is:  6d6cd6da-7505-42d7-91fd-2928c6600b00
 LOG  ğŸš€ Initializing Firebase notifications for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸš€ Initializing Firebase Web notification service...
 LOG  ğŸ“± Mobile platform - using mock token for testing
 LOG  ğŸ“± Mock FCM Token (for testing): mock_fcm_token_1760036251147_0gsfv1ik7
 LOG  ğŸ” Getting auth headers...
 LOG  â³ Waiting for authentication to be ready...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 9 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Authentication is ready
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”„ Dashboard: Loading all data from Firestore...
 LOG  ğŸ”„ Refreshing apartment members...
 LOG  ğŸ”„ Dashboard: Refreshing data on focus...
 LOG  ğŸ”„ Getting cleaning stats...
 LOG  ğŸ  MainTabs: Loading apartment data for 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”„ Refreshing apartment members...
 LOG  ğŸ”„ loadCleaningChecklist already in progress, skipping...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 9 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ” Token info: {"algorithm": "RS256", "email": "del@gmail.com", "expiresAt": "2025-10-09T19:06:59.000Z", "issuedAt": "2025-10-09T18:06:59.000Z", "type": "JWT", "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  âœ… Token project verified: roomies-hub
 LOG  âœ… Auth headers prepared successfully
 LOG  ğŸ” PATCH request details: {"body": "{
  \"fields\": {
    \"fcm_token\": {
      \"stringValue\": \"mock_fcm_token_1760036251147_0gsfv1ik7\"
    },
    \"device_type\": {
      \"stringValue\": \"ios\"
    },
    \"last_seen\": {
      \"stringValue\": \"2025-10-09T18:57:31.147Z\"
    }
  }
}", "updateMaskFields": ["fcm_token", "device_type", "last_seen"], "url": "https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2?updateMask.fieldPaths=fcm_token&updateMask.fieldPaths=device_type&updateMask.fieldPaths=last_seen"}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 9 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”„ No current session, attempting to restore...
 LOG  Attempting to restore user session...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 9 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”„ No current session, attempting to restore...
 LOG  Attempting to restore user session...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 9 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”„ No current session, attempting to restore...
 LOG  Attempting to restore user session...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 9 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”„ No current session, attempting to restore...
 LOG  Attempting to restore user session...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 9 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”„ No current session, attempting to restore...
 LOG  Attempting to restore user session...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 9 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”„ No current session, attempting to restore...
 LOG  Attempting to restore user session...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 9 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”„ No current session, attempting to restore...
 LOG  Attempting to restore user session...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 9 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”„ No current session, attempting to restore...
 LOG  Attempting to restore user session...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 9 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”„ No current session, attempting to restore...
 LOG  Attempting to restore user session...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 9 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”„ No current session, attempting to restore...
 LOG  Attempting to restore user session...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 9 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 9 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 9 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 9 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 9 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 9 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 9 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 9 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 9 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 9 minutes
 LOG  âœ… ID token is valid
 LOG  Session restoration check: {"hasIdToken": true, "hasUserEmail": true, "hasUserId": true}
 LOG  Session restoration check: {"hasIdToken": true, "hasUserEmail": true, "hasUserId": true}
 LOG  Session restoration check: {"hasIdToken": true, "hasUserEmail": true, "hasUserId": true}
 LOG  Session restoration check: {"hasIdToken": true, "hasUserEmail": true, "hasUserId": true}
 LOG  Session restoration check: {"hasIdToken": true, "hasUserEmail": true, "hasUserId": true}
 LOG  Session restoration check: {"hasIdToken": true, "hasUserEmail": true, "hasUserId": true}
 LOG  Session restoration check: {"hasIdToken": true, "hasUserEmail": true, "hasUserId": true}
 LOG  Session restoration check: {"hasIdToken": true, "hasUserEmail": true, "hasUserId": true}
 LOG  Session restoration check: {"hasIdToken": true, "hasUserEmail": true, "hasUserId": true}
 LOG  Session restoration check: {"hasIdToken": true, "hasUserEmail": true, "hasUserId": true}
 LOG  User session restored successfully
 LOG  ğŸ”‘ Getting current ID token...
 LOG  User session restored successfully
 LOG  ğŸ”‘ Getting current ID token...
 LOG  User session restored successfully
 LOG  ğŸ”‘ Getting current ID token...
 LOG  User session restored successfully
 LOG  ğŸ”‘ Getting current ID token...
 LOG  User session restored successfully
 LOG  ğŸ”‘ Getting current ID token...
 LOG  User session restored successfully
 LOG  ğŸ”‘ Getting current ID token...
 LOG  User session restored successfully
 LOG  ğŸ”‘ Getting current ID token...
 LOG  User session restored successfully
 LOG  ğŸ”‘ Getting current ID token...
 LOG  User session restored successfully
 LOG  ğŸ”‘ Getting current ID token...
 LOG  User session restored successfully
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 9 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session restored: {"tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ  Getting complete apartment data for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ” Getting reliable apartment ID for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 9 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session restored: {"tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 9 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session restored: {"tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 9 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session restored: {"tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 9 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session restored: {"tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 9 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session restored: {"tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ  Getting complete apartment data for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ” Getting reliable apartment ID for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 9 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session restored: {"tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 9 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session restored: {"tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 9 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session restored: {"tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 9 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session restored: {"tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 9 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Checking user profile for current_apartment_id...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 9 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Checking user profile for current_apartment_id...
 LOG  âœ… FCM token saved to Firestore
 LOG  ğŸ“± Mobile platform - notification listeners not available in Expo Go
 LOG  âœ… Firebase Web notification service initialized successfully
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… Found apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”§ Ensuring current_apartment_id before getting apartment data...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… Found apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”§ Ensuring current_apartment_id before getting apartment data...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 9 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 9 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 9 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 9 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 9 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ“Š No cleaning stats found, returning default values
 LOG  ğŸ“Š Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“– Getting document: apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Getting auth headers...
 LOG  â³ Waiting for authentication to be ready...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“– Getting document: apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Getting auth headers...
 LOG  â³ Waiting for authentication to be ready...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 9 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Authentication is ready
 LOG  ğŸ” Token info: {"algorithm": "RS256", "email": "del@gmail.com", "expiresAt": "2025-10-09T19:06:59.000Z", "issuedAt": "2025-10-09T18:06:59.000Z", "type": "JWT", "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  âœ… Token project verified: roomies-hub
 LOG  âœ… Auth headers prepared successfully
 LOG  ğŸŒ Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 9 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Authentication is ready
 LOG  ğŸ” Token info: {"algorithm": "RS256", "email": "del@gmail.com", "expiresAt": "2025-10-09T19:06:59.000Z", "issuedAt": "2025-10-09T18:06:59.000Z", "type": "JWT", "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  âœ… Token project verified: roomies-hub
 LOG  âœ… Auth headers prepared successfully
 LOG  ğŸŒ Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  ğŸ” Firestore task debug: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "currentUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "queue": ["uRT93ikDjjcKeSFJOGBPKlzKYzl1"], "taskId": "81KfbcHHg4DPPdodHSnm"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ“Š Response status: 200 ()
 LOG  ğŸ” Firestore task debug: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "currentUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "queue": ["uRT93ikDjjcKeSFJOGBPKlzKYzl1"], "taskId": "81KfbcHHg4DPPdodHSnm"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  âœ… Document retrieved successfully
 LOG  ğŸ‘¥ Getting apartment members with profiles for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ‘¥ Getting apartment members for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 9 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”§ Ensuring current_apartment_id before query...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 9 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ” Firestore task debug: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "currentUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "queue": ["uRT93ikDjjcKeSFJOGBPKlzKYzl1"], "taskId": "81KfbcHHg4DPPdodHSnm"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 9 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ“Š Response status: 200 ()
 LOG  âœ… Document retrieved successfully
 LOG  ğŸ‘¥ Getting apartment members with profiles for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ‘¥ Getting apartment members for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 9 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”§ Ensuring current_apartment_id before query...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 9 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID for query: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  ğŸ“ Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "81KfbcHHg4DPPdodHSnm"
        }
      }
    }
  }
}
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID for query: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  ğŸ“ Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "81KfbcHHg4DPPdodHSnm"
        }
      }
    }
  }
}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 9 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ“Š Members query response: 200 ()
 LOG  ğŸ“‹ Raw query results: [{"document": {"createTime": "2025-10-09T18:38:13.485205Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:38:13.485205Z"}, "readTime": "2025-10-09T18:57:35.595909Z"}, {"document": {"createTime": "2025-10-09T11:17:22.223369Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T11:17:22.223369Z"}, "readTime": "2025-10-09T18:57:35.595909Z"}]
 LOG  âœ… Found members: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ“‹ Found memberships: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¤ Unique user IDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ‘¤ Getting user profiles for UIDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 9 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  ğŸ“ Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2",
    "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1"
  ]
}
 LOG  ğŸ“Š Members query response: 200 ()
 LOG  ğŸ“‹ Raw query results: [{"document": {"createTime": "2025-10-09T18:38:13.485205Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:38:13.485205Z"}, "readTime": "2025-10-09T18:57:35.802691Z"}, {"document": {"createTime": "2025-10-09T11:17:22.223369Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T11:17:22.223369Z"}, "readTime": "2025-10-09T18:57:35.802691Z"}]
 LOG  âœ… Found members: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ“‹ Found memberships: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¤ Unique user IDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ‘¤ Getting user profiles for UIDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 9 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  ğŸ“ Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2",
    "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1"
  ]
}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“Š Batch get response: 200 ()
 LOG  ğŸ“Š Batch get response: 200 ()
 LOG  ğŸ“‹ Raw batch get results: [{"found": {"createTime": "2025-10-09T18:06:59.898608Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:57:31.611207Z"}, "readTime": "2025-10-09T18:57:36.550229Z"}, {"found": {"createTime": "2025-10-09T11:15:16.695442Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T18:35:20.935744Z"}, "readTime": "2025-10-09T18:57:36.550229Z"}]
 LOG  ğŸ‘¤ User profile for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”"}
 LOG  ğŸ‘¤ User profile for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×"}
 LOG  âœ… User profiles loaded: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ“‹ User profiles loaded: {"otmf6ZDcYigiDhogNKzrD4YRyfS2": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "uRT93ikDjjcKeSFJOGBPKlzKYzl1": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}}
 LOG  âœ… Members with profiles: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "profile": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "profile": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}, "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¥ Member data for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"email": "del@gmail.com", "name": "×œ××—×™×§×”", "profileEmail": "del@gmail.com"}
 LOG  ğŸ‘¥ Member data for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"email": "yonrotem@gmail.com", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "profileEmail": "yonrotem@gmail.com"}
 LOG  âœ… Complete apartment data: {"description": "", "id": "81KfbcHHg4DPPdodHSnm", "invite_code": "98EG2Q", "members": [{"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": "×œ××—×™×§×”", "role": "member"}, {"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "role": "member"}], "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  âœ… Got complete apartment data: {"id": "81KfbcHHg4DPPdodHSnm", "memberCount": 2, "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ“‹ Raw batch get results: [{"found": {"createTime": "2025-10-09T18:06:59.898608Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:57:31.611207Z"}, "readTime": "2025-10-09T18:57:36.575627Z"}, {"found": {"createTime": "2025-10-09T11:15:16.695442Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T18:35:20.935744Z"}, "readTime": "2025-10-09T18:57:36.575627Z"}]
 LOG  ğŸ‘¤ User profile for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”"}
 LOG  ğŸ‘¤ User profile for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×"}
 LOG  âœ… User profiles loaded: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ“‹ User profiles loaded: {"otmf6ZDcYigiDhogNKzrD4YRyfS2": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "uRT93ikDjjcKeSFJOGBPKlzKYzl1": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}}
 LOG  âœ… Members with profiles: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "profile": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "profile": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}, "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¥ Member data for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"email": "del@gmail.com", "name": "×œ××—×™×§×”", "profileEmail": "del@gmail.com"}
 LOG  ğŸ‘¥ Member data for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"email": "yonrotem@gmail.com", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "profileEmail": "yonrotem@gmail.com"}
 LOG  âœ… Complete apartment data: {"description": "", "id": "81KfbcHHg4DPPdodHSnm", "invite_code": "98EG2Q", "members": [{"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": "×œ××—×™×§×”", "role": "member"}, {"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "role": "member"}], "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  âœ… Got complete apartment data: {"id": "81KfbcHHg4DPPdodHSnm", "memberCount": 2, "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  âœ… MainTabs: Apartment data loaded successfully
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 9 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 9 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ§ª checklist query ctx {"aptId": "81KfbcHHg4DPPdodHSnm", "current": "81KfbcHHg4DPPdodHSnm", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ” Turn check debug: {"currentTurnUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "currentUserExists": true, "currentUserId": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "isMyTurn": false, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  âœ… Dashboard: Additional data loaded successfully
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”„ Backfilling cleaning stats from existing data...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 9 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 9 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 9 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Firestore task debug: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "currentUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "queue": ["uRT93ikDjjcKeSFJOGBPKlzKYzl1"], "taskId": "81KfbcHHg4DPPdodHSnm"}
 LOG  ğŸ”„ Getting cleaning stats...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 9 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“Š No cleaning stats found, returning default values
 LOG  ğŸ“Š No existing cleaning data found, initializing with 0
 LOG  âš ï¸ Skipping stats creation - no user data available
 LOG  ğŸ”„ Getting cleaning stats...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 9 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“Š No cleaning stats found, returning default values
 LOG  ğŸ“Š Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  âœ… Dashboard: Essential data loaded successfully
 LOG  ğŸ”„ Settings: Refreshing apartment members on mount
 LOG  ğŸ”„ Refreshing apartment members...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 9 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ  Getting complete apartment data for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ” Getting reliable apartment ID for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 9 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 9 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Checking user profile for current_apartment_id...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 9 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… Found apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”§ Ensuring current_apartment_id before getting apartment data...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 9 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ” Firestore task debug: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "currentUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "queue": ["uRT93ikDjjcKeSFJOGBPKlzKYzl1"], "taskId": "81KfbcHHg4DPPdodHSnm"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 9 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“– Getting document: apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Getting auth headers...
 LOG  â³ Waiting for authentication to be ready...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 9 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Authentication is ready
 LOG  ğŸ” Token info: {"algorithm": "RS256", "email": "del@gmail.com", "expiresAt": "2025-10-09T19:06:59.000Z", "issuedAt": "2025-10-09T18:06:59.000Z", "type": "JWT", "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  âœ… Token project verified: roomies-hub
 LOG  âœ… Auth headers prepared successfully
 LOG  ğŸŒ Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 9 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”Š Haptic: selection
 LOG  ğŸ“Š Response status: 200 ()
 LOG  âœ… Document retrieved successfully
 LOG  ğŸ‘¥ Getting apartment members with profiles for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ‘¥ Getting apartment members for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 9 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”§ Ensuring current_apartment_id before query...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 9 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID for query: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  ğŸ“ Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "81KfbcHHg4DPPdodHSnm"
        }
      }
    }
  }
}
 LOG  ğŸ”Š Haptic: selection
 LOG  ğŸ“Š Members query response: 200 ()
 LOG  ğŸ“‹ Raw query results: [{"document": {"createTime": "2025-10-09T18:38:13.485205Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:38:13.485205Z"}, "readTime": "2025-10-09T18:57:56.873628Z"}, {"document": {"createTime": "2025-10-09T11:17:22.223369Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T11:17:22.223369Z"}, "readTime": "2025-10-09T18:57:56.873628Z"}]
 LOG  âœ… Found members: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ“‹ Found memberships: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¤ Unique user IDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ‘¤ Getting user profiles for UIDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ§ª checklist query ctx {"aptId": "81KfbcHHg4DPPdodHSnm", "current": "81KfbcHHg4DPPdodHSnm", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 9 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  ğŸ“ Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2",
    "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1"
  ]
}
 LOG  ğŸ” Turn check debug: {"currentTurnUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "currentUserExists": true, "currentUserId": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "isMyTurn": false, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ“Š Batch get response: 200 ()
 LOG  ğŸ“‹ Raw batch get results: [{"found": {"createTime": "2025-10-09T18:06:59.898608Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:57:31.611207Z"}, "readTime": "2025-10-09T18:57:57.865660Z"}, {"found": {"createTime": "2025-10-09T11:15:16.695442Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T18:35:20.935744Z"}, "readTime": "2025-10-09T18:57:57.865660Z"}]
 LOG  ğŸ‘¤ User profile for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”"}
 LOG  ğŸ‘¤ User profile for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×"}
 LOG  âœ… User profiles loaded: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ“‹ User profiles loaded: {"otmf6ZDcYigiDhogNKzrD4YRyfS2": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "uRT93ikDjjcKeSFJOGBPKlzKYzl1": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}}
 LOG  âœ… Members with profiles: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "profile": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "profile": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}, "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¥ Member data for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"email": "del@gmail.com", "name": "×œ××—×™×§×”", "profileEmail": "del@gmail.com"}
 LOG  ğŸ‘¥ Member data for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"email": "yonrotem@gmail.com", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "profileEmail": "yonrotem@gmail.com"}
 LOG  âœ… Complete apartment data: {"description": "", "id": "81KfbcHHg4DPPdodHSnm", "invite_code": "98EG2Q", "members": [{"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": "×œ××—×™×§×”", "role": "member"}, {"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "role": "member"}], "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  âœ… Got complete apartment data: {"id": "81KfbcHHg4DPPdodHSnm", "memberCount": 2, "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”„ Settings: Refreshing apartment members on mount
 LOG  ğŸ”„ Refreshing apartment members...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 8 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ  Getting complete apartment data for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ” Getting reliable apartment ID for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 8 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 8 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Checking user profile for current_apartment_id...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 8 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… Found apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”§ Ensuring current_apartment_id before getting apartment data...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 8 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“– Getting document: apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Getting auth headers...
 LOG  â³ Waiting for authentication to be ready...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 8 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Authentication is ready
 LOG  ğŸ” Token info: {"algorithm": "RS256", "email": "del@gmail.com", "expiresAt": "2025-10-09T19:06:59.000Z", "issuedAt": "2025-10-09T18:06:59.000Z", "type": "JWT", "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  âœ… Token project verified: roomies-hub
 LOG  âœ… Auth headers prepared successfully
 LOG  ğŸŒ Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  ğŸ” Firestore task debug: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "currentUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "queue": ["uRT93ikDjjcKeSFJOGBPKlzKYzl1"], "taskId": "81KfbcHHg4DPPdodHSnm"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 8 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ“Š Response status: 200 ()
 LOG  âœ… Document retrieved successfully
 LOG  ğŸ‘¥ Getting apartment members with profiles for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ‘¥ Getting apartment members for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 8 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”§ Ensuring current_apartment_id before query...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 8 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 8 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID for query: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  ğŸ“ Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "81KfbcHHg4DPPdodHSnm"
        }
      }
    }
  }
}
 LOG  ğŸ“Š Members query response: 200 ()
 LOG  ğŸ“‹ Raw query results: [{"document": {"createTime": "2025-10-09T18:38:13.485205Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:38:13.485205Z"}, "readTime": "2025-10-09T18:58:29.674421Z"}, {"document": {"createTime": "2025-10-09T11:17:22.223369Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T11:17:22.223369Z"}, "readTime": "2025-10-09T18:58:29.674421Z"}]
 LOG  âœ… Found members: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ“‹ Found memberships: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¤ Unique user IDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ‘¤ Getting user profiles for UIDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 8 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  ğŸ“ Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2",
    "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1"
  ]
}
 LOG  ğŸ”Š Haptic: selection
 LOG  ğŸ“Š Batch get response: 200 ()
 LOG  ğŸ“‹ Raw batch get results: [{"found": {"createTime": "2025-10-09T18:06:59.898608Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:57:31.611207Z"}, "readTime": "2025-10-09T18:58:30.406162Z"}, {"found": {"createTime": "2025-10-09T11:15:16.695442Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T18:35:20.935744Z"}, "readTime": "2025-10-09T18:58:30.406162Z"}]
 LOG  ğŸ‘¤ User profile for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”"}
 LOG  ğŸ‘¤ User profile for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×"}
 LOG  âœ… User profiles loaded: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ“‹ User profiles loaded: {"otmf6ZDcYigiDhogNKzrD4YRyfS2": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "uRT93ikDjjcKeSFJOGBPKlzKYzl1": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}}
 LOG  âœ… Members with profiles: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "profile": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "profile": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}, "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¥ Member data for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"email": "del@gmail.com", "name": "×œ××—×™×§×”", "profileEmail": "del@gmail.com"}
 LOG  ğŸ‘¥ Member data for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"email": "yonrotem@gmail.com", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "profileEmail": "yonrotem@gmail.com"}
 LOG  âœ… Complete apartment data: {"description": "", "id": "81KfbcHHg4DPPdodHSnm", "invite_code": "98EG2Q", "members": [{"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": "×œ××—×™×§×”", "role": "member"}, {"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "role": "member"}], "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  âœ… Got complete apartment data: {"id": "81KfbcHHg4DPPdodHSnm", "memberCount": 2, "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”Š Haptic: selection
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ§ª checklist query ctx {"aptId": "81KfbcHHg4DPPdodHSnm", "current": "81KfbcHHg4DPPdodHSnm", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ” Turn check debug: {"currentTurnUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "currentUserExists": true, "currentUserId": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "isMyTurn": false, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”„ Settings: Refreshing apartment members on mount
 LOG  ğŸ”„ Refreshing apartment members...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 8 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ  Getting complete apartment data for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ” Getting reliable apartment ID for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 8 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 8 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Checking user profile for current_apartment_id...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 8 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… Found apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”§ Ensuring current_apartment_id before getting apartment data...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 8 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“– Getting document: apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Getting auth headers...
 LOG  â³ Waiting for authentication to be ready...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 8 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Authentication is ready
 LOG  ğŸ” Token info: {"algorithm": "RS256", "email": "del@gmail.com", "expiresAt": "2025-10-09T19:06:59.000Z", "issuedAt": "2025-10-09T18:06:59.000Z", "type": "JWT", "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  âœ… Token project verified: roomies-hub
 LOG  âœ… Auth headers prepared successfully
 LOG  ğŸŒ Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  ğŸ“Š Response status: 200 ()
 LOG  âœ… Document retrieved successfully
 LOG  ğŸ‘¥ Getting apartment members with profiles for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ‘¥ Getting apartment members for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ” Firestore task debug: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "currentUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "queue": ["uRT93ikDjjcKeSFJOGBPKlzKYzl1"], "taskId": "81KfbcHHg4DPPdodHSnm"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 8 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”§ Ensuring current_apartment_id before query...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 8 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 8 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 8 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID for query: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  ğŸ“ Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "81KfbcHHg4DPPdodHSnm"
        }
      }
    }
  }
}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“Š Members query response: 200 ()
 LOG  ğŸ“‹ Raw query results: [{"document": {"createTime": "2025-10-09T18:38:13.485205Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:38:13.485205Z"}, "readTime": "2025-10-09T18:58:43.487693Z"}, {"document": {"createTime": "2025-10-09T11:17:22.223369Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T11:17:22.223369Z"}, "readTime": "2025-10-09T18:58:43.487693Z"}]
 LOG  âœ… Found members: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ“‹ Found memberships: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¤ Unique user IDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ‘¤ Getting user profiles for UIDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”Š Haptic: selection
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 8 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  ğŸ“ Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2",
    "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1"
  ]
}
 LOG  ğŸ“Š Batch get response: 200 ()
 LOG  ğŸ“‹ Raw batch get results: [{"found": {"createTime": "2025-10-09T18:06:59.898608Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:57:31.611207Z"}, "readTime": "2025-10-09T18:58:44.246223Z"}, {"found": {"createTime": "2025-10-09T11:15:16.695442Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T18:35:20.935744Z"}, "readTime": "2025-10-09T18:58:44.246223Z"}]
 LOG  ğŸ‘¤ User profile for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”"}
 LOG  ğŸ‘¤ User profile for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×"}
 LOG  âœ… User profiles loaded: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ“‹ User profiles loaded: {"otmf6ZDcYigiDhogNKzrD4YRyfS2": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "uRT93ikDjjcKeSFJOGBPKlzKYzl1": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}}
 LOG  âœ… Members with profiles: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "profile": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "profile": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}, "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¥ Member data for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"email": "del@gmail.com", "name": "×œ××—×™×§×”", "profileEmail": "del@gmail.com"}
 LOG  ğŸ‘¥ Member data for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"email": "yonrotem@gmail.com", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "profileEmail": "yonrotem@gmail.com"}
 LOG  âœ… Complete apartment data: {"description": "", "id": "81KfbcHHg4DPPdodHSnm", "invite_code": "98EG2Q", "members": [{"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": "×œ××—×™×§×”", "role": "member"}, {"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "role": "member"}], "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  âœ… Got complete apartment data: {"id": "81KfbcHHg4DPPdodHSnm", "memberCount": 2, "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ§ª checklist query ctx {"aptId": "81KfbcHHg4DPPdodHSnm", "current": "81KfbcHHg4DPPdodHSnm", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 ERROR  Warning: Text strings must be rendered within a <Text> component.

[0m [90m  5 |[39m [90m// English-only comments[39m
 [90m  6 |[39m [90m// Card wrapper that applies default background and border only if not provided[39m
[31m[1m>[22m[39m[90m  7 |[39m [36mexport[39m [36mfunction[39m [33mThemedCard[39m({ style[33m,[39m [33m...[39mrest }[33m:[39m [33mViewProps[39m) {
 [90m    |[39m                                   [31m[1m^[22m[39m
 [90m  8 |[39m   [36mconst[39m { theme } [33m=[39m useTheme()[33m;[39m
 [90m  9 |[39m   [36mconst[39m base [33m=[39m [33mReact[39m[33m.[39museMemo(
 [90m 10 |[39m     () [33m=>[39m[0m

Call Stack
  ThemedCard (src/theme/components/ThemedCard.tsx:7:35)
  Wrapper (<anonymous>)
  ThemedView (src/theme/components/ThemedView.tsx:7:35)
  ThemedView (src/theme/components/ThemedView.tsx:7:35)
  Screen (src/components/Screen.tsx:16:11)
  SettingsScreen (src/screens/SettingsScreen.tsx:28:31)
  MainTabs (src/navigation/AppNavigator.tsx:26:31)
  ScreenContentWrapper (<anonymous>)
  RNSScreenStack (<anonymous>)
  AppNavigator (src/navigation/AppNavigator.tsx:113:37)
  ThemedRoot (App.tsx:74:45)
  ThemedAlertProvider (src/components/ThemedAlert.tsx:248:47)
  ThemeProvider (src/theme/ThemeProvider.tsx:20:41)
  RNCSafeAreaProvider (<anonymous>)
  App (App.tsx:48:31)
 LOG  ğŸ”„ Settings: Refreshing apartment members on mount
 LOG  ğŸ”„ Refreshing apartment members...
 LOG  ğŸ”„ loadCleaningChecklist already in progress, skipping...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 8 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ  Getting complete apartment data for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ” Getting reliable apartment ID for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 8 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Checking user profile for current_apartment_id...
 LOG  ğŸ” Turn check debug: {"currentTurnUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "currentUserExists": true, "currentUserId": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "isMyTurn": false, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… Found apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”§ Ensuring current_apartment_id before getting apartment data...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 8 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“– Getting document: apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Getting auth headers...
 LOG  â³ Waiting for authentication to be ready...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 8 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Authentication is ready
 LOG  ğŸ” Token info: {"algorithm": "RS256", "email": "del@gmail.com", "expiresAt": "2025-10-09T19:06:59.000Z", "issuedAt": "2025-10-09T18:06:59.000Z", "type": "JWT", "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  âœ… Token project verified: roomies-hub
 LOG  âœ… Auth headers prepared successfully
 LOG  ğŸŒ Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  ğŸ“Š Response status: 200 ()
 LOG  âœ… Document retrieved successfully
 LOG  ğŸ‘¥ Getting apartment members with profiles for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ‘¥ Getting apartment members for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 8 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”§ Ensuring current_apartment_id before query...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 8 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID for query: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  ğŸ“ Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "81KfbcHHg4DPPdodHSnm"
        }
      }
    }
  }
}
 LOG  ğŸ“Š Members query response: 200 ()
 LOG  ğŸ“‹ Raw query results: [{"document": {"createTime": "2025-10-09T18:38:13.485205Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:38:13.485205Z"}, "readTime": "2025-10-09T18:58:47.559405Z"}, {"document": {"createTime": "2025-10-09T11:17:22.223369Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T11:17:22.223369Z"}, "readTime": "2025-10-09T18:58:47.559405Z"}]
 LOG  âœ… Found members: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ“‹ Found memberships: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¤ Unique user IDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ‘¤ Getting user profiles for UIDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 8 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  ğŸ“ Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2",
    "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1"
  ]
}
 LOG  ğŸ“Š Batch get response: 200 ()
 LOG  ğŸ“‹ Raw batch get results: [{"found": {"createTime": "2025-10-09T18:06:59.898608Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:57:31.611207Z"}, "readTime": "2025-10-09T18:58:48.316380Z"}, {"found": {"createTime": "2025-10-09T11:15:16.695442Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T18:35:20.935744Z"}, "readTime": "2025-10-09T18:58:48.316380Z"}]
 LOG  ğŸ‘¤ User profile for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”"}
 LOG  ğŸ‘¤ User profile for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×"}
 LOG  âœ… User profiles loaded: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ“‹ User profiles loaded: {"otmf6ZDcYigiDhogNKzrD4YRyfS2": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "uRT93ikDjjcKeSFJOGBPKlzKYzl1": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}}
 LOG  âœ… Members with profiles: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "profile": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "profile": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}, "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¥ Member data for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"email": "del@gmail.com", "name": "×œ××—×™×§×”", "profileEmail": "del@gmail.com"}
 LOG  ğŸ‘¥ Member data for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"email": "yonrotem@gmail.com", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "profileEmail": "yonrotem@gmail.com"}
 LOG  âœ… Complete apartment data: {"description": "", "id": "81KfbcHHg4DPPdodHSnm", "invite_code": "98EG2Q", "members": [{"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": "×œ××—×™×§×”", "role": "member"}, {"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "role": "member"}], "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  âœ… Got complete apartment data: {"id": "81KfbcHHg4DPPdodHSnm", "memberCount": 2, "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 ERROR  Warning: Text strings must be rendered within a <Text> component.

[0m [90m  5 |[39m [90m// English-only comments[39m
 [90m  6 |[39m [90m// Card wrapper that applies default background and border only if not provided[39m
[31m[1m>[22m[39m[90m  7 |[39m [36mexport[39m [36mfunction[39m [33mThemedCard[39m({ style[33m,[39m [33m...[39mrest }[33m:[39m [33mViewProps[39m) {
 [90m    |[39m                                   [31m[1m^[22m[39m
 [90m  8 |[39m   [36mconst[39m { theme } [33m=[39m useTheme()[33m;[39m
 [90m  9 |[39m   [36mconst[39m base [33m=[39m [33mReact[39m[33m.[39museMemo(
 [90m 10 |[39m     () [33m=>[39m[0m

Call Stack
  ThemedCard (src/theme/components/ThemedCard.tsx:7:35)
  Wrapper (<anonymous>)
  ThemedView (src/theme/components/ThemedView.tsx:7:35)
  ThemedView (src/theme/components/ThemedView.tsx:7:35)
  Screen (src/components/Screen.tsx:16:11)
  SettingsScreen (src/screens/SettingsScreen.tsx:28:31)
  MainTabs (src/navigation/AppNavigator.tsx:26:31)
  ScreenContentWrapper (<anonymous>)
  RNSScreenStack (<anonymous>)
  AppNavigator (src/navigation/AppNavigator.tsx:113:37)
  ThemedRoot (App.tsx:74:45)
  ThemedAlertProvider (src/components/ThemedAlert.tsx:248:47)
  ThemeProvider (src/theme/ThemeProvider.tsx:20:41)
  RNCSafeAreaProvider (<anonymous>)
  App (App.tsx:48:31)
 LOG  ğŸ”„ Settings: Refreshing apartment members on mount
 LOG  ğŸ”„ Refreshing apartment members...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 8 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ  Getting complete apartment data for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ” Getting reliable apartment ID for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 8 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 8 minutes
 ERROR  Warning: Text strings must be rendered within a <Text> component.

[0m [90m  5 |[39m [90m// English-only comments[39m
 [90m  6 |[39m [90m// Card wrapper that applies default background and border only if not provided[39m
[31m[1m>[22m[39m[90m  7 |[39m [36mexport[39m [36mfunction[39m [33mThemedCard[39m({ style[33m,[39m [33m...[39mrest }[33m:[39m [33mViewProps[39m) {
 [90m    |[39m                                   [31m[1m^[22m[39m
 [90m  8 |[39m   [36mconst[39m { theme } [33m=[39m useTheme()[33m;[39m
 [90m  9 |[39m   [36mconst[39m base [33m=[39m [33mReact[39m[33m.[39museMemo(
 [90m 10 |[39m     () [33m=>[39m[0m

Call Stack
  ThemedCard (src/theme/components/ThemedCard.tsx:7:35)
  Wrapper (<anonymous>)
  ThemedView (src/theme/components/ThemedView.tsx:7:35)
  ThemedView (src/theme/components/ThemedView.tsx:7:35)
  Screen (src/components/Screen.tsx:16:11)
  SettingsScreen (src/screens/SettingsScreen.tsx:28:31)
  MainTabs (src/navigation/AppNavigator.tsx:26:31)
  ScreenContentWrapper (<anonymous>)
  RNSScreenStack (<anonymous>)
  AppNavigator (src/navigation/AppNavigator.tsx:113:37)
  ThemedRoot (App.tsx:74:45)
  ThemedAlertProvider (src/components/ThemedAlert.tsx:248:47)
  ThemeProvider (src/theme/ThemeProvider.tsx:20:41)
  RNCSafeAreaProvider (<anonymous>)
  App (App.tsx:48:31)
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Checking user profile for current_apartment_id...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… Found apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”§ Ensuring current_apartment_id before getting apartment data...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 8 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 8 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“– Getting document: apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Getting auth headers...
 LOG  â³ Waiting for authentication to be ready...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 8 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Authentication is ready
 LOG  ğŸ” Token info: {"algorithm": "RS256", "email": "del@gmail.com", "expiresAt": "2025-10-09T19:06:59.000Z", "issuedAt": "2025-10-09T18:06:59.000Z", "type": "JWT", "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  âœ… Token project verified: roomies-hub
 LOG  âœ… Auth headers prepared successfully
 LOG  ğŸŒ Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  ğŸ“Š Response status: 200 ()
 LOG  âœ… Document retrieved successfully
 LOG  ğŸ‘¥ Getting apartment members with profiles for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ‘¥ Getting apartment members for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 8 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”§ Ensuring current_apartment_id before query...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 8 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ” Firestore task debug: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "currentUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "queue": ["uRT93ikDjjcKeSFJOGBPKlzKYzl1"], "taskId": "81KfbcHHg4DPPdodHSnm"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 8 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID for query: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  ğŸ“ Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "81KfbcHHg4DPPdodHSnm"
        }
      }
    }
  }
}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 8 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ“Š Members query response: 200 ()
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Raw query results: [{"document": {"createTime": "2025-10-09T18:38:13.485205Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:38:13.485205Z"}, "readTime": "2025-10-09T18:58:51.227368Z"}, {"document": {"createTime": "2025-10-09T11:17:22.223369Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T11:17:22.223369Z"}, "readTime": "2025-10-09T18:58:51.227368Z"}]
 LOG  âœ… Found members: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ“‹ Found memberships: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¤ Unique user IDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ‘¤ Getting user profiles for UIDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 8 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  ğŸ“ Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2",
    "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1"
  ]
}
 LOG  ğŸ“Š Batch get response: 200 ()
 LOG  ğŸ“‹ Raw batch get results: [{"found": {"createTime": "2025-10-09T18:06:59.898608Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:57:31.611207Z"}, "readTime": "2025-10-09T18:58:51.483407Z"}, {"found": {"createTime": "2025-10-09T11:15:16.695442Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T18:35:20.935744Z"}, "readTime": "2025-10-09T18:58:51.483407Z"}]
 LOG  ğŸ‘¤ User profile for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”"}
 LOG  ğŸ‘¤ User profile for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×"}
 LOG  âœ… User profiles loaded: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ“‹ User profiles loaded: {"otmf6ZDcYigiDhogNKzrD4YRyfS2": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "uRT93ikDjjcKeSFJOGBPKlzKYzl1": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}}
 LOG  âœ… Members with profiles: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "profile": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "profile": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}, "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¥ Member data for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"email": "del@gmail.com", "name": "×œ××—×™×§×”", "profileEmail": "del@gmail.com"}
 LOG  ğŸ‘¥ Member data for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"email": "yonrotem@gmail.com", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "profileEmail": "yonrotem@gmail.com"}
 LOG  âœ… Complete apartment data: {"description": "", "id": "81KfbcHHg4DPPdodHSnm", "invite_code": "98EG2Q", "members": [{"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": "×œ××—×™×§×”", "role": "member"}, {"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "role": "member"}], "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  âœ… Got complete apartment data: {"id": "81KfbcHHg4DPPdodHSnm", "memberCount": 2, "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ§ª checklist query ctx {"aptId": "81KfbcHHg4DPPdodHSnm", "current": "81KfbcHHg4DPPdodHSnm", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ” Turn check debug: {"currentTurnUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "currentUserExists": true, "currentUserId": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "isMyTurn": false, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”„ Settings: Refreshing apartment members on mount
 LOG  ğŸ”„ Refreshing apartment members...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 6 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ  Getting complete apartment data for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ” Getting reliable apartment ID for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 6 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 6 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Checking user profile for current_apartment_id...
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… Found apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”§ Ensuring current_apartment_id before getting apartment data...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 6 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 6 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“– Getting document: apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Getting auth headers...
 LOG  â³ Waiting for authentication to be ready...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 6 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Authentication is ready
 LOG  ğŸ” Token info: {"algorithm": "RS256", "email": "del@gmail.com", "expiresAt": "2025-10-09T19:06:59.000Z", "issuedAt": "2025-10-09T18:06:59.000Z", "type": "JWT", "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  âœ… Token project verified: roomies-hub
 LOG  âœ… Auth headers prepared successfully
 LOG  ğŸŒ Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“Š Response status: 200 ()
 LOG  âœ… Document retrieved successfully
 LOG  ğŸ‘¥ Getting apartment members with profiles for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ‘¥ Getting apartment members for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 6 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”§ Ensuring current_apartment_id before query...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 6 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ” Firestore task debug: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "currentUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "queue": ["uRT93ikDjjcKeSFJOGBPKlzKYzl1"], "taskId": "81KfbcHHg4DPPdodHSnm"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 6 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID for query: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  ğŸ“ Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "81KfbcHHg4DPPdodHSnm"
        }
      }
    }
  }
}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 6 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ“Š Members query response: 200 ()
 LOG  ğŸ“‹ Raw query results: [{"document": {"createTime": "2025-10-09T18:38:13.485205Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:38:13.485205Z"}, "readTime": "2025-10-09T19:00:06.712694Z"}, {"document": {"createTime": "2025-10-09T11:17:22.223369Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T11:17:22.223369Z"}, "readTime": "2025-10-09T19:00:06.712694Z"}]
 LOG  âœ… Found members: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ“‹ Found memberships: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¤ Unique user IDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ‘¤ Getting user profiles for UIDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 6 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  ğŸ“ Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2",
    "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1"
  ]
}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“Š Batch get response: 200 ()
 LOG  ğŸ“‹ Raw batch get results: [{"found": {"createTime": "2025-10-09T18:06:59.898608Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:57:31.611207Z"}, "readTime": "2025-10-09T19:00:06.974189Z"}, {"found": {"createTime": "2025-10-09T11:15:16.695442Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T18:35:20.935744Z"}, "readTime": "2025-10-09T19:00:06.974189Z"}]
 LOG  ğŸ‘¤ User profile for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”"}
 LOG  ğŸ‘¤ User profile for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×"}
 LOG  âœ… User profiles loaded: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ“‹ User profiles loaded: {"otmf6ZDcYigiDhogNKzrD4YRyfS2": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "uRT93ikDjjcKeSFJOGBPKlzKYzl1": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}}
 LOG  âœ… Members with profiles: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "profile": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "profile": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}, "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¥ Member data for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"email": "del@gmail.com", "name": "×œ××—×™×§×”", "profileEmail": "del@gmail.com"}
 LOG  ğŸ‘¥ Member data for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"email": "yonrotem@gmail.com", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "profileEmail": "yonrotem@gmail.com"}
 LOG  âœ… Complete apartment data: {"description": "", "id": "81KfbcHHg4DPPdodHSnm", "invite_code": "98EG2Q", "members": [{"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": "×œ××—×™×§×”", "role": "member"}, {"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "role": "member"}], "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  âœ… Got complete apartment data: {"id": "81KfbcHHg4DPPdodHSnm", "memberCount": 2, "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ§ª checklist query ctx {"aptId": "81KfbcHHg4DPPdodHSnm", "current": "81KfbcHHg4DPPdodHSnm", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ” Turn check debug: {"currentTurnUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "currentUserExists": true, "currentUserId": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "isMyTurn": false, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
iOS ./index.ts â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  0.0% (0/1)
iOS Bundled 89ms index.ts (1 module)
 LOG  ğŸ”§ Firestore debug logging enabled
 ERROR  i18next::pluralResolver: Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.
 LOG  [index] Project ID is:  6d6cd6da-7505-42d7-91fd-2928c6600b00
 LOG  ğŸš€ Initializing Firebase notifications for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸš€ Initializing Firebase Web notification service...
 LOG  ğŸ“± Mobile platform - using mock token for testing
 LOG  ğŸ“± Mock FCM Token (for testing): mock_fcm_token_1760036451480_dybs8d5ix
 LOG  ğŸ” Getting auth headers...
 LOG  â³ Waiting for authentication to be ready...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 6 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Authentication is ready
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”„ Dashboard: Loading all data from Firestore...
 LOG  ğŸ”„ Refreshing apartment members...
 LOG  ğŸ”„ Dashboard: Refreshing data on focus...
 LOG  ğŸ”„ Getting cleaning stats...
 LOG  ğŸ  MainTabs: Loading apartment data for 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”„ Refreshing apartment members...
 LOG  ğŸ”„ loadCleaningChecklist already in progress, skipping...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 6 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ” Token info: {"algorithm": "RS256", "email": "del@gmail.com", "expiresAt": "2025-10-09T19:06:59.000Z", "issuedAt": "2025-10-09T18:06:59.000Z", "type": "JWT", "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  âœ… Token project verified: roomies-hub
 LOG  âœ… Auth headers prepared successfully
 LOG  ğŸ” PATCH request details: {"body": "{
  \"fields\": {
    \"fcm_token\": {
      \"stringValue\": \"mock_fcm_token_1760036451480_dybs8d5ix\"
    },
    \"device_type\": {
      \"stringValue\": \"ios\"
    },
    \"last_seen\": {
      \"stringValue\": \"2025-10-09T19:00:51.480Z\"
    }
  }
}", "updateMaskFields": ["fcm_token", "device_type", "last_seen"], "url": "https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2?updateMask.fieldPaths=fcm_token&updateMask.fieldPaths=device_type&updateMask.fieldPaths=last_seen"}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 6 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”„ No current session, attempting to restore...
 LOG  Attempting to restore user session...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 6 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”„ No current session, attempting to restore...
 LOG  Attempting to restore user session...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 6 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”„ No current session, attempting to restore...
 LOG  Attempting to restore user session...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 6 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”„ No current session, attempting to restore...
 LOG  Attempting to restore user session...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 6 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”„ No current session, attempting to restore...
 LOG  Attempting to restore user session...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 6 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”„ No current session, attempting to restore...
 LOG  Attempting to restore user session...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 6 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”„ No current session, attempting to restore...
 LOG  Attempting to restore user session...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 6 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”„ No current session, attempting to restore...
 LOG  Attempting to restore user session...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 6 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”„ No current session, attempting to restore...
 LOG  Attempting to restore user session...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 6 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”„ No current session, attempting to restore...
 LOG  Attempting to restore user session...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 6 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 6 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 6 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 6 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 6 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 6 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 6 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 6 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 6 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 6 minutes
 LOG  âœ… ID token is valid
 LOG  Session restoration check: {"hasIdToken": true, "hasUserEmail": true, "hasUserId": true}
 LOG  Session restoration check: {"hasIdToken": true, "hasUserEmail": true, "hasUserId": true}
 LOG  Session restoration check: {"hasIdToken": true, "hasUserEmail": true, "hasUserId": true}
 LOG  Session restoration check: {"hasIdToken": true, "hasUserEmail": true, "hasUserId": true}
 LOG  Session restoration check: {"hasIdToken": true, "hasUserEmail": true, "hasUserId": true}
 LOG  Session restoration check: {"hasIdToken": true, "hasUserEmail": true, "hasUserId": true}
 LOG  Session restoration check: {"hasIdToken": true, "hasUserEmail": true, "hasUserId": true}
 LOG  Session restoration check: {"hasIdToken": true, "hasUserEmail": true, "hasUserId": true}
 LOG  Session restoration check: {"hasIdToken": true, "hasUserEmail": true, "hasUserId": true}
 LOG  Session restoration check: {"hasIdToken": true, "hasUserEmail": true, "hasUserId": true}
 LOG  User session restored successfully
 LOG  ğŸ”‘ Getting current ID token...
 LOG  User session restored successfully
 LOG  ğŸ”‘ Getting current ID token...
 LOG  User session restored successfully
 LOG  ğŸ”‘ Getting current ID token...
 LOG  User session restored successfully
 LOG  ğŸ”‘ Getting current ID token...
 LOG  User session restored successfully
 LOG  ğŸ”‘ Getting current ID token...
 LOG  User session restored successfully
 LOG  ğŸ”‘ Getting current ID token...
 LOG  User session restored successfully
 LOG  ğŸ”‘ Getting current ID token...
 LOG  User session restored successfully
 LOG  ğŸ”‘ Getting current ID token...
 LOG  User session restored successfully
 LOG  ğŸ”‘ Getting current ID token...
 LOG  User session restored successfully
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 6 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session restored: {"tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ  Getting complete apartment data for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ” Getting reliable apartment ID for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 6 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session restored: {"tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 6 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session restored: {"tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 6 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session restored: {"tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 6 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session restored: {"tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 6 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session restored: {"tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ  Getting complete apartment data for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ” Getting reliable apartment ID for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 6 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session restored: {"tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 6 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session restored: {"tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 6 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session restored: {"tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 6 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session restored: {"tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 6 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Checking user profile for current_apartment_id...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 6 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Checking user profile for current_apartment_id...
 LOG  âœ… FCM token saved to Firestore
 LOG  ğŸ“± Mobile platform - notification listeners not available in Expo Go
 LOG  âœ… Firebase Web notification service initialized successfully
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 6 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 6 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… Found apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”§ Ensuring current_apartment_id before getting apartment data...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 6 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 6 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… Found apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”§ Ensuring current_apartment_id before getting apartment data...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 6 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“Š No cleaning stats found, returning default values
 LOG  ğŸ“Š Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“– Getting document: apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Getting auth headers...
 LOG  â³ Waiting for authentication to be ready...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“– Getting document: apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Getting auth headers...
 LOG  â³ Waiting for authentication to be ready...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 6 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Authentication is ready
 LOG  ğŸ” Token info: {"algorithm": "RS256", "email": "del@gmail.com", "expiresAt": "2025-10-09T19:06:59.000Z", "issuedAt": "2025-10-09T18:06:59.000Z", "type": "JWT", "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  âœ… Token project verified: roomies-hub
 LOG  âœ… Auth headers prepared successfully
 LOG  ğŸŒ Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 6 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Authentication is ready
 LOG  ğŸ” Token info: {"algorithm": "RS256", "email": "del@gmail.com", "expiresAt": "2025-10-09T19:06:59.000Z", "issuedAt": "2025-10-09T18:06:59.000Z", "type": "JWT", "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  âœ… Token project verified: roomies-hub
 LOG  âœ… Auth headers prepared successfully
 LOG  ğŸŒ Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  ğŸ” Firestore task debug: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "currentUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "queue": ["uRT93ikDjjcKeSFJOGBPKlzKYzl1"], "taskId": "81KfbcHHg4DPPdodHSnm"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ“Š Response status: 200 ()
 LOG  ğŸ” Firestore task debug: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "currentUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "queue": ["uRT93ikDjjcKeSFJOGBPKlzKYzl1"], "taskId": "81KfbcHHg4DPPdodHSnm"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  âœ… Document retrieved successfully
 LOG  ğŸ‘¥ Getting apartment members with profiles for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ‘¥ Getting apartment members for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ” Firestore task debug: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "currentUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "queue": ["uRT93ikDjjcKeSFJOGBPKlzKYzl1"], "taskId": "81KfbcHHg4DPPdodHSnm"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 6 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 6 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”§ Ensuring current_apartment_id before query...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ“Š Response status: 200 ()
 LOG  âœ… Document retrieved successfully
 LOG  ğŸ‘¥ Getting apartment members with profiles for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ‘¥ Getting apartment members for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 6 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 6 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”§ Ensuring current_apartment_id before query...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 6 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 6 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID for query: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  ğŸ“ Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "81KfbcHHg4DPPdodHSnm"
        }
      }
    }
  }
}
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID for query: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  ğŸ“ Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "81KfbcHHg4DPPdodHSnm"
        }
      }
    }
  }
}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“Š Members query response: 200 ()
 LOG  ğŸ“‹ Raw query results: [{"document": {"createTime": "2025-10-09T18:38:13.485205Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:38:13.485205Z"}, "readTime": "2025-10-09T19:00:55.975792Z"}, {"document": {"createTime": "2025-10-09T11:17:22.223369Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T11:17:22.223369Z"}, "readTime": "2025-10-09T19:00:55.975792Z"}]
 LOG  âœ… Found members: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ“‹ Found memberships: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¤ Unique user IDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ‘¤ Getting user profiles for UIDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 6 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  ğŸ“ Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2",
    "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1"
  ]
}
 LOG  ğŸ“Š Batch get response: 200 ()
 LOG  ğŸ“Š Members query response: 200 ()
 LOG  ğŸ“‹ Raw batch get results: [{"found": {"createTime": "2025-10-09T18:06:59.898608Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T19:00:51.866880Z"}, "readTime": "2025-10-09T19:00:56.732799Z"}, {"found": {"createTime": "2025-10-09T11:15:16.695442Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T18:35:20.935744Z"}, "readTime": "2025-10-09T19:00:56.732799Z"}]
 LOG  ğŸ‘¤ User profile for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”"}
 LOG  ğŸ‘¤ User profile for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×"}
 LOG  âœ… User profiles loaded: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ“‹ User profiles loaded: {"otmf6ZDcYigiDhogNKzrD4YRyfS2": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "uRT93ikDjjcKeSFJOGBPKlzKYzl1": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}}
 LOG  âœ… Members with profiles: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "profile": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "profile": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}, "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¥ Member data for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"email": "del@gmail.com", "name": "×œ××—×™×§×”", "profileEmail": "del@gmail.com"}
 LOG  ğŸ‘¥ Member data for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"email": "yonrotem@gmail.com", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "profileEmail": "yonrotem@gmail.com"}
 LOG  âœ… Complete apartment data: {"description": "", "id": "81KfbcHHg4DPPdodHSnm", "invite_code": "98EG2Q", "members": [{"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": "×œ××—×™×§×”", "role": "member"}, {"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "role": "member"}], "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  âœ… Got complete apartment data: {"id": "81KfbcHHg4DPPdodHSnm", "memberCount": 2, "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  âœ… MainTabs: Apartment data loaded successfully
 LOG  ğŸ“‹ Raw query results: [{"document": {"createTime": "2025-10-09T18:38:13.485205Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:38:13.485205Z"}, "readTime": "2025-10-09T19:00:56.728480Z"}, {"document": {"createTime": "2025-10-09T11:17:22.223369Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T11:17:22.223369Z"}, "readTime": "2025-10-09T19:00:56.728480Z"}]
 LOG  âœ… Found members: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ“‹ Found memberships: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¤ Unique user IDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ‘¤ Getting user profiles for UIDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 6 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  ğŸ“ Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2",
    "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1"
  ]
}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ§ª checklist query ctx {"aptId": "81KfbcHHg4DPPdodHSnm", "current": "81KfbcHHg4DPPdodHSnm", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ“Š Batch get response: 200 ()
 LOG  ğŸ“‹ Raw batch get results: [{"found": {"createTime": "2025-10-09T18:06:59.898608Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T19:00:51.866880Z"}, "readTime": "2025-10-09T19:00:57.758512Z"}, {"found": {"createTime": "2025-10-09T11:15:16.695442Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T18:35:20.935744Z"}, "readTime": "2025-10-09T19:00:57.758512Z"}]
 LOG  ğŸ‘¤ User profile for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”"}
 LOG  ğŸ‘¤ User profile for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×"}
 LOG  âœ… User profiles loaded: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ“‹ User profiles loaded: {"otmf6ZDcYigiDhogNKzrD4YRyfS2": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "uRT93ikDjjcKeSFJOGBPKlzKYzl1": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}}
 LOG  âœ… Members with profiles: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "profile": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "profile": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}, "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¥ Member data for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"email": "del@gmail.com", "name": "×œ××—×™×§×”", "profileEmail": "del@gmail.com"}
 LOG  ğŸ‘¥ Member data for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"email": "yonrotem@gmail.com", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "profileEmail": "yonrotem@gmail.com"}
 LOG  âœ… Complete apartment data: {"description": "", "id": "81KfbcHHg4DPPdodHSnm", "invite_code": "98EG2Q", "members": [{"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": "×œ××—×™×§×”", "role": "member"}, {"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "role": "member"}], "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  âœ… Got complete apartment data: {"id": "81KfbcHHg4DPPdodHSnm", "memberCount": 2, "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ” Turn check debug: {"currentTurnUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "currentUserExists": true, "currentUserId": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "isMyTurn": false, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  âœ… Dashboard: Additional data loaded successfully
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 6 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 6 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”„ Backfilling cleaning stats from existing data...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 6 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 5 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 5 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Firestore task debug: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "currentUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "queue": ["uRT93ikDjjcKeSFJOGBPKlzKYzl1"], "taskId": "81KfbcHHg4DPPdodHSnm"}
 LOG  ğŸ”„ Getting cleaning stats...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 5 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“Š No cleaning stats found, returning default values
 LOG  ğŸ“Š No existing cleaning data found, initializing with 0
 LOG  âš ï¸ Skipping stats creation - no user data available
 LOG  ğŸ”„ Getting cleaning stats...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 5 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“Š No cleaning stats found, returning default values
 LOG  ğŸ“Š Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  âœ… Dashboard: Essential data loaded successfully
 LOG  ğŸ”„ Settings: Refreshing apartment members on mount
 LOG  ğŸ”„ Refreshing apartment members...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 5 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ  Getting complete apartment data for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ” Getting reliable apartment ID for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 5 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 5 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Checking user profile for current_apartment_id...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 5 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… Found apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”§ Ensuring current_apartment_id before getting apartment data...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 5 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ” Firestore task debug: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "currentUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "queue": ["uRT93ikDjjcKeSFJOGBPKlzKYzl1"], "taskId": "81KfbcHHg4DPPdodHSnm"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 5 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”Š Haptic: selection
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“– Getting document: apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Getting auth headers...
 LOG  â³ Waiting for authentication to be ready...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 5 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Authentication is ready
 LOG  ğŸ” Token info: {"algorithm": "RS256", "email": "del@gmail.com", "expiresAt": "2025-10-09T19:06:59.000Z", "issuedAt": "2025-10-09T18:06:59.000Z", "type": "JWT", "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  âœ… Token project verified: roomies-hub
 LOG  âœ… Auth headers prepared successfully
 LOG  ğŸŒ Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 5 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”Š Haptic: selection
 LOG  ğŸ“Š Response status: 200 ()
 LOG  âœ… Document retrieved successfully
 LOG  ğŸ‘¥ Getting apartment members with profiles for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ‘¥ Getting apartment members for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 5 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”§ Ensuring current_apartment_id before query...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 5 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ§ª checklist query ctx {"aptId": "81KfbcHHg4DPPdodHSnm", "current": "81KfbcHHg4DPPdodHSnm", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID for query: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  ğŸ“ Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "81KfbcHHg4DPPdodHSnm"
        }
      }
    }
  }
}
 LOG  ğŸ” Turn check debug: {"currentTurnUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "currentUserExists": true, "currentUserId": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "isMyTurn": false, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ“Š Members query response: 200 ()
 LOG  ğŸ“‹ Raw query results: [{"document": {"createTime": "2025-10-09T18:38:13.485205Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:38:13.485205Z"}, "readTime": "2025-10-09T19:01:36.088913Z"}, {"document": {"createTime": "2025-10-09T11:17:22.223369Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T11:17:22.223369Z"}, "readTime": "2025-10-09T19:01:36.088913Z"}]
 LOG  âœ… Found members: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ“‹ Found memberships: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¤ Unique user IDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ‘¤ Getting user profiles for UIDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 5 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  ğŸ“ Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2",
    "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1"
  ]
}
 LOG  ğŸ“Š Batch get response: 200 ()
 LOG  ğŸ“‹ Raw batch get results: [{"found": {"createTime": "2025-10-09T18:06:59.898608Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T19:00:51.866880Z"}, "readTime": "2025-10-09T19:01:36.799280Z"}, {"found": {"createTime": "2025-10-09T11:15:16.695442Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T18:35:20.935744Z"}, "readTime": "2025-10-09T19:01:36.799280Z"}]
 LOG  ğŸ‘¤ User profile for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”"}
 LOG  ğŸ‘¤ User profile for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×"}
 LOG  âœ… User profiles loaded: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ“‹ User profiles loaded: {"otmf6ZDcYigiDhogNKzrD4YRyfS2": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "uRT93ikDjjcKeSFJOGBPKlzKYzl1": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}}
 LOG  âœ… Members with profiles: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "profile": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "profile": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}, "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¥ Member data for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"email": "del@gmail.com", "name": "×œ××—×™×§×”", "profileEmail": "del@gmail.com"}
 LOG  ğŸ‘¥ Member data for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"email": "yonrotem@gmail.com", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "profileEmail": "yonrotem@gmail.com"}
 LOG  âœ… Complete apartment data: {"description": "", "id": "81KfbcHHg4DPPdodHSnm", "invite_code": "98EG2Q", "members": [{"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": "×œ××—×™×§×”", "role": "member"}, {"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "role": "member"}], "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  âœ… Got complete apartment data: {"id": "81KfbcHHg4DPPdodHSnm", "memberCount": 2, "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”„ Settings: Refreshing apartment members on mount
 LOG  ğŸ”„ Refreshing apartment members...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 4 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ  Getting complete apartment data for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ” Getting reliable apartment ID for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 4 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 4 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Checking user profile for current_apartment_id...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 4 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… Found apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”§ Ensuring current_apartment_id before getting apartment data...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 4 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ” Firestore task debug: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "currentUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "queue": ["uRT93ikDjjcKeSFJOGBPKlzKYzl1"], "taskId": "81KfbcHHg4DPPdodHSnm"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 4 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“– Getting document: apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Getting auth headers...
 LOG  â³ Waiting for authentication to be ready...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 4 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Authentication is ready
 LOG  ğŸ”„ Token is expiring soon, attempting refresh...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 4 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 897, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  â° Scheduled pre-refresh in 2520s
 LOG  âœ… Token refreshed successfully
 LOG  ğŸ” Token info: {"algorithm": "RS256", "email": "del@gmail.com", "expiresAt": "2025-10-09T20:02:25.000Z", "issuedAt": "2025-10-09T19:02:25.000Z", "type": "JWT", "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  âœ… Token project verified: roomies-hub
 LOG  âœ… Auth headers prepared successfully
 LOG  ğŸŒ Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  ğŸ“Š Response status: 200 ()
 LOG  âœ… Document retrieved successfully
 LOG  ğŸ‘¥ Getting apartment members with profiles for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ‘¥ Getting apartment members for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 59 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”§ Ensuring current_apartment_id before query...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 59 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ§ª checklist query ctx {"aptId": "81KfbcHHg4DPPdodHSnm", "current": "81KfbcHHg4DPPdodHSnm", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID for query: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  ğŸ“ Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "81KfbcHHg4DPPdodHSnm"
        }
      }
    }
  }
}
 LOG  ğŸ” Turn check debug: {"currentTurnUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "currentUserExists": true, "currentUserId": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "isMyTurn": false, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ“Š Members query response: 200 ()
 LOG  ğŸ“‹ Raw query results: [{"document": {"createTime": "2025-10-09T18:38:13.485205Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:38:13.485205Z"}, "readTime": "2025-10-09T19:02:27.197697Z"}, {"document": {"createTime": "2025-10-09T11:17:22.223369Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T11:17:22.223369Z"}, "readTime": "2025-10-09T19:02:27.197697Z"}]
 LOG  âœ… Found members: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ“‹ Found memberships: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¤ Unique user IDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ‘¤ Getting user profiles for UIDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 59 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  ğŸ“ Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2",
    "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1"
  ]
}
 LOG  ğŸ“Š Batch get response: 200 ()
 LOG  ğŸ“‹ Raw batch get results: [{"found": {"createTime": "2025-10-09T18:06:59.898608Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T19:00:51.866880Z"}, "readTime": "2025-10-09T19:02:27.939186Z"}, {"found": {"createTime": "2025-10-09T11:15:16.695442Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T18:35:20.935744Z"}, "readTime": "2025-10-09T19:02:27.939186Z"}]
 LOG  ğŸ‘¤ User profile for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”"}
 LOG  ğŸ‘¤ User profile for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×"}
 LOG  âœ… User profiles loaded: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ“‹ User profiles loaded: {"otmf6ZDcYigiDhogNKzrD4YRyfS2": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "uRT93ikDjjcKeSFJOGBPKlzKYzl1": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}}
 LOG  âœ… Members with profiles: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "profile": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "profile": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}, "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¥ Member data for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"email": "del@gmail.com", "name": "×œ××—×™×§×”", "profileEmail": "del@gmail.com"}
 LOG  ğŸ‘¥ Member data for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"email": "yonrotem@gmail.com", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "profileEmail": "yonrotem@gmail.com"}
 LOG  âœ… Complete apartment data: {"description": "", "id": "81KfbcHHg4DPPdodHSnm", "invite_code": "98EG2Q", "members": [{"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": "×œ××—×™×§×”", "role": "member"}, {"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "role": "member"}], "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  âœ… Got complete apartment data: {"id": "81KfbcHHg4DPPdodHSnm", "memberCount": 2, "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”„ Settings: Refreshing apartment members on mount
 LOG  ğŸ”„ Refreshing apartment members...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 59 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 926, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ  Getting complete apartment data for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ” Getting reliable apartment ID for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 59 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 926, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 59 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Checking user profile for current_apartment_id...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 59 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 926, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… Found apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”§ Ensuring current_apartment_id before getting apartment data...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 59 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ” Firestore task debug: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "currentUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "queue": ["uRT93ikDjjcKeSFJOGBPKlzKYzl1"], "taskId": "81KfbcHHg4DPPdodHSnm"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 59 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 926, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“– Getting document: apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Getting auth headers...
 LOG  â³ Waiting for authentication to be ready...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 59 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Authentication is ready
 LOG  ğŸ” Token info: {"algorithm": "RS256", "email": "del@gmail.com", "expiresAt": "2025-10-09T20:02:25.000Z", "issuedAt": "2025-10-09T19:02:25.000Z", "type": "JWT", "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  âœ… Token project verified: roomies-hub
 LOG  âœ… Auth headers prepared successfully
 LOG  ğŸŒ Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 59 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 926, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“Š Response status: 200 ()
 LOG  âœ… Document retrieved successfully
 LOG  ğŸ‘¥ Getting apartment members with profiles for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ‘¥ Getting apartment members for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 59 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”§ Ensuring current_apartment_id before query...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 59 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ§ª checklist query ctx {"aptId": "81KfbcHHg4DPPdodHSnm", "current": "81KfbcHHg4DPPdodHSnm", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID for query: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  ğŸ“ Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "81KfbcHHg4DPPdodHSnm"
        }
      }
    }
  }
}
 LOG  ğŸ” Turn check debug: {"currentTurnUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "currentUserExists": true, "currentUserId": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "isMyTurn": false, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ“Š Members query response: 200 ()
 LOG  ğŸ“‹ Raw query results: [{"document": {"createTime": "2025-10-09T18:38:13.485205Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:38:13.485205Z"}, "readTime": "2025-10-09T19:02:36.879575Z"}, {"document": {"createTime": "2025-10-09T11:17:22.223369Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T11:17:22.223369Z"}, "readTime": "2025-10-09T19:02:36.879575Z"}]
 LOG  âœ… Found members: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ“‹ Found memberships: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¤ Unique user IDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ‘¤ Getting user profiles for UIDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 59 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  ğŸ“ Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2",
    "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1"
  ]
}
 LOG  ğŸ“Š Batch get response: 200 ()
 LOG  ğŸ“‹ Raw batch get results: [{"found": {"createTime": "2025-10-09T18:06:59.898608Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T19:00:51.866880Z"}, "readTime": "2025-10-09T19:02:37.567651Z"}, {"found": {"createTime": "2025-10-09T11:15:16.695442Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T18:35:20.935744Z"}, "readTime": "2025-10-09T19:02:37.567651Z"}]
 LOG  ğŸ‘¤ User profile for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”"}
 LOG  ğŸ‘¤ User profile for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×"}
 LOG  âœ… User profiles loaded: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ“‹ User profiles loaded: {"otmf6ZDcYigiDhogNKzrD4YRyfS2": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "uRT93ikDjjcKeSFJOGBPKlzKYzl1": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}}
 LOG  âœ… Members with profiles: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "profile": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "profile": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}, "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¥ Member data for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"email": "del@gmail.com", "name": "×œ××—×™×§×”", "profileEmail": "del@gmail.com"}
 LOG  ğŸ‘¥ Member data for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"email": "yonrotem@gmail.com", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "profileEmail": "yonrotem@gmail.com"}
 LOG  âœ… Complete apartment data: {"description": "", "id": "81KfbcHHg4DPPdodHSnm", "invite_code": "98EG2Q", "members": [{"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": "×œ××—×™×§×”", "role": "member"}, {"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "role": "member"}], "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  âœ… Got complete apartment data: {"id": "81KfbcHHg4DPPdodHSnm", "memberCount": 2, "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”„ Settings: Refreshing apartment members on mount
 LOG  ğŸ”„ Refreshing apartment members...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 59 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 926, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ  Getting complete apartment data for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ” Getting reliable apartment ID for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 59 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 926, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 59 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Checking user profile for current_apartment_id...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 59 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 926, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… Found apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”§ Ensuring current_apartment_id before getting apartment data...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 59 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“– Getting document: apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Getting auth headers...
 LOG  â³ Waiting for authentication to be ready...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 59 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Authentication is ready
 LOG  ğŸ” Token info: {"algorithm": "RS256", "email": "del@gmail.com", "expiresAt": "2025-10-09T20:02:25.000Z", "issuedAt": "2025-10-09T19:02:25.000Z", "type": "JWT", "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  âœ… Token project verified: roomies-hub
 LOG  âœ… Auth headers prepared successfully
 LOG  ğŸŒ Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  ğŸ” Firestore task debug: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "currentUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "queue": ["uRT93ikDjjcKeSFJOGBPKlzKYzl1"], "taskId": "81KfbcHHg4DPPdodHSnm"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 59 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 926, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ“Š Response status: 200 ()
 LOG  âœ… Document retrieved successfully
 LOG  ğŸ‘¥ Getting apartment members with profiles for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ‘¥ Getting apartment members for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 59 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”§ Ensuring current_apartment_id before query...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 59 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 59 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 926, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID for query: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  ğŸ“ Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "81KfbcHHg4DPPdodHSnm"
        }
      }
    }
  }
}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“Š Members query response: 200 ()
 LOG  ğŸ“‹ Raw query results: [{"document": {"createTime": "2025-10-09T18:38:13.485205Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:38:13.485205Z"}, "readTime": "2025-10-09T19:02:49.353726Z"}, {"document": {"createTime": "2025-10-09T11:17:22.223369Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T11:17:22.223369Z"}, "readTime": "2025-10-09T19:02:49.353726Z"}]
 LOG  âœ… Found members: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ“‹ Found memberships: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¤ Unique user IDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ‘¤ Getting user profiles for UIDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 59 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  ğŸ“ Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2",
    "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1"
  ]
}
 LOG  ğŸ“Š Batch get response: 200 ()
 LOG  ğŸ“‹ Raw batch get results: [{"found": {"createTime": "2025-10-09T18:06:59.898608Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T19:00:51.866880Z"}, "readTime": "2025-10-09T19:02:49.599544Z"}, {"found": {"createTime": "2025-10-09T11:15:16.695442Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T18:35:20.935744Z"}, "readTime": "2025-10-09T19:02:49.599544Z"}]
 LOG  ğŸ‘¤ User profile for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”"}
 LOG  ğŸ‘¤ User profile for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×"}
 LOG  âœ… User profiles loaded: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ“‹ User profiles loaded: {"otmf6ZDcYigiDhogNKzrD4YRyfS2": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "uRT93ikDjjcKeSFJOGBPKlzKYzl1": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}}
 LOG  âœ… Members with profiles: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "profile": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "profile": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}, "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¥ Member data for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"email": "del@gmail.com", "name": "×œ××—×™×§×”", "profileEmail": "del@gmail.com"}
 LOG  ğŸ‘¥ Member data for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"email": "yonrotem@gmail.com", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "profileEmail": "yonrotem@gmail.com"}
 LOG  âœ… Complete apartment data: {"description": "", "id": "81KfbcHHg4DPPdodHSnm", "invite_code": "98EG2Q", "members": [{"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": "×œ××—×™×§×”", "role": "member"}, {"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "role": "member"}], "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  âœ… Got complete apartment data: {"id": "81KfbcHHg4DPPdodHSnm", "memberCount": 2, "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ§ª checklist query ctx {"aptId": "81KfbcHHg4DPPdodHSnm", "current": "81KfbcHHg4DPPdodHSnm", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ” Turn check debug: {"currentTurnUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "currentUserExists": true, "currentUserId": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "isMyTurn": false, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 ERROR  SyntaxError: /home/user/workspace/src/screens/SettingsScreen.tsx: Unterminated JSX contents. (834:13)

  832 |       />
  833 |       </ScrollView>
> 834 |     </Screen>
      |              ^
  835 |   );
  836 | }
  837 |
 ERROR  [Error: TransformError SyntaxError: /home/user/workspace/src/screens/SettingsScreen.tsx: Unterminated JSX contents. (834:13)

[0m [90m 832 |[39m       [33m/[39m[33m>[39m
 [90m 833 |[39m       [33m<[39m[33m/[39m[33mScrollView[39m[33m>[39m
[31m[1m>[22m[39m[90m 834 |[39m     [33m<[39m[33m/[39m[33mScreen[39m[33m>[39m
 [90m     |[39m              [31m[1m^[22m[39m
 [90m 835 |[39m   )[33m;[39m
 [90m 836 |[39m }
 [90m 837 |[39m[0m]
 LOG  ğŸ”„ Settings: Refreshing apartment members on mount
 LOG  ğŸ”„ Refreshing apartment members...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 59 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 926, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ  Getting complete apartment data for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ” Getting reliable apartment ID for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 59 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 926, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 59 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Checking user profile for current_apartment_id...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… Found apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”§ Ensuring current_apartment_id before getting apartment data...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 59 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 926, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 59 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“– Getting document: apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Getting auth headers...
 LOG  â³ Waiting for authentication to be ready...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 59 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Authentication is ready
 LOG  ğŸ” Token info: {"algorithm": "RS256", "email": "del@gmail.com", "expiresAt": "2025-10-09T20:02:25.000Z", "issuedAt": "2025-10-09T19:02:25.000Z", "type": "JWT", "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  âœ… Token project verified: roomies-hub
 LOG  âœ… Auth headers prepared successfully
 LOG  ğŸŒ Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  ğŸ“Š Response status: 200 ()
 LOG  âœ… Document retrieved successfully
 LOG  ğŸ‘¥ Getting apartment members with profiles for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ‘¥ Getting apartment members for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ” Firestore task debug: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "currentUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "queue": ["uRT93ikDjjcKeSFJOGBPKlzKYzl1"], "taskId": "81KfbcHHg4DPPdodHSnm"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 59 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”§ Ensuring current_apartment_id before query...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 59 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 926, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 59 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 59 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 926, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID for query: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  ğŸ“ Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "81KfbcHHg4DPPdodHSnm"
        }
      }
    }
  }
}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“Š Members query response: 200 ()
 LOG  ğŸ“‹ Raw query results: [{"document": {"createTime": "2025-10-09T18:38:13.485205Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:38:13.485205Z"}, "readTime": "2025-10-09T19:03:20.796466Z"}, {"document": {"createTime": "2025-10-09T11:17:22.223369Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T11:17:22.223369Z"}, "readTime": "2025-10-09T19:03:20.796466Z"}]
 LOG  âœ… Found members: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ“‹ Found memberships: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¤ Unique user IDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ‘¤ Getting user profiles for UIDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 59 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  ğŸ“ Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2",
    "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1"
  ]
}
 LOG  ğŸ“Š Batch get response: 200 ()
 LOG  ğŸ“‹ Raw batch get results: [{"found": {"createTime": "2025-10-09T18:06:59.898608Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T19:00:51.866880Z"}, "readTime": "2025-10-09T19:03:21.023580Z"}, {"found": {"createTime": "2025-10-09T11:15:16.695442Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T18:35:20.935744Z"}, "readTime": "2025-10-09T19:03:21.023580Z"}]
 LOG  ğŸ‘¤ User profile for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”"}
 LOG  ğŸ‘¤ User profile for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×"}
 LOG  âœ… User profiles loaded: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ“‹ User profiles loaded: {"otmf6ZDcYigiDhogNKzrD4YRyfS2": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "uRT93ikDjjcKeSFJOGBPKlzKYzl1": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}}
 LOG  âœ… Members with profiles: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "profile": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "profile": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}, "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¥ Member data for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"email": "del@gmail.com", "name": "×œ××—×™×§×”", "profileEmail": "del@gmail.com"}
 LOG  ğŸ‘¥ Member data for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"email": "yonrotem@gmail.com", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "profileEmail": "yonrotem@gmail.com"}
 LOG  âœ… Complete apartment data: {"description": "", "id": "81KfbcHHg4DPPdodHSnm", "invite_code": "98EG2Q", "members": [{"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": "×œ××—×™×§×”", "role": "member"}, {"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "role": "member"}], "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  âœ… Got complete apartment data: {"id": "81KfbcHHg4DPPdodHSnm", "memberCount": 2, "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ§ª checklist query ctx {"aptId": "81KfbcHHg4DPPdodHSnm", "current": "81KfbcHHg4DPPdodHSnm", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ” Turn check debug: {"currentTurnUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "currentUserExists": true, "currentUserId": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "isMyTurn": false, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”„ Settings: Refreshing apartment members on mount
 LOG  ğŸ”„ Refreshing apartment members...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 58 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 926, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ  Getting complete apartment data for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ” Getting reliable apartment ID for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 58 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 926, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 58 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Checking user profile for current_apartment_id...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… Found apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”§ Ensuring current_apartment_id before getting apartment data...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 58 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 926, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 58 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“– Getting document: apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Getting auth headers...
 LOG  â³ Waiting for authentication to be ready...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 58 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Authentication is ready
 LOG  ğŸ” Token info: {"algorithm": "RS256", "email": "del@gmail.com", "expiresAt": "2025-10-09T20:02:25.000Z", "issuedAt": "2025-10-09T19:02:25.000Z", "type": "JWT", "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  âœ… Token project verified: roomies-hub
 LOG  âœ… Auth headers prepared successfully
 LOG  ğŸŒ Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  ğŸ“Š Response status: 200 ()
 LOG  âœ… Document retrieved successfully
 LOG  ğŸ‘¥ Getting apartment members with profiles for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ‘¥ Getting apartment members for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 58 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”§ Ensuring current_apartment_id before query...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 58 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ” Firestore task debug: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "currentUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "queue": ["uRT93ikDjjcKeSFJOGBPKlzKYzl1"], "taskId": "81KfbcHHg4DPPdodHSnm"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 58 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 926, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID for query: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  ğŸ“ Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "81KfbcHHg4DPPdodHSnm"
        }
      }
    }
  }
}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 58 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 926, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ“Š Members query response: 200 ()
 LOG  ğŸ“‹ Raw query results: [{"document": {"createTime": "2025-10-09T18:38:13.485205Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:38:13.485205Z"}, "readTime": "2025-10-09T19:03:46.333876Z"}, {"document": {"createTime": "2025-10-09T11:17:22.223369Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T11:17:22.223369Z"}, "readTime": "2025-10-09T19:03:46.333876Z"}]
 LOG  âœ… Found members: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ“‹ Found memberships: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¤ Unique user IDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ‘¤ Getting user profiles for UIDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 58 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  ğŸ“ Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2",
    "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1"
  ]
}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“Š Batch get response: 200 ()
 LOG  ğŸ“‹ Raw batch get results: [{"found": {"createTime": "2025-10-09T18:06:59.898608Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T19:00:51.866880Z"}, "readTime": "2025-10-09T19:03:46.617534Z"}, {"found": {"createTime": "2025-10-09T11:15:16.695442Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T18:35:20.935744Z"}, "readTime": "2025-10-09T19:03:46.617534Z"}]
 LOG  ğŸ‘¤ User profile for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”"}
 LOG  ğŸ‘¤ User profile for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×"}
 LOG  âœ… User profiles loaded: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ“‹ User profiles loaded: {"otmf6ZDcYigiDhogNKzrD4YRyfS2": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "uRT93ikDjjcKeSFJOGBPKlzKYzl1": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}}
 LOG  âœ… Members with profiles: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "profile": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "profile": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}, "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¥ Member data for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"email": "del@gmail.com", "name": "×œ××—×™×§×”", "profileEmail": "del@gmail.com"}
 LOG  ğŸ‘¥ Member data for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"email": "yonrotem@gmail.com", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "profileEmail": "yonrotem@gmail.com"}
 LOG  âœ… Complete apartment data: {"description": "", "id": "81KfbcHHg4DPPdodHSnm", "invite_code": "98EG2Q", "members": [{"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": "×œ××—×™×§×”", "role": "member"}, {"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "role": "member"}], "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  âœ… Got complete apartment data: {"id": "81KfbcHHg4DPPdodHSnm", "memberCount": 2, "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ§ª checklist query ctx {"aptId": "81KfbcHHg4DPPdodHSnm", "current": "81KfbcHHg4DPPdodHSnm", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ” Turn check debug: {"currentTurnUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "currentUserExists": true, "currentUserId": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "isMyTurn": false, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 ERROR  SyntaxError: /home/user/workspace/src/screens/SettingsScreen.tsx: Expected corresponding JSX closing tag for <Screen>. (785:6)

  783 |         </View>
  784 |       </ScrollView>
> 785 |       </Pressable>
      |       ^
  786 |
  787 |       {/* Modals - outside Pressable to prevent closing on modal interaction */}
  788 |       <ConfirmModal
 ERROR  [Error: TransformError SyntaxError: /home/user/workspace/src/screens/SettingsScreen.tsx: Expected corresponding JSX closing tag for <Screen>. (785:6)

[0m [90m 783 |[39m         [33m<[39m[33m/[39m[33mView[39m[33m>[39m
 [90m 784 |[39m       [33m<[39m[33m/[39m[33mScrollView[39m[33m>[39m
[31m[1m>[22m[39m[90m 785 |[39m       [33m<[39m[33m/[39m[33mPressable[39m[33m>[39m
 [90m     |[39m       [31m[1m^[22m[39m
 [90m 786 |[39m
 [90m 787 |[39m       {[90m/* Modals - outside Pressable to prevent closing on modal interaction */[39m}
 [90m 788 |[39m       [33m<[39m[33mConfirmModal[39m[0m]
 LOG  ğŸ”„ Settings: Refreshing apartment members on mount
 LOG  ğŸ”„ Refreshing apartment members...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 58 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 926, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ  Getting complete apartment data for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ” Getting reliable apartment ID for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 58 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 926, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 58 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Checking user profile for current_apartment_id...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… Found apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”§ Ensuring current_apartment_id before getting apartment data...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 58 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 926, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 58 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“– Getting document: apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Getting auth headers...
 LOG  â³ Waiting for authentication to be ready...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 58 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Authentication is ready
 LOG  ğŸ” Token info: {"algorithm": "RS256", "email": "del@gmail.com", "expiresAt": "2025-10-09T20:02:25.000Z", "issuedAt": "2025-10-09T19:02:25.000Z", "type": "JWT", "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  âœ… Token project verified: roomies-hub
 LOG  âœ… Auth headers prepared successfully
 LOG  ğŸŒ Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  ğŸ” Firestore task debug: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "currentUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "queue": ["uRT93ikDjjcKeSFJOGBPKlzKYzl1"], "taskId": "81KfbcHHg4DPPdodHSnm"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 58 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 926, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ“Š Response status: 200 ()
 LOG  âœ… Document retrieved successfully
 LOG  ğŸ‘¥ Getting apartment members with profiles for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ‘¥ Getting apartment members for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 58 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”§ Ensuring current_apartment_id before query...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 58 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID for query: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  ğŸ“ Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "81KfbcHHg4DPPdodHSnm"
        }
      }
    }
  }
}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 58 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 926, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“Š Members query response: 200 ()
 LOG  ğŸ“‹ Raw query results: [{"document": {"createTime": "2025-10-09T18:38:13.485205Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:38:13.485205Z"}, "readTime": "2025-10-09T19:04:20.172309Z"}, {"document": {"createTime": "2025-10-09T11:17:22.223369Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T11:17:22.223369Z"}, "readTime": "2025-10-09T19:04:20.172309Z"}]
 LOG  âœ… Found members: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ“‹ Found memberships: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¤ Unique user IDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ‘¤ Getting user profiles for UIDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 58 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  ğŸ“ Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2",
    "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1"
  ]
}
 LOG  ğŸ“Š Batch get response: 200 ()
 LOG  ğŸ“‹ Raw batch get results: [{"found": {"createTime": "2025-10-09T18:06:59.898608Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T19:00:51.866880Z"}, "readTime": "2025-10-09T19:04:20.440626Z"}, {"found": {"createTime": "2025-10-09T11:15:16.695442Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T18:35:20.935744Z"}, "readTime": "2025-10-09T19:04:20.440626Z"}]
 LOG  ğŸ‘¤ User profile for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”"}
 LOG  ğŸ‘¤ User profile for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×"}
 LOG  âœ… User profiles loaded: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ“‹ User profiles loaded: {"otmf6ZDcYigiDhogNKzrD4YRyfS2": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "uRT93ikDjjcKeSFJOGBPKlzKYzl1": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}}
 LOG  âœ… Members with profiles: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "profile": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "profile": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}, "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¥ Member data for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"email": "del@gmail.com", "name": "×œ××—×™×§×”", "profileEmail": "del@gmail.com"}
 LOG  ğŸ‘¥ Member data for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"email": "yonrotem@gmail.com", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "profileEmail": "yonrotem@gmail.com"}
 LOG  âœ… Complete apartment data: {"description": "", "id": "81KfbcHHg4DPPdodHSnm", "invite_code": "98EG2Q", "members": [{"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": "×œ××—×™×§×”", "role": "member"}, {"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "role": "member"}], "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  âœ… Got complete apartment data: {"id": "81KfbcHHg4DPPdodHSnm", "memberCount": 2, "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ§ª checklist query ctx {"aptId": "81KfbcHHg4DPPdodHSnm", "current": "81KfbcHHg4DPPdodHSnm", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ” Turn check debug: {"currentTurnUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "currentUserExists": true, "currentUserId": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "isMyTurn": false, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”Š Haptic: selection
 LOG  ğŸ”Š Haptic: selection
 LOG  ğŸ”Š Haptic: selection
 LOG  ğŸ”„ Settings: Refreshing apartment members on mount
 LOG  ğŸ”„ Refreshing apartment members...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 57 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 926, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ  Getting complete apartment data for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ” Getting reliable apartment ID for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 57 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 926, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 57 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Checking user profile for current_apartment_id...
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… Found apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”§ Ensuring current_apartment_id before getting apartment data...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 57 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 57 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 926, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“– Getting document: apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Getting auth headers...
 LOG  â³ Waiting for authentication to be ready...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 57 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Authentication is ready
 LOG  ğŸ” Token info: {"algorithm": "RS256", "email": "del@gmail.com", "expiresAt": "2025-10-09T20:02:25.000Z", "issuedAt": "2025-10-09T19:02:25.000Z", "type": "JWT", "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  âœ… Token project verified: roomies-hub
 LOG  âœ… Auth headers prepared successfully
 LOG  ğŸŒ Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  ğŸ“Š Response status: 200 ()
 LOG  âœ… Document retrieved successfully
 LOG  ğŸ‘¥ Getting apartment members with profiles for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ‘¥ Getting apartment members for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ” Firestore task debug: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "currentUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "queue": ["uRT93ikDjjcKeSFJOGBPKlzKYzl1"], "taskId": "81KfbcHHg4DPPdodHSnm"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 57 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”§ Ensuring current_apartment_id before query...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 57 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 926, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 57 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID for query: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  ğŸ“ Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "81KfbcHHg4DPPdodHSnm"
        }
      }
    }
  }
}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 57 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 926, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ“Š Members query response: 200 ()
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Raw query results: [{"document": {"createTime": "2025-10-09T18:38:13.485205Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:38:13.485205Z"}, "readTime": "2025-10-09T19:04:36.886049Z"}, {"document": {"createTime": "2025-10-09T11:17:22.223369Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T11:17:22.223369Z"}, "readTime": "2025-10-09T19:04:36.886049Z"}]
 LOG  âœ… Found members: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ“‹ Found memberships: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¤ Unique user IDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ‘¤ Getting user profiles for UIDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 57 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  ğŸ“ Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2",
    "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1"
  ]
}
 LOG  ğŸ“Š Batch get response: 200 ()
 LOG  ğŸ“‹ Raw batch get results: [{"found": {"createTime": "2025-10-09T18:06:59.898608Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T19:00:51.866880Z"}, "readTime": "2025-10-09T19:04:37.168354Z"}, {"found": {"createTime": "2025-10-09T11:15:16.695442Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T18:35:20.935744Z"}, "readTime": "2025-10-09T19:04:37.168354Z"}]
 LOG  ğŸ‘¤ User profile for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”"}
 LOG  ğŸ‘¤ User profile for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×"}
 LOG  âœ… User profiles loaded: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ“‹ User profiles loaded: {"otmf6ZDcYigiDhogNKzrD4YRyfS2": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "uRT93ikDjjcKeSFJOGBPKlzKYzl1": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}}
 LOG  âœ… Members with profiles: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "profile": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "profile": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}, "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¥ Member data for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"email": "del@gmail.com", "name": "×œ××—×™×§×”", "profileEmail": "del@gmail.com"}
 LOG  ğŸ‘¥ Member data for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"email": "yonrotem@gmail.com", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "profileEmail": "yonrotem@gmail.com"}
 LOG  âœ… Complete apartment data: {"description": "", "id": "81KfbcHHg4DPPdodHSnm", "invite_code": "98EG2Q", "members": [{"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": "×œ××—×™×§×”", "role": "member"}, {"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "role": "member"}], "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  âœ… Got complete apartment data: {"id": "81KfbcHHg4DPPdodHSnm", "memberCount": 2, "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ§ª checklist query ctx {"aptId": "81KfbcHHg4DPPdodHSnm", "current": "81KfbcHHg4DPPdodHSnm", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ” Turn check debug: {"currentTurnUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "currentUserExists": true, "currentUserId": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "isMyTurn": false, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”„ Settings: Refreshing apartment members on mount
 LOG  ğŸ”„ Refreshing apartment members...
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 57 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 926, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ  Getting complete apartment data for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ” Getting reliable apartment ID for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 57 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 926, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 57 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Checking user profile for current_apartment_id...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 57 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 926, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… Found apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”§ Ensuring current_apartment_id before getting apartment data...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 57 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“– Getting document: apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Getting auth headers...
 LOG  â³ Waiting for authentication to be ready...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 57 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Authentication is ready
 LOG  ğŸ” Token info: {"algorithm": "RS256", "email": "del@gmail.com", "expiresAt": "2025-10-09T20:02:25.000Z", "issuedAt": "2025-10-09T19:02:25.000Z", "type": "JWT", "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  âœ… Token project verified: roomies-hub
 LOG  âœ… Auth headers prepared successfully
 LOG  ğŸŒ Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  ğŸ“Š Response status: 200 ()
 LOG  ğŸ” Firestore task debug: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "currentUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "queue": ["uRT93ikDjjcKeSFJOGBPKlzKYzl1"], "taskId": "81KfbcHHg4DPPdodHSnm"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  âœ… Document retrieved successfully
 LOG  ğŸ‘¥ Getting apartment members with profiles for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ‘¥ Getting apartment members for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 57 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 926, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 57 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”§ Ensuring current_apartment_id before query...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 57 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 57 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 926, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID for query: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  ğŸ“ Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "81KfbcHHg4DPPdodHSnm"
        }
      }
    }
  }
}
 LOG  ğŸ“Š Members query response: 200 ()
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Raw query results: [{"document": {"createTime": "2025-10-09T18:38:13.485205Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:38:13.485205Z"}, "readTime": "2025-10-09T19:04:46.007287Z"}, {"document": {"createTime": "2025-10-09T11:17:22.223369Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T11:17:22.223369Z"}, "readTime": "2025-10-09T19:04:46.007287Z"}]
 LOG  âœ… Found members: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ“‹ Found memberships: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¤ Unique user IDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ‘¤ Getting user profiles for UIDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 57 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  ğŸ“ Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2",
    "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1"
  ]
}
 LOG  ğŸ“Š Batch get response: 200 ()
 LOG  ğŸ“‹ Raw batch get results: [{"found": {"createTime": "2025-10-09T18:06:59.898608Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T19:00:51.866880Z"}, "readTime": "2025-10-09T19:04:46.246261Z"}, {"found": {"createTime": "2025-10-09T11:15:16.695442Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T18:35:20.935744Z"}, "readTime": "2025-10-09T19:04:46.246261Z"}]
 LOG  ğŸ‘¤ User profile for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”"}
 LOG  ğŸ‘¤ User profile for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×"}
 LOG  âœ… User profiles loaded: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ“‹ User profiles loaded: {"otmf6ZDcYigiDhogNKzrD4YRyfS2": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "uRT93ikDjjcKeSFJOGBPKlzKYzl1": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}}
 LOG  âœ… Members with profiles: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "profile": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "profile": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}, "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¥ Member data for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"email": "del@gmail.com", "name": "×œ××—×™×§×”", "profileEmail": "del@gmail.com"}
 LOG  ğŸ‘¥ Member data for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"email": "yonrotem@gmail.com", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "profileEmail": "yonrotem@gmail.com"}
 LOG  âœ… Complete apartment data: {"description": "", "id": "81KfbcHHg4DPPdodHSnm", "invite_code": "98EG2Q", "members": [{"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": "×œ××—×™×§×”", "role": "member"}, {"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "role": "member"}], "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  âœ… Got complete apartment data: {"id": "81KfbcHHg4DPPdodHSnm", "memberCount": 2, "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ§ª checklist query ctx {"aptId": "81KfbcHHg4DPPdodHSnm", "current": "81KfbcHHg4DPPdodHSnm", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 57 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 926, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ” Turn check debug: {"currentTurnUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "currentUserExists": true, "currentUserId": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "isMyTurn": false, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 57 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 926, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 57 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 926, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 57 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 926, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 57 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 926, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Firestore task debug: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "currentUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "queue": ["uRT93ikDjjcKeSFJOGBPKlzKYzl1"], "taskId": "81KfbcHHg4DPPdodHSnm"}
 LOG  ğŸ” Firestore task debug: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "currentUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "queue": ["uRT93ikDjjcKeSFJOGBPKlzKYzl1"], "taskId": "81KfbcHHg4DPPdodHSnm"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 57 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 926, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”„ Dashboard: Refreshing data on focus...
 LOG  ğŸ”„ loadCleaningChecklist already in progress, skipping...
 LOG  ğŸ”„ Getting cleaning stats...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 57 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 926, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 57 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 926, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 57 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 926, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 57 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 926, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 57 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 926, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“Š No cleaning stats found, returning default values
 LOG  ğŸ“Š Loaded cleaning stats: {"lastUpdated": null, "perUser": {}, "totalCleans": 0}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ§ª checklist query ctx {"aptId": "81KfbcHHg4DPPdodHSnm", "current": "81KfbcHHg4DPPdodHSnm", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ” Firestore task debug: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "currentUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "queue": ["uRT93ikDjjcKeSFJOGBPKlzKYzl1"], "taskId": "81KfbcHHg4DPPdodHSnm"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  âœ… Dashboard: Additional data loaded successfully
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 57 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 926, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ” Turn check debug: {"currentTurnUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "currentUserExists": true, "currentUserId": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "isMyTurn": false, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}
 LOG  Dashboard RTL Debug: {"I18nManagerIsRTL": false, "isRTL": true, "language": "he"}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 57 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 926, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Firestore task debug: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "currentUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "queue": ["uRT93ikDjjcKeSFJOGBPKlzKYzl1"], "taskId": "81KfbcHHg4DPPdodHSnm"}
iOS ./index.ts â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  0.0% (0/1)
iOS Bundled 93ms index.ts (1 module)
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ”„ Settings: Refreshing apartment members on mount
 LOG  ğŸ”„ Refreshing apartment members...
 LOG  ğŸ  MainTabs: Loading apartment data for 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”„ Refreshing apartment members...
 LOG  ğŸ”„ loadCleaningChecklist already in progress, skipping...
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 56 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 926, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ  Getting complete apartment data for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ” Getting reliable apartment ID for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 56 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 926, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 56 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 926, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ  Getting complete apartment data for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ” Getting reliable apartment ID for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 56 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 926, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 56 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 926, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 56 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 926, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 56 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 926, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 56 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Checking user profile for current_apartment_id...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 56 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Checking user profile for current_apartment_id...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… Found apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”§ Ensuring current_apartment_id before getting apartment data...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 56 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 926, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 56 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… Found apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”§ Ensuring current_apartment_id before getting apartment data...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 56 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 56 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 926, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“– Getting document: apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Getting auth headers...
 LOG  â³ Waiting for authentication to be ready...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 56 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Authentication is ready
 LOG  ğŸ” Token info: {"algorithm": "RS256", "email": "del@gmail.com", "expiresAt": "2025-10-09T20:02:25.000Z", "issuedAt": "2025-10-09T19:02:25.000Z", "type": "JWT", "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  âœ… Token project verified: roomies-hub
 LOG  âœ… Auth headers prepared successfully
 LOG  ğŸŒ Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“– Getting document: apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Getting auth headers...
 LOG  â³ Waiting for authentication to be ready...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 56 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Authentication is ready
 LOG  ğŸ” Token info: {"algorithm": "RS256", "email": "del@gmail.com", "expiresAt": "2025-10-09T20:02:25.000Z", "issuedAt": "2025-10-09T19:02:25.000Z", "type": "JWT", "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  âœ… Token project verified: roomies-hub
 LOG  âœ… Auth headers prepared successfully
 LOG  ğŸŒ Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  ğŸ“Š Response status: 200 ()
 LOG  ğŸ” Firestore task debug: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "currentUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "queue": ["uRT93ikDjjcKeSFJOGBPKlzKYzl1"], "taskId": "81KfbcHHg4DPPdodHSnm"}
 LOG  âœ… Document retrieved successfully
 LOG  ğŸ‘¥ Getting apartment members with profiles for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ‘¥ Getting apartment members for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ” Firestore task debug: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "currentUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "queue": ["uRT93ikDjjcKeSFJOGBPKlzKYzl1"], "taskId": "81KfbcHHg4DPPdodHSnm"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 55 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”§ Ensuring current_apartment_id before query...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 55 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 926, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 55 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ“Š Response status: 200 ()
 LOG  âœ… Document retrieved successfully
 LOG  ğŸ‘¥ Getting apartment members with profiles for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ‘¥ Getting apartment members for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 55 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”§ Ensuring current_apartment_id before query...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 55 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID for query: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  ğŸ“ Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "81KfbcHHg4DPPdodHSnm"
        }
      }
    }
  }
}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 55 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 926, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID for query: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  ğŸ“ Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "81KfbcHHg4DPPdodHSnm"
        }
      }
    }
  }
}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“Š Members query response: 200 ()
 LOG  ğŸ“‹ Raw query results: [{"document": {"createTime": "2025-10-09T18:38:13.485205Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:38:13.485205Z"}, "readTime": "2025-10-09T19:06:26.412681Z"}, {"document": {"createTime": "2025-10-09T11:17:22.223369Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T11:17:22.223369Z"}, "readTime": "2025-10-09T19:06:26.412681Z"}]
 LOG  âœ… Found members: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ“‹ Found memberships: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¤ Unique user IDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ‘¤ Getting user profiles for UIDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 55 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  ğŸ“ Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2",
    "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1"
  ]
}
 LOG  ğŸ“Š Members query response: 200 ()
 LOG  ğŸ“‹ Raw query results: [{"document": {"createTime": "2025-10-09T18:38:13.485205Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:38:13.485205Z"}, "readTime": "2025-10-09T19:06:26.639626Z"}, {"document": {"createTime": "2025-10-09T11:17:22.223369Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T11:17:22.223369Z"}, "readTime": "2025-10-09T19:06:26.639626Z"}]
 LOG  âœ… Found members: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ“‹ Found memberships: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¤ Unique user IDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ‘¤ Getting user profiles for UIDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 55 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  ğŸ“ Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2",
    "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1"
  ]
}
 LOG  ğŸ“Š Batch get response: 200 ()
 LOG  ğŸ“‹ Raw batch get results: [{"found": {"createTime": "2025-10-09T18:06:59.898608Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T19:00:51.866880Z"}, "readTime": "2025-10-09T19:06:26.675522Z"}, {"found": {"createTime": "2025-10-09T11:15:16.695442Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T18:35:20.935744Z"}, "readTime": "2025-10-09T19:06:26.675522Z"}]
 LOG  ğŸ‘¤ User profile for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”"}
 LOG  ğŸ‘¤ User profile for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×"}
 LOG  âœ… User profiles loaded: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ“‹ User profiles loaded: {"otmf6ZDcYigiDhogNKzrD4YRyfS2": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "uRT93ikDjjcKeSFJOGBPKlzKYzl1": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}}
 LOG  âœ… Members with profiles: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "profile": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "profile": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}, "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¥ Member data for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"email": "del@gmail.com", "name": "×œ××—×™×§×”", "profileEmail": "del@gmail.com"}
 LOG  ğŸ‘¥ Member data for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"email": "yonrotem@gmail.com", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "profileEmail": "yonrotem@gmail.com"}
 LOG  âœ… Complete apartment data: {"description": "", "id": "81KfbcHHg4DPPdodHSnm", "invite_code": "98EG2Q", "members": [{"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": "×œ××—×™×§×”", "role": "member"}, {"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "role": "member"}], "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  âœ… Got complete apartment data: {"id": "81KfbcHHg4DPPdodHSnm", "memberCount": 2, "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ“Š Batch get response: 200 ()
 LOG  ğŸ“‹ Raw batch get results: [{"found": {"createTime": "2025-10-09T18:06:59.898608Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T19:00:51.866880Z"}, "readTime": "2025-10-09T19:06:26.892222Z"}, {"found": {"createTime": "2025-10-09T11:15:16.695442Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T18:35:20.935744Z"}, "readTime": "2025-10-09T19:06:26.892222Z"}]
 LOG  ğŸ‘¤ User profile for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”"}
 LOG  ğŸ‘¤ User profile for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×"}
 LOG  âœ… User profiles loaded: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ“‹ User profiles loaded: {"otmf6ZDcYigiDhogNKzrD4YRyfS2": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "uRT93ikDjjcKeSFJOGBPKlzKYzl1": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}}
 LOG  âœ… Members with profiles: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "profile": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "profile": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}, "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¥ Member data for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"email": "del@gmail.com", "name": "×œ××—×™×§×”", "profileEmail": "del@gmail.com"}
 LOG  ğŸ‘¥ Member data for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"email": "yonrotem@gmail.com", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "profileEmail": "yonrotem@gmail.com"}
 LOG  âœ… Complete apartment data: {"description": "", "id": "81KfbcHHg4DPPdodHSnm", "invite_code": "98EG2Q", "members": [{"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": "×œ××—×™×§×”", "role": "member"}, {"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "role": "member"}], "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  âœ… Got complete apartment data: {"id": "81KfbcHHg4DPPdodHSnm", "memberCount": 2, "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  âœ… MainTabs: Apartment data loaded successfully
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ§ª checklist query ctx {"aptId": "81KfbcHHg4DPPdodHSnm", "current": "81KfbcHHg4DPPdodHSnm", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ” Turn check debug: {"currentTurnUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "currentUserExists": true, "currentUserId": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "isMyTurn": false, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}
 LOG  ğŸ”§ Firestore debug logging enabled
 ERROR  i18next::pluralResolver: Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.
 LOG  [index] Project ID is:  6d6cd6da-7505-42d7-91fd-2928c6600b00
 LOG  ğŸ” initializing state changed to: true
 LOG  ğŸ” Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": true, "isNewUserRegistration": false, "mode": "select"}
 LOG  ğŸ‘¤ WelcomeScreen: No user present, immediately showing auth screen
 LOG  ğŸ” setInitializing(false) called from: no user present
 LOG  ğŸ‘¤ WelcomeScreen: No user present, skipping timeout
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": false, "isNewUserRegistration": false, "mode": "select"}
 LOG  ğŸ”Š Haptic: selection
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ” initializing state changed to: true
 LOG  ğŸ” Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": true, "isNewUserRegistration": false, "mode": "select"}
 LOG  ğŸ‘¤ WelcomeScreen: No user present, immediately showing auth screen
 LOG  ğŸ” setInitializing(false) called from: no user present
 LOG  ğŸ‘¤ WelcomeScreen: No user present, skipping timeout
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": false, "isNewUserRegistration": false, "mode": "select"}
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ  MainTabs: Loading apartment data for 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”„ Refreshing apartment members...
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 55 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 926, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ  Getting complete apartment data for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ” Getting reliable apartment ID for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 55 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 926, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 55 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 926, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 55 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 926, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 55 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 926, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 55 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 926, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 55 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Checking user profile for current_apartment_id...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… Found apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”§ Ensuring current_apartment_id before getting apartment data...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 55 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 926, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 55 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 926, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 55 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“– Getting document: apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Getting auth headers...
 LOG  â³ Waiting for authentication to be ready...
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 55 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Authentication is ready
 LOG  ğŸ” Token info: {"algorithm": "RS256", "email": "del@gmail.com", "expiresAt": "2025-10-09T20:02:25.000Z", "issuedAt": "2025-10-09T19:02:25.000Z", "type": "JWT", "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  âœ… Token project verified: roomies-hub
 LOG  âœ… Auth headers prepared successfully
 LOG  ğŸŒ Request URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents/apartments/81KfbcHHg4DPPdodHSnm
 LOG  ğŸ” Headers: {"Authorization": "Bearer [TOKEN]", "Content-Type": "application/json"}
 LOG  ğŸ” Firestore task debug: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "currentUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "queue": ["uRT93ikDjjcKeSFJOGBPKlzKYzl1"], "taskId": "81KfbcHHg4DPPdodHSnm"}
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ” Firestore task debug: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "currentUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "queue": ["uRT93ikDjjcKeSFJOGBPKlzKYzl1"], "taskId": "81KfbcHHg4DPPdodHSnm"}
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 55 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 926, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ“Š Response status: 200 ()
 LOG  âœ… Document retrieved successfully
 LOG  ğŸ‘¥ Getting apartment members with profiles for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ‘¥ Getting apartment members for: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 55 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ”§ Ensuring current_apartment_id before query...
 LOG  ğŸ”§ Ensuring current_apartment_id for user: otmf6ZDcYigiDhogNKzrD4YRyfS2
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 55 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Step 1: Reading user profile...
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 55 minutes
 LOG  âœ… ID token is valid
 LOG  âœ… Session available: {"hasToken": true, "hasUid": true, "tokenLength": 926, "tokenPreview": "eyJhbGciOiJSUzI1NiIs...", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "uidLength": 28}
 LOG  ğŸ“‹ Current apartment ID in profile: 81KfbcHHg4DPPdodHSnm
 LOG  âœ… current_apartment_id is already set correctly
 LOG  âœ… Using ensured apartment ID for query: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“‹ Query URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:runQuery
 LOG  ğŸ“ Query body: {
  "structuredQuery": {
    "from": [
      {
        "collectionId": "apartmentMembers"
      }
    ],
    "where": {
      "fieldFilter": {
        "field": {
          "fieldPath": "apartment_id"
        },
        "op": "EQUAL",
        "value": {
          "stringValue": "81KfbcHHg4DPPdodHSnm"
        }
      }
    }
  }
}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ“Š Members query response: 200 ()
 LOG  ğŸ“‹ Raw query results: [{"document": {"createTime": "2025-10-09T18:38:13.485205Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T18:38:13.485205Z"}, "readTime": "2025-10-09T19:06:38.345070Z"}, {"document": {"createTime": "2025-10-09T11:17:22.223369Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/apartmentMembers/81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T11:17:22.223369Z"}, "readTime": "2025-10-09T19:06:38.345070Z"}]
 LOG  ğŸ” initializing state changed to: true
 LOG  âœ… Found members: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ“‹ Found memberships: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¤ Unique user IDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ‘¤ Getting user profiles for UIDs: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ”‘ Getting current ID token...
 LOG  ğŸ”‘ Stored ID token: Present (eyJhbGciOiJSUzI1NiIs...)
 LOG  â° Token expires in 55 minutes
 LOG  âœ… ID token is valid
 LOG  ğŸ“‹ Batch get URL: https://firestore.googleapis.com/v1/projects/roomies-hub/databases/(default)/documents:batchGet
 LOG  ğŸ“ Batch get body: {
  "documents": [
    "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2",
    "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1"
  ]
}
 LOG  ğŸ“Š Batch get response: 200 ()
 LOG  ğŸ“‹ Raw batch get results: [{"found": {"createTime": "2025-10-09T18:06:59.898608Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/otmf6ZDcYigiDhogNKzrD4YRyfS2", "updateTime": "2025-10-09T19:00:51.866880Z"}, "readTime": "2025-10-09T19:06:38.619214Z"}, {"found": {"createTime": "2025-10-09T11:15:16.695442Z", "fields": [Object], "name": "projects/roomies-hub/databases/(default)/documents/users/uRT93ikDjjcKeSFJOGBPKlzKYzl1", "updateTime": "2025-10-09T18:35:20.935744Z"}, "readTime": "2025-10-09T19:06:38.619214Z"}]
 LOG  ğŸ‘¤ User profile for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”"}
 LOG  ğŸ‘¤ User profile for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×"}
 LOG  âœ… User profiles loaded: ["otmf6ZDcYigiDhogNKzrD4YRyfS2", "uRT93ikDjjcKeSFJOGBPKlzKYzl1"]
 LOG  ğŸ“‹ User profiles loaded: {"otmf6ZDcYigiDhogNKzrD4YRyfS2": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "uRT93ikDjjcKeSFJOGBPKlzKYzl1": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}}
 LOG  âœ… Members with profiles: [{"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_otmf6ZDcYigiDhogNKzrD4YRyfS2", "joined_at": "2025-10-09T18:38:12.838Z", "profile": {"displayName": undefined, "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "full_name": "×œ××—×™×§×”", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": undefined}, "role": "member", "user_id": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}, {"apartment_id": "81KfbcHHg4DPPdodHSnm", "id": "81KfbcHHg4DPPdodHSnm_uRT93ikDjjcKeSFJOGBPKlzKYzl1", "joined_at": "2025-10-09T11:17:21.940Z", "profile": {"displayName": undefined, "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "full_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": undefined}, "role": "member", "user_id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}]
 LOG  ğŸ‘¥ Member data for otmf6ZDcYigiDhogNKzrD4YRyfS2: {"email": "del@gmail.com", "name": "×œ××—×™×§×”", "profileEmail": "del@gmail.com"}
 LOG  ğŸ‘¥ Member data for uRT93ikDjjcKeSFJOGBPKlzKYzl1: {"email": "yonrotem@gmail.com", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "profileEmail": "yonrotem@gmail.com"}
 LOG  âœ… Complete apartment data: {"description": "", "id": "81KfbcHHg4DPPdodHSnm", "invite_code": "98EG2Q", "members": [{"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×œ××—×™×§×”", "email": "del@gmail.com", "id": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "name": "×œ××—×™×§×”", "role": "member"}, {"current_apartment_id": "81KfbcHHg4DPPdodHSnm", "display_name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "email": "yonrotem@gmail.com", "id": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "name": "×™×•× ×ª×Ÿ ×¨×•×ª×", "role": "member"}], "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  âœ… Got complete apartment data: {"id": "81KfbcHHg4DPPdodHSnm", "memberCount": 2, "name": "××©×¤×—×ª ×¨×•×ª×"}
 LOG  ğŸ” Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": true, "isNewUserRegistration": false, "mode": "select"}
 LOG  ğŸ‘¤ WelcomeScreen: No user present, immediately showing auth screen
 LOG  ğŸ” setInitializing(false) called from: no user present
 LOG  ğŸ‘¤ WelcomeScreen: No user present, skipping timeout
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": false, "isNewUserRegistration": false, "mode": "select"}
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ” getUserCurrentApartmentId - user profile response: {"apartmentIdLength": 20, "apartmentIdType": "string", "apartmentIdValue": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartmentId": true, "hasFields": true, "status": 200}
 LOG  âœ… Found apartment ID in user profile: 81KfbcHHg4DPPdodHSnm
 LOG  ğŸ§ª checklist query ctx {"aptId": "81KfbcHHg4DPPdodHSnm", "current": "81KfbcHHg4DPPdodHSnm", "uid": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ” Turn check debug: {"currentTurnUserId": "uRT93ikDjjcKeSFJOGBPKlzKYzl1", "currentUserExists": true, "currentUserId": "otmf6ZDcYigiDhogNKzrD4YRyfS2", "isMyTurn": false, "taskCurrentTurn": undefined, "taskExists": true, "taskUserField": "uRT93ikDjjcKeSFJOGBPKlzKYzl1"}
 LOG  âœ… MainTabs: Apartment data loaded successfully
 LOG  ğŸ” initializing state changed to: true
 LOG  ğŸ” Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": true, "isNewUserRegistration": false, "mode": "select"}
 LOG  ğŸ‘¤ WelcomeScreen: No user present, immediately showing auth screen
 LOG  ğŸ” setInitializing(false) called from: no user present
 LOG  ğŸ‘¤ WelcomeScreen: No user present, skipping timeout
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": false, "isNewUserRegistration": false, "mode": "select"}
 LOG  ğŸ”Š Haptic: selection
 LOG  ğŸ” initializing state changed to: true
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ” Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": true, "isNewUserRegistration": false, "mode": "select"}
 LOG  ğŸ‘¤ WelcomeScreen: No user present, immediately showing auth screen
 LOG  ğŸ” setInitializing(false) called from: no user present
 LOG  ğŸ‘¤ WelcomeScreen: No user present, skipping timeout
 LOG  ğŸ” initializing state changed to: false
 LOG  ğŸ” Current state values: {"currentUser": false, "disableFirestoreForNewUsers": false, "initializing": false, "isNewUserRegistration": false, "mode": "select"}
 LOG  ğŸ”Š Haptic: selection
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ”Š Haptic: selection
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ”Š Haptic: selection
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
 LOG  ğŸ”Š Haptic: selection
 LOG  ğŸšª AppNavigator: Navigation decision: {"apartmentId": "81KfbcHHg4DPPdodHSnm", "hasCurrentApartment": true, "hasUser": true, "hasValidApartmentId": true, "showWelcome": false, "userId": "otmf6ZDcYigiDhogNKzrD4YRyfS2"}
iOS ./index.ts â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  0.0% (0/1)
iOS Bundled 91ms index.ts (1 module)
